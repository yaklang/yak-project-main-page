(self.webpackChunkbear_fe=self.webpackChunkbear_fe||[]).push([[64918,40999],{923527:function(e,t,n){"use strict";var r;n.d(t,{r:function(){return r}}),function(e){e[e.WEB=0]="WEB",e[e.CLIENT=1]="CLIENT",e[e.ANDRIOD=2]="ANDRIOD",e[e.IOS=3]="IOS",e[e.LARK=4]="LARK",e[e.OTHER=5]="OTHER",e[e.SYNC_DISK=6]="SYNC_DISK",e[e.WPS=7]="WPS"}(r||(r={}))},411767:function(e,t,n){"use strict";n.d(t,{iC:function(){return i},k2:function(){return a},EA:function(){return c},lA:function(){return _},C5:function(){return E},O4:function(){return l},JB:function(){return f},SI:function(){return d},nG:function(){return T},lb:function(){return p}});var r=n(284113),o=n(360851);function i(){return(0,o.mV)("pdf_range_chunk_size",65536)}function a(){return(0,o.k8)("upload_version_disable")}var c=(0,o.k8)("secure_link_enable"),u=Boolean((0,r.l7)().fileWebOfficeDomain);function s(){return!!l()||u}function _(){return(0,o.k8)("wps_edit")&&s()}function E(){return(0,o.k8)("wps_preview")&&s()}function l(){return(0,o.k8)("ccm.drive.mid_wps")}function f(){return(0,o.cb)("create_wps_ppt")&&u}var d=function(){return(0,o.tL)("drive.pdf.outline_enabled")},T=function(){var e=(0,o.cY)("ccm_drive_bgp_config");return e&&e.drive_bgp_api},p=function(){return(0,o.k8)("ccm.drive.fast_pdf")}},26124:function(e,t,n){"use strict";var r=n(204328);t.Z=Object.assign({GET_FILE_INFO:"GET_FILE_INFO",GET_MULTI_FILE_INFO:"GET_MULTI_FILE_INFO",GET_TREE_NODES:"GET_TREE_NODES"},(0,r.DJ)("UPDATE_FILE_INFO",!1),{GET_PREVIEW_URL:"GET_PREVIEW_URL",GET_TEMPORARY_DOWNLOAD_URL:"GET_TEMPORARY_DOWNLOAD_URL",GET_PREVIEW_SOURCE:"GET_PREVIEW_SOURCE",CREATE_DRIVE_IMPORT_TASK:"CREATE_DRIVE_IMPORT_TASK"},(0,r.DJ)("CHECK_PARSER_STATUS",!1),{},(0,r.DJ)("DELETE_FILE_VERSION",!1),{},(0,r.DJ)("GET_FILE_HISTORY",!1),{},(0,r.DJ)("GET_TAGGED_FILE_HISTORY",!1),{},(0,r.DJ)("GET_LATEST_FILE_HISTORY",!1),{},(0,r.DJ)("RESTORE_FILE_VERSION",!1),{MARK_VERSION_AS_DELETED:"MARK_VERSION_AS_DELETED",RESET_FILE_HISTORY:"RESET_FILE_HISTORY",UPDATE_VERSION_SEED:"UPDATE_VERSION_SEED",FILE_VERSION_LIST_FILTERED:"FILE_VERSION_LIST_FILTERED",SET_IS_PREVIEW_HISTORY:"SET_IS_PREVIEW_HISTORY",SET_IS_BOX_RENDERED:"SET_IS_BOX_RENDERED",SET_FILE_FIND:"SET_FILE_FIND",SET_PDF_PRINT:"SET_PDF_PRINT",SET_PREVIEW_SDK_DOWNLOAD:"SET_PREVIEW_SDK_DOWNLOAD",SET_IFRAME_LAYER_SHOW:"SET_IFRAME_LAYER_SHOW",SET_EXPANDED_PANEL:"SET_EXPANDED_PANEL",TOGGLE_FILE_INFO_PANEL:"TOGGLE_FILE_INFO_PANEL",FILE_NAME_UPDATED:"FILE_NAME_UPDATED",SET_IS_WPS_ON:"SET_IS_WPS_ON",SINGLE_UPLOAD_SUCCESS:"SINGLE_UPLOAD_SUCCESS",THROTTLE_UPLOAD_SUCCESS:"THROTTLE_UPLOAD_SUCCESS"})},891683:function(e,t,n){"use strict";n.d(t,{mu:function(){return _},pi:function(){return E},hr:function(){return l},Ix:function(){return f},eF:function(){return d},pg:function(){return p},I7:function(){return S},B6:function(){return I},yF:function(){return O},OX:function(){return R},Ey:function(){return m},zg:function(){return A},Ac:function(){return C}});var r=n(774561),o=n(357081),i=n(481382),a=n(339956),c=n(193231),u=n(169573),s={"Content-Type":"application/json"},_=function(e){var t=Date.now();return(0,r.Z)({type:o.Hp.box.GET_MULTI_FILE_INFO},i.REQUEST,{headers:s,url:o.mb.POST_BOX_MULTI_FILE_INFO,method:o.mb.METHOD.POST,data:{files:e},options:{transformResponse:function(e){return Object.assign({},e,{costTime:Date.now()-t})}}})},E=function(e){var t=Date.now();return(0,r.Z)({type:o.Hp.box.GET_TREE_NODES},i.REQUEST,{headers:s,url:o.mb.GET_TREE_NODE_V2,method:o.mb.METHOD.POST,data:{node_tokens:e},options:{transformResponse:function(e){return Object.assign({},e,{costTime:Date.now()-t})}}})},l=function(e){var t=e.fileToken,n=e.caller,a=e.mountPoint,u=e.mountNodeToken,_=e.version,E=Date.now();return(0,r.Z)({type:o.Hp.box.GET_FILE_INFO},i.REQUEST,{headers:s,url:o.mb.POST_BOX_FILE_INFO,method:o.mb.METHOD.POST,data:(0,c.w)({file_token:t,mount_point:a,mount_node_token:u,version:_,caller:n}),options:{transformResponse:function(e){return Object.assign({},e,{costTime:Date.now()-E})}}})},f=function(e){var t=e.fileToken,n=e.name,a=e.version,u=e.memberId;return(0,r.Z)({type:o.Hp.box.UPDATE_FILE_INFO},i.REQUEST,{headers:s,url:o.mb.POST_BOX_UPDATE_FILE_INFO,method:o.mb.METHOD.POST,data:(0,c.w)({file_token:t,name:n,source_version:a,member_id:u||void 0})})},d=function(e,t,n){return(0,r.Z)({type:o.Hp.box.DELETE_FILE_VERSION},i.REQUEST,{headers:s,url:o.mb.POST_BOX_FILE_DELETE_VERSION,method:o.mb.METHOD.POST,data:{file_token:e,version:t,member_id:n}})},T=function(e,t){var n,a=t.fileToken,_=t.pageSize,E=void 0===_?20:_,l=t.lastEditTime,f=t.isAsc,d=t.onlyTag;return n={type:e},(0,r.Z)(n,i.REQUEST,{headers:s,url:o.mb.POST_BOX_FILE_HISTORY,method:o.mb.METHOD.POST,data:(0,c.w)({file_token:a,page_size:E,last_edit_time:l,is_asc:f,only_tag:d}),options:{transformResponse:function(e){return Object.assign({},e,{fileToken:a})}}}),(0,r.Z)(n,u.Xh,(function(e){return e.payload.users})),n},p=function(e){return T(o.Hp.box.GET_FILE_HISTORY,e)},S=function(e){return T(o.Hp.box.GET_TAGGED_FILE_HISTORY,Object.assign({},e,{onlyTag:!0}))},I=function(e){return T(o.Hp.box.GET_LATEST_FILE_HISTORY,Object.assign({},e,{pageSize:1}))},O=function(e,t,n){return(0,r.Z)({type:o.Hp.box.RESTORE_FILE_VERSION},i.REQUEST,{headers:s,url:o.mb.POST_BOX_FILE_REVERT,method:o.mb.METHOD.POST,data:{file_token:e,version:t,member_id:n}})},R=function(e){return(0,r.Z)({type:o.Hp.box.CREATE_DRIVE_IMPORT_TASK},i.REQUEST,{headers:{"Content-Type":"application/json"},url:o.mb.CREATE_IMPORT_TASK,method:o.mb.METHOD.POST,data:{file_token:e.fileToken,type:e.type,file_extension:e.fileExtension,point:e.point,event_source:e.eventSource}})},m=function(e){return(0,r.Z)({type:o.Hp.box.CHECK_PARSER_STATUS},i.REQUEST,{url:o.mb.GET_IMPORT_RESULT+e,method:o.mb.METHOD.GET})},A=function(e){var t=e.version,n=e.commentId;return(0,r.Z)({type:o.Hp.comment.boxComment.FETCH_BOX_COMMENTS},i.REQUEST,{url:o.mb.GET_BOX_COMMENT,method:o.mb.METHOD.GET,headers:s,params:(0,c.w)({file_token:(0,a.LP)(),comment_id:n,version:t})})},C=function(e){var t=e.fileToken,n=void 0===t?(0,a.LP)():t,c=e.version,u=e.commentId,_=e.extra;return(0,r.Z)({type:o.Hp.comment.boxComment.FETCH_ADD_BOX_COMMENT},i.REQUEST,{url:o.mb.POST_BOX_ADD_COMMENT,method:o.mb.METHOD.POST,headers:s,data:{extra:_,version:c,comment_id:u,file_token:n}})}},401579:function(e,t,n){"use strict";n.d(t,{uf:function(){return h},wx:function(){return T},km:function(){return d},lm:function(){return u.l},Lm:function(){return S},UO:function(){return u.U},Qf:function(){return p},sL:function(){return N},QF:function(){return v},O:function(){return D},zo:function(){return m},d9:function(){return O},TY:function(){return R},Te:function(){return I},m3:function(){return A},rP:function(){return C}});var r=n(298652),o=n(193301),i=n(102389),a=n(198224),c=n(620713),u=n(822107),s=n(555548),_=n(77112),E=n(581034),l=n(671914),f=n(193231);function d(e){var t=e.fileToken,n=e.mountPoint,r=e.version,o=(0,_.ZL)("/api/box/stream/download/all/".concat(t,"/")),i=(0,f.w)({mount_node_token:n&&n.token,mount_point:n&&n.type,version:r});return o+(0,l.x9)(i)}function T(e){var t=e.fileToken,n=e.mountPoint,r=e.coverOptions,o=(0,_.ZL)("/api/box/stream/download/v2/cover/".concat(t,"/")),i=(0,f.w)({mount_node_token:n&&n.token,mount_point:n&&n.type,width:r&&r.width,height:r&&r.height,policy:r&&r.policy,shape:r&&r.shape,fallback_source:r&&r.fallback_source});return o+(0,l.x9)(i)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!(0,o.default)(e))return"";var n=e;return n<1024?"".concat(Math.round(n)," B"):(n/=1024)<1024?"".concat(n.toFixed(t)," KB"):(n/=1024)<1024?"".concat(n.toFixed(t)," MB"):(n/=1024)<1024?"".concat(n.toFixed(t)," GB"):"".concat((n/=1024).toFixed(t)," TB")}function S(e){var t=(0,u.l)(e),n={image:(0,r.Z)(a.s),video:(0,r.Z)(a.t),audio:(0,r.Z)(a.u),txt:(0,r.Z)(a.v),word:(0,r.Z)(a.w),excel:(0,r.Z)(a.f),ppt:(0,r.Z)(a.x),code:(0,r.Z)(a.r)};return Object.keys(n).find((function(e){return n[e].includes(t)}))||t}function I(e){return a.c.includes(e.toLowerCase())}function O(e){return a.o.includes(e.toLowerCase())}function R(e){return a.m.includes(e.toLowerCase())}function m(e){return a.z.includes(e.toLowerCase())}var A=function(e){return Array.isArray(e)?e.map((function(e){switch(e&&e.type){case c.uO.NewVersion:return new c.qC(e);case c.uO.RenameFile:return new c.aT(e);case c.uO.DeleteVersion:return new c._J(e);case c.uO.RestoreVersion:return new c.VC(e);default:return null}})).filter((function(e){return e})):[]},C=function(e,t){var n=e.map((function(e){return e.get("version")}));return t.filter((function(e){return e&&!n.includes(e.get("version"))}))};function h(e){return"number"!=typeof e||e<1e4?e:"zh"===(0,E.G3)()?"".concat((0,i.Z)(e/1e4,1),"万"):"".concat((0,i.Z)(e/1e3,1),"K")}function v(e){if(!e.render_config)return{};try{var t=e.render_config;return"string"==typeof e.render_config&&(t=JSON.parse(e.render_config)),{"--top-border-bg-color":t&&t.show_top_border?t.top_border_color:"transparent"}}catch(e){return{}}}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,u.l)(e);return a.s.includes(t)?a.s:a.t.includes(t)?a.t:a.u.includes(t)?a.u:a.w.includes(t)?a.w:a.f.includes(t)?a.f:a.x.includes(t)?a.x:t===a.k.PDF?[a.k.PDF]:void 0}function N(e){return a.s.includes(e)?s.Bk.IMAGE:s.Bk.FILE}},598498:function(e,t,n){"use strict";n.r(t),n.d(t,{LOCATION_CHANGE:function(){return r}});var r="@@router/LOCATION_CHANGE"},435990:function(e,t,n){"use strict";n.r(t),n.d(t,{HIDE_FINDBAR:function(){return r},FREEZE_SPREAD_TOGGLE:function(){return o},HIDE_HYPER_LINK_EDITOR:function(){return i},REOPEN_SHEET_COMMENT:function(){return a},HIDE_DROPDOWN_MENU:function(){return c},HIDE_FILTER_MENU:function(){return u},SET_EMBED_SHEET_ALLOW_COMMENT:function(){return s},EXPORT_FILE:function(){return _},CONTENT_VISIBLE:function(){return E},TOGGLE_HISTORY:function(){return l},TOGGLE_TITLE_FOCUS_STATUS:function(){return f},TOGGLE_HISTORY_COMMENT:function(){return d}});var r="HIDE_FINDBAR",o="FREEZE_SPREAD_TOGGLE",i="HIDE_HYPER_LINK_EDITOR",a="REOPEN_SHEET_COMMENT",c="HIDE_DROPDOWN_MENU",u="HIDE_FILTER_MENU",s="SET_EMBED_SHEET_ALLOW_COMMENT",_="EXPORT_FILE",E="CONTENT_VISIBLE",l="TOGGLE_HISTORY",f="TOGGLE_TITLE_FOCUS_STATUS",d="TOGGLE_HISTORY_COMMENT"},358376:function(e,t,n){"use strict";var r,o,i;n.d(t,{u2:function(){return r},dE:function(){return o},Gj:function(){return i}}),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.GET_FAIL=1]="GET_FAIL",e[e.SET_FAIL_WHEN_CREAT=2]="SET_FAIL_WHEN_CREAT",e[e.NO_SECURITY=3]="NO_SECURITY"}(r||(r={})),function(e){e[e.UNABLE=0]="UNABLE",e[e.ABLE=1]="ABLE"}(o||(o={})),function(e){e[e.SUITE=0]="SUITE",e[e.HOME=1]="HOME",e[e.MY=2]="MY",e[e.SHARE=3]="SHARE",e[e.COLLECT=4]="COLLECT",e[e.SHARED_FOLDER=5]="SHARED_FOLDER",e[e.FOLDER=6]="FOLDER",e[e.PERSONAL_FOLDER=7]="PERSONAL_FOLDER",e[e.PIN_SMALL_GRID=8]="PIN_SMALL_GRID"}(i||(i={}))},429511:function(e,t,n){"use strict";n.d(t,{I:function(){return r}});var r={FILE:"file",WIKI:"wiki",WIKI_SPACE:"wiki/space",WIKI_TRASH:"wiki/trash",WIKI_SETTING:"wiki/setting",FOLDER:"folder",TRASH:"trash",SHARE_FILES:"share-files",SHARE_FOLDERS:"share-folder",DRIVE_PREFIX:"drive",SPACE_PREFIX:"space",DOCX:"docx",DOC:"docs",SHEET:"sheets",SLIDE:"slides",MINDNOTE:"mindnotes",BITABLE:"base",DOC_OLD:"doc",SHEET_OLD:"sheet",SLIDE_OLD:"slide",MINDNOTE_OLD:"mindnote",BITABLE_OLD:"bitable"}},682578:function(e,t,n){"use strict";n.d(t,{F:function(){return u},I:function(){return s}});var r,o=n(774561),i=n(259579),a=n(812083),c=n(60618),u=(r={},(0,o.Z)(r,i.j.FORBIDDEN,c("error.doc.no_permission")),(0,o.Z)(r,i.j.NOTE_DELETED,c("common.docuement_deleted")),(0,o.Z)(r,i.j.RELOAD_FROM_THIRD_PARTY,c("CreationDoc_Operation_ReloadfromThirdParty")),(0,o.Z)(r,i.j.CUSTOM_MAX_CREATE_SIZE,c("explorer.v3.custom_max_create_size")),(0,o.Z)(r,i.j.NO_TEMPLATE_PERMISSION,c("explorer.v3.Template_NoPermissionToast")),(0,o.Z)(r,i.j.TEMPLATE_HAD_BEEN_DELETED,c("explorer.v3.Template_NoPermissionToast")),(0,o.Z)(r,i.j.DASHBOARD_MAKE_COPY_ERROR,c("Bitable_Dashboard_UnableToMakeACopy")),(0,o.Z)(r,i.j.USE_PERMISSION_LARK_ONLY,c("CreationDoc_Template_OnlyEditorCanUse_Hover")),(0,o.Z)(r,a.MULTI_GEO_MIGRATION_FORBIDDEN,c("CreationDoc_MultiGeo_900004230")),(0,o.Z)(r,a.MULTI_GEO_CROSS_TENANT_AND_UNIT_ERROR,c("CreationDoc_MultiGeo_900004510")),(0,o.Z)(r,a.MULTI_GEO_CROSS_BRAND_ERROR,c("CreationDoc_MultiGeo_900004511")),r),s=c("common.create_failed")},107621:function(e,t,n){"use strict";n.d(t,{Oc:function(){return c},$J:function(){return u},Zl:function(){return s}});var r=n(357081),o=n(60618),i=new RegExp(/_FAIL$/),a=new RegExp(/_SUCCESS$/),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o("action.successfully_redo");return{type:r.Hp.toast.TOAST_SHOW,toastConfig:{type:"success",content:e}}};function u(e){return"function"!=typeof e&&a.test(e.type)}function s(e){return"function"!=typeof e&&i.test(e.type)}},790445:function(e,t,n){"use strict";n.d(t,{TM:function(){return r},iB:function(){return o},KR:function(){return i},Zg:function(){return a},Q3:function(){return c}});var r=function(){var e;return(e=n(913629)).validateVersion.apply(e,arguments)},o=function(){return n(182213).wO("N00-FG")},i=function(){var e;return(e=n(268374)).getWikiSpaceAndNodeDataFromTemplate.apply(e,arguments)},a=function(){var e;return(e=n(539828)).showReLoginModal.apply(e,arguments)},c=function(){var e;return(e=n(47627).Z).renderDocAllFail.apply(e,arguments)}},284113:function(e,t,n){"use strict";n.d(t,{Hi:function(){return s},Sk:function(){return _},zF:function(){return E},W0:function(){return l},MI:function(){return f},k8:function(){return d},Y2:function(){return T},l7:function(){return p},TI:function(){return S},s2:function(){return I},TS:function(){return O},KH:function(){return u.KH},Rv:function(){return R},PE:function(){return m},BH:function(){return h},PP:function(){return D},rt:function(){return y},CI:function(){return P},ki:function(){return g},y8:function(){return M},LR:function(){return b},vo:function(){return k},zY:function(){return w},R8:function(){return H},u_:function(){return U},kf:function(){return F},m0:function(){return Z},yj:function(){return x},mb:function(){return B},WG:function(){return W},op:function(){return G},j1:function(){return V},OQ:function(){return j},r8:function(){return Y},He:function(){return J},IR:function(){return X},d_:function(){return q}});var r=n(922081),o=n(359980),i=n(742097),a=n(406005),c=n(45496),u=n(916061);function s(){return(0,o.default)(window,"globalConfig")}function _(){return(0,o.default)(window,"globalConfig.overload_static_domain")}function E(){return(0,o.default)(window,"globalConfig.space_api")}function l(){return(0,o.default)(window,"globalConfig.drive_api")}function f(){return(0,o.default)(window,"globalConfig.nearby_drive_api")}function d(){return(0,o.default)(window,"globalConfig.common",{})}function T(){return(0,o.default)(window,"globalConfig.common.channel","")}function p(){return(0,o.default)(window,"globalConfig.paramsConfig",{})}function S(){return(0,o.default)(window,"globalConfig.common.domainPool",[])}function I(){return(0,o.default)(window,"globalConfig.urlMapper",{})}function O(){return(0,o.default)(window,"local",{})}function R(){return"feishu"===(0,o.default)(window,"globalConfig.common.product")}function m(){return(0,o.default)(window,"globalConfig.common.mainDomain")}var A=(0,o.default)(window,"globalConfig.space_api[0]"),C=(0,o.default)(window,"globalConfig.drive_api[0]"),h=(0,o.default)(window,"globalConfig.nearby_drive_api[0]"),v=(0,o.default)(window,"globalConfig.frontier");B()||W(),A=i.Z.host;var D=x(),N=k("docsLocation.protocol"),L=/^https?:$/.test(N)?N:"https:";D&&(A=k("docsLocation.host",""),C=k("docsLocation.host",""));var y=function(){var e=k("local.apiHost","");if(e)return e;return"".concat(L,"//").concat(A)}(),P=function(){var e=k("local.driveStreamApiHost","");if(e)return e;return"".concat(L,"//").concat(C)}(),g=k("local.localGarrModules",!1);function M(){var e=k("local.apiHost","");if(e)return e;var t=k("docsLocation.protocol"),n=/^https?:$/.test(t)?t:"https:";return"".concat(n,"//").concat(function(){var e=(0,o.default)(window,"globalConfig.space_api[0]");return{NODE_ENV:"production",CDN_URL:navigator.cdn_host+"/ccm/pc/web/resource/bear",FASTER_TEST:void 0,LARK_ENV:"web",LARK:!0}.NODE_SERVER||(B()||W(),e=i.Z.host,D&&(e=k("docsLocation.host",""))),e}())}function b(){var e=k("local.driveStreamApiHost","");if(e)return e;var t=k("docsLocation.protocol"),n=/^https?:$/.test(t)?t:"https:";return"".concat(n,"//").concat(function(){var e=(0,o.default)(window,"globalConfig.drive_api[0]");return{NODE_ENV:"production",CDN_URL:navigator.cdn_host+"/ccm/pc/web/resource/bear",FASTER_TEST:void 0,LARK_ENV:"web",LARK:!0}.NODE_SERVER||D&&(e=k("docsLocation.host","")),e}())}function k(e,t){return"undefined"!=typeof window?e?(0,o.default)(window,e,t):window:""}var w=function(e){if(!e)return!0;var t=i.Z.hostname;return(0,c.nT)(e,!0).hostname===t};function H(){var e=(0,o.default)(window,"docsLocation.hostname");return["docs.bytedance.net","docs-staging.bytedance.net"].every((function(t){return-1===e.indexOf(t)}))}function U(){return!(!k()||D)&&"online"===(0,o.default)(window,"globalConfig.common.env")}function F(){return!(!k()||D)&&["online","pre_release"].includes((0,o.default)(window,"globalConfig.common.env"))}function Z(){var e=k("User.wsServer");return e?[e]:F()||v?(v||["docs-frontier.snssdk.com","docs-frontier-hl.snssdk.com"]).map((function(e){return"wss://".concat(e,"/ws/v2")})):["".concat("https:"===L?"wss:":"ws:","//10.6.24.195:5998/ws/v2")]}function x(){return!!k("local.localhost")||k("docsLocation.hostname","").indexOf("localhost")>-1}function B(){return"staging"===(0,o.default)(window,"globalConfig.common.env")}function W(){return"boe"===(0,o.default)(window,"globalConfig.common.env")}function G(){return"pre_release"===(0,o.default)(window,"globalConfig.common.env")}function K(){return window.User&&"6847336307744587777"===window.User.id}function V(){return B()||K()}function j(){return B()||W()||K()}function Y(){return!1}function J(){for(var e=(0,a.ej)("env").split(","),t="",n=0;n<e.length;n++){var o=e[n].split("="),i=(0,r.Z)(o,2),c=i[0],u=i[1];if("pre"===c){t=u;break}}return t}function X(){return"bytedance"===(0,o.default)(window,"docsLocation.hostname").split(".")[0]}function q(){return B()||K()}},189735:function(e,t,n){"use strict";n.d(t,{pt:function(){return d},lI:function(){return T},OO:function(){return p},tU:function(){return S},uf:function(){return I},gr:function(){return O},ND:function(){return R}});var r=n(367017),o=n.n(r),i=n(985001),a=n(455982),c=n(139928),u=n(941985),s=n(60389),_=n(306797),E=n(191318),l=o().mark(T),f=o().mark(p);function d(e){var t=u.ZP.getState(),n=(0,_.wg)(t),r=(0,_.v6)(t),o=(0,_.hL)(t);return e.map((function(e){return(0,E.I8)(e,{nodes:n,shortcuts:r,objs:o})}))}function T(e){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.select)(_.hL);case 2:return t=n.sent,n.abrupt("return",O(e,t));case 4:case"end":return n.stop()}}),l)}function p(e){var t,n,r;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,c.select)(_.wg);case 2:return t=o.sent,o.next=5,(0,c.select)(_.v6);case 5:return n=o.sent,o.next=8,(0,c.select)(_.hL);case 8:return r=o.sent,o.abrupt("return",R(e,t,n,r));case 10:case"end":return o.stop()}}),f)}function S(e){return O(e,(0,_.hL)(u.ZP.getState()))}function I(e){var t=u.ZP.getState();return R(e,(0,_.wg)(t),(0,_.v6)(t),(0,_.hL)(t))}function O(e,t){var n=function(e){return m(e,t)};return(0,i.Z)(e)||a.aV.isList(e)?e.map(n):m(e,t)}function R(e,t,n,r){var o=function(e){return A(e,t,n,r)};return(0,i.Z)(e)||a.aV.isList(e)?e.map(o):A(e,t,n,r)}function m(e,t){return(0,E.I8)({meta_token:e,meta_type:s.fz.Obj},{objs:t})}function A(e,t,n,r){return(0,E.I8)({meta_token:e,meta_type:s.fz.Node},{nodes:t,shortcuts:n,objs:r})}},736518:function(e,t,n){"use strict";n.d(t,{P:function(){return o},h:function(){return a}});var r=n(284113),o=(0,n(360851).tL)("evernote_enable"),i=window.location.hostname,a=/feishu/i.test(i)||r.yj},204113:function(e,t,n){"use strict";n.d(t,{GE:function(){return d},Tl:function(){return T},Q2:function(){return S},MR:function(){return I},r2:function(){return O},qf:function(){return R},XP:function(){return m},cx:function(){return A}});var r,o=n(298652),i=n(774561),a=n(359980),c=n(455982),u=n(978733),s=n(157823),_=n(481382),E=n(442086),l=n(283021),f=n(535576);function d(e,t){var n=(0,c.I1)(e)?e.get(0):e[0];return[s.DummyTokens.MyDocuments,s.DummyTokens.ShareFolders].includes(n)||((0,c.I1)(t)?t.getIn([n,"type"]):(0,a.default)(t,[n,"type"]))===_.NUM_ROOT_META.EXPLORER?e.slice(1):e.slice()}function T(e,t){return function(e,t){return(0,u.HE)(t)?((0,c.I1)(e)?e.get(0):e[0])===s.DummyTokens.MyDocuments:E.MT?(0,f.r)()===t.owner_id:(0,u.Hk)(t)}(e,t)?s.DummyTokens.MyDocuments:s.DummyTokens.ShareFolders}var p=(r={},(0,i.Z)(r,s.DummyTokens.MyDocuments,{name:(0,l.D3)(l.q.ME),type:_.NUM_FILE_TYPE.FOLDER,url:(0,l.gu)(l.q.ME)}),(0,i.Z)(r,s.DummyTokens.ShareFolders,{name:(0,l.D3)(l.q.SHARE_FOLDERS),type:null,url:(0,l.gu)(l.q.SHARE_FOLDERS)}),r);function S(e){return Object.assign({token:e,node_token:e,obj_token:e},p[e])}function I(e,t){return S(T(e,t))}function O(e,t){return e.length>0&&(0,a.default)(t,[e[0],"type"])===_.NUM_ROOT_META.EXPLORER?[s.DummyTokens.MyDocuments].concat((0,o.Z)(e.slice(1))):e}function R(e,t){var n=[];return e.forEach((function(e){Array.isArray(e)&&2===e.length&&((0,a.default)(t,[e[0],"type"])===_.NUM_ROOT_META.EXPLORER?n.push([s.DummyTokens.MyDocuments,e[1]]):n.push(e))})),n}function m(e,t){var n=t.currentNode,r=t.pathInfo,i=(0,a.default)(r,"first_type");return null!=i?i===_.NUM_ROOT_META.EXPLORER?[s.DummyTokens.MyDocuments].concat((0,o.Z)(e.slice(1))):e:(0,u.Hk)(n)?[s.DummyTokens.MyDocuments].concat((0,o.Z)(e.slice(1))):e}function A(e,t){return t[0]===s.DummyTokens.MyDocuments?e.slice(1):e}},379327:function(e,t,n){"use strict";n.d(t,{U3:function(){return o},hJ:function(){return i},z1:function(){return a},pr:function(){return u}});var r=n(360851),o=(0,r.cb)("mindnote_enabled"),i=(0,r.tL)("mindnote_history_enabled"),a=(0,r.k8)("mindnote_loose_mode"),c=(0,r.s0)("mindnote_new_colla_api","").split(","),u=function(e){var t=e.split("/"),n=t[t.length-1]||t[t.length-2];return c.includes(n)}},652629:function(e,t,n){"use strict";n.d(t,{M:function(){return c},V:function(){return u}});var r=n(774561),o=n(481382),i=n(360851),a=(0,r.Z)({},o.NUM_FILE_TYPE.SHEET,"ccm.sheet.mpa_page_jump");function c(e){return!!a[e]&&(0,i.k8)(a[e])}function u(){return!!window.is_from_mpa}},346530:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(429511);function o(e){return new RegExp("(".concat(e.join("|"),")\\/([^/?#]+)\\/*"))}function i(e){if(o([r.I.WIKI_SPACE,r.I.WIKI_TRASH,r.I.WIKI_SETTING]).exec(e))return null;var t=o([r.I.DOC,r.I.DOCX,r.I.SHEET,r.I.SLIDE,r.I.MINDNOTE,r.I.BITABLE,r.I.FILE,r.I.WIKI,r.I.DOC_OLD,r.I.SHEET_OLD,r.I.SLIDE_OLD,r.I.MINDNOTE_OLD,r.I.BITABLE_OLD]).exec(e);return t&&t[2].replace(/\/*$/,"")}},517729:function(e,t,n){"use strict";n.d(t,{PB:function(){return E},Zp:function(){return T},WS:function(){return p}});var r=n(922081),o=n(399643),i=n(357081),a=n(74709),c=n(235724),u=n(406005),s=n(284113),_=n(15458),E="PRE_ENV_TEMP_ONLINE",l=c.isBytedanceUser&&(0,s.Rv)()&&(0,s.IR)(),f=o.default.isOpendoc||o.default.isInVC||o.default.isFeishuRooms,d=function(){var e=(0,a.$o)(E);return Date.now()<Number(e)},T=(0,s.op)()||d();function p(){l&&!f&&(0,_.WY)({url:i.mb.GET_USER_ENV,method:i.mb.METHOD.GET}).then((function(e){for(var t=e&&e.data&&e.data.env,n=t.split(","),o="",i=0;i<n.length;i++){var c=n[i].split("="),_=(0,r.Z)(c,2),l=_[0],f=_[1];if("pre"===l){o=f;break}}if((0,s.He)()!==o){if(d()){if("1"===o)return;(0,a.qQ)(E,"0")}(0,u.d8)("env",t)}})).catch((function(e){console.log(e)}))}},411933:function(e,t,n){"use strict";n.d(t,{K:function(){return a},k:function(){return c}});var r=n(481382),o=n(284113),i=n(360851),a=(0,i.k8)("slide_enabled",r.isAnonymousAccess||(0,o.j1)()),c=(0,i.k8)("slide_op_history")},857489:function(e,t,n){"use strict";n.d(t,{t:function(){return a}});var r=n(922081),o=n(941985),i=n(392053);function a(e){return function(t,n,a){var c=a.value;return a.value=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];try{var u=e.call(this,{context:this,args:n,helper:i.Z,store:o.ZP.getState()});Array.isArray(u)&&(u.some((function(e){return!Array.isArray(e)}))&&(u=[u]),u.forEach((function(e){var t=(0,r.Z)(e,2),n=t[0],o=t[1];i.Z.collectEvent(n,o)})))}catch(e){console.error(e)}return c.apply(this,n)},a}}},392053:function(e,t,n){"use strict";var r=n(26278),o=n(919264),i=n(804175),a=n(265498),c=n(359980),u=n(432459),s=n(401579),_=n(978733),E=n(524666),l=n(481382),f=n(44226),d=n(573562),T=n(44014),p=n(605826),S=n(362229),I=n(958608),O=n(941985),R=n(509983),m=n(21450),A=n(484826),C=n(79078),h=n(885463),v=["file"],D=function(e,t,n,r){var o,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,a.Z)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(c=(i<3?o(c):i>3?o(t,n,c):o(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c},N=function(){function e(){(0,o.Z)(this,e),this.mergeInfo=(0,u.Z)([this.mergeFileInfo,this.mergeModuleInfo,this.mergeContainerInfo])}return(0,i.Z)(e,[{key:"getView",value:function(e){return"".concat(e,"_").concat(d.qe.View)}},{key:"getSpaceView",value:function(e){return d.qn.includes(e)?this.getCCMView(e):"".concat(d.QU,"_").concat(d.mL,"_").concat(e,"_").concat(d.qe.View)}},{key:"getPermissionView",value:function(e){return"".concat(d.QU,"_").concat(d.gl,"_").concat(e,"_").concat(d.qe.View)}},{key:"getTemplateView",value:function(e){return"".concat(d.QU,"_").concat(d.kE,"_").concat(e,"_").concat(d.qe.View)}},{key:"getCCMView",value:function(e){return"".concat(d.QU,"_").concat(e,"_").concat(d.qe.View)}},{key:"getSpaceTeaEventName",value:function(e,t){return"".concat(d.QU,"_").concat(d.mL,"_").concat(e,"_").concat(t)}},{key:"getSpaceClickEventName",value:function(e){return this.getSpaceTeaEventName(e,d.qe.Click)}},{key:"getSpaceViewEventName",value:function(e){return this.getSpaceTeaEventName(e,d.qe.View)}},{key:"getEventTargetAreaFromRouteModule",value:function(){var e=(0,T.getCurrentRouteObj)();return e?d.lB[e.module]:null}},{key:"getCurrentRouteName",value:function(){var e=(0,T.getCurrentRouteObj)();return e?f.mapRouteURL2LogRouteName[e.url]:null}},{key:"getSpaceModuleFromRouteModule",value:function(){var e=(0,T.getCurrentRouteObj)().module;return e?d.uw[e]:null}},{key:"getSpaceViewFromRouteModule",value:function(){var e=this.getEventTargetAreaFromRouteModule();return e?d.qn.includes(e)?this.getCCMView(e):this.getSpaceView(e):d.u8}},{key:"getIsDetailPage",value:function(){var e=this.getSpaceModuleFromRouteModule();return!!e&&d.Sk.includes(e)}},{key:"onRouteUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getEventTargetAreaFromRouteModule(),n={};t&&(t===d.G9.HomePage&&(n.is_default=e),this.collectSpaceViewEvent(t,n))}},{key:"collectSpaceViewEvent",value:function(e,t){return this.collectSpaceTeaEvent(e,d.qe.View,t)}},{key:"collectSpaceClickEvent",value:function(e,t){return this.collectSpaceTeaEvent(e,d.qe.Click,t)}},{key:"collectSpaceTeaEvent",value:function(e,t,n){var r=this.getSpaceTeaEventName(e,t);r&&this.collectEvent(r,n)}},{key:"collectEvent",value:function(e,t){try{t=this.mergeInfo(t),(0,S.LN)(e,t)}catch(e){console.log(e)}}},{key:"mergeFileInfo",value:function(e){if(e&&e.file){var t=e.file,n=(0,r.Z)(e,v),o=Boolean((0,_.HX)(t)),i=t.get("obj_token"),a=t.get("token"),c=t.get("owner_id"),u=(0,h.M)(this.state).getIn([c,"tenant_id"],"");return Object.assign({},n,{},this.getSubFileTypeOfDriveFile(t),{file_id:a==="".concat(i,"_")?i:i||a||"",file_type:l.mapTypeNumToTeaLogFileType[t.get("type")]||d.u8,file_tenant_id:u,is_shortcut:String(o),shortcut_id:o?a:""})}return Object.assign({},this.getSubFileTypeOfDriveFile(),{},(0,p.W)(),{},e||{})}},{key:"getSubFileTypeOfDriveFile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,I.KT)(this.state).first(),t="",n=(t=e?e.get("name"):(0,c.default)((0,A.GM)(this.state),"name"))&&(0,s.lm)(t)||d.u8;return{sub_file_type:n}}},{key:"mergeModuleInfo",value:function(e){var t={sub_module:d.u8},n=this.getSpaceModuleFromRouteModule(),r=n&&d.uw[n];if(n&&r&&Object.assign(t,{module:r}),(0,T.locateRoute)().isFolder){var o=(0,C.vj)(this.state),i=!!o&&(0,_.Iu)(o),a=!!o&&(0,_.l8)(o);i&&Object.assign(t,{module:"personal_folder"}),a&&Object.assign(t,{module:"shared_folder"})}return Object.assign({},t,{},e||{})}},{key:"mergeContainerInfo",value:function(e){var t={container_id:"",container_type:d.u8},n=(0,T.locateRoute)(),r=(0,C.vj)(this.state),o=r&&r.get("token");return o?(t.container_id=o,t.container_type="folder"):n.isWikiIndex&&(t.container_id=(0,m.mk)(this.state)||"",t.container_type="wiki"),Object.assign({},t,{},e||{})}},{key:"getCurrentFolderFromState",value:function(){return(0,C.vj)(this.state)}},{key:"getCurrentFolderItemsFromState",value:function(){return(0,R.J_)(this.state)}},{key:"state",get:function(){return O.ZP.getState()}}]),e}();D([(0,E.WY)()],N.prototype,"getView",null),D([(0,E.WY)()],N.prototype,"getSpaceView",null),D([(0,E.WY)()],N.prototype,"getPermissionView",null),D([(0,E.WY)()],N.prototype,"getTemplateView",null),D([(0,E.WY)()],N.prototype,"getCCMView",null),D([(0,E.WY)()],N.prototype,"getSpaceTeaEventName",null),D([(0,E.WY)()],N.prototype,"getSpaceClickEventName",null),D([(0,E.WY)()],N.prototype,"getSpaceViewEventName",null),D([(0,E.WY)()],N.prototype,"getEventTargetAreaFromRouteModule",null),D([(0,E.WY)()],N.prototype,"getCurrentRouteName",null),D([(0,E.WY)()],N.prototype,"getSpaceModuleFromRouteModule",null),D([(0,E.WY)()],N.prototype,"getSpaceViewFromRouteModule",null),D([(0,E.WY)()],N.prototype,"getIsDetailPage",null),D([(0,E.WY)()],N.prototype,"onRouteUpdate",null),D([(0,E.WY)()],N.prototype,"collectSpaceViewEvent",null),D([(0,E.WY)()],N.prototype,"collectSpaceClickEvent",null),D([(0,E.WY)()],N.prototype,"collectSpaceTeaEvent",null),D([(0,E.WY)()],N.prototype,"collectEvent",null),D([(0,E.WY)()],N.prototype,"mergeFileInfo",null),D([(0,E.WY)()],N.prototype,"getSubFileTypeOfDriveFile",null),D([(0,E.WY)()],N.prototype,"mergeModuleInfo",null),D([(0,E.WY)()],N.prototype,"mergeContainerInfo",null),D([(0,E.WY)()],N.prototype,"getCurrentFolderFromState",null),D([(0,E.WY)()],N.prototype,"getCurrentFolderItemsFromState",null);var L=new N;t.Z=L},980171:function(e,t,n){"use strict";n.d(t,{ZN:function(){return u},bD:function(){return s},SN:function(){return _}});var r=n(978733),o=n(157823),i=n(830145),a=n(941985),c=n(79078);function u(){return(0,c.Fx)(a.ZP.getState()).length||0}function s(e){return!(!(0,r.qR)(e)||!e.parent_obj_token||o.dummyTokenList.includes(e.parent_obj_token))}function _(e){switch(e){case i.MODAL_TYPES.CLONE:return"make_copy";case i.MODAL_TYPES.COPY:return"add_to_folder";case i.MODAL_TYPES.ADD_SHORTCUT:return"create_shortcut";case i.MODAL_TYPES.MOVE:return"move_to_folder";default:return""}}},957600:function(e,t,n){"use strict";n.d(t,{uz:function(){return E},jP:function(){return l},RC:function(){return f},Hn:function(){return T}});var r=n(742097),o=n(978733),i=n(44226),a=n(671914),c=n(189735),u=n(791670),s=n(941985);function _(e,t){if(!t)return e;var n=(0,a.mB)(e);n.pre_pathname=t;var r=(0,a.en)(e);return r.search=n,(0,a.CN)(e,r)}function E(){var e=(0,a.mB)(u.ZP.location.search)||{};return delete e.pre_pathname,u.ZP.replace({search:(0,a.x9)(e)})}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.Z.pathname;return d(e)?e:_(e,t)}function f(e,t){if(e&&"folder"===e.module&&s.ZP){e=Object.assign({},e);var n=t?(0,c.tU)(t):null,r=!n||(0,o.Iu)(n);e.module=r?i.routeModule.PERSONAL_FOLDER:i.routeModule.SHARED_FOLDER}return e}function d(e){return e.includes("prePathname")}function T(e,t){var n=(0,a.mB)(e),r=(0,a.mB)(t);return["pre_pathname"].some((function(e){return n[e]&&!r[e]}))}},762227:function(e,t,n){"use strict";n.d(t,{o:function(){return o}});var r="SwitchWidthMode";function o(e){return{type:r,payload:{widthMode:e}}}},934658:function(e,t,n){"use strict";var r;n.d(t,{W:function(){return r}}),function(e){e.FullWidth="full",e.StandardWidth="standard"}(r||(r={}))},889497:function(e,t,n){"use strict";n.d(t,{RD:function(){return s},HM:function(){return E},eJ:function(){return l},Wx:function(){return f}});var r=n(367017),o=n.n(r),i=n(335067),a=n(360851),c=n(215661),u=n(300408),s=function(){return n.e(67839).then(n.bind(n,732898))},_=function(){return c.Z.isPcWeb&&!c.Z.isOpendoc&&!c.Z.isInVC&&!c.Z.isFeishuRooms&&!(0,u.Dv)()&&(0,a.Cn)()},E=function(){var e=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_()){e.next=6;break}return e.next=3,s();case 3:n=e.sent,(0,n.initFeelgoodSDK)(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,i.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_()){e.next=11;break}return e.next=3,E(t);case 3:return e.next=5,s();case 5:return n=e.sent,(r=n.FeelgoodSDK).enable(),e.abrupt("return",r);case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_()){e.next=6;break}return e.next=3,s();case 3:t=e.sent,t.FeelgoodSDK.disable();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},665119:function(e,t,n){"use strict";function r(e){return"sheet"===e?{bottom:"70px",right:"85px"}:"doc"===e||"docx"===e?{bottom:"90px",right:"40px"}:"bitable"===e?{bottom:"76px",right:"95px"}:"mindnote"===e?{bottom:"85px",right:"32px"}:{bottom:"40px",right:"32px"}}function o(e){return"mindnote"===e?"100":"50"}n.d(t,{b:function(){return r},K:function(){return o}})},620698:function(e,t,n){"use strict";n.d(t,{D:function(){return a}});var r=n(367017),o=n.n(r),i=n(335067);function a(){return c.apply(this,arguments)}function c(){return(c=(0,i.Z)(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(121).then(n.bind(n,414141));case 2:return t=e.sent,r=t.NativeHistoryManager,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},941985:function(e,t,n){"use strict";var r;function o(e){r=e}n.d(t,{PQ:function(){return o},ZP:function(){return r}})},642937:function(e,t,n){"use strict";n.d(t,{B:function(){return o},j:function(){return i}});var r=n(360851),o=(0,r.cb)("ccm.wiki.performance_log_polish"),i=(0,r.cb)("ccm.wiki.performance_optimization")},226260:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});var r={SET_CURRENT_WIKI_VERSION:"SET_CURRENT_WIKI_VERSION",SET_CURRENT_WIKI_HOME_VERSION:"SET_CURRENT_WIKI_HOME_VERSION"}},202955:function(e,t,n){"use strict";n.d(t,{s:function(){return o},C:function(){return i}});var r=n(226260),o=function(e,t){return console.info("[setCurrentWikiVersion]: ",e,t),{type:r.H.SET_CURRENT_WIKI_VERSION,payload:Object.assign({wikiVersion:e},t||{})}},i=function(e){return{type:r.H.SET_CURRENT_WIKI_HOME_VERSION,payload:{wikiHomeVersion:e}}}},913629:function(e,t,n){"use strict";n.r(t),n.d(t,{isValidVersion:function(){return v},validateVersion:function(){return D},addWikiVersionToURLSearchParams:function(){return L},getWikiVersionMayAttachedQueryStr:function(){return y},isWikiV2File:function(){return P},generateFileSearchParams:function(){return g},getFileWikiVersion:function(){return M},getWikiSuitePageSearchParams:function(){return b},generateWikiSuitePagePath:function(){return k},generateWikiSuitePageFullURL:function(){return w},generateWikiSuitePagePushParams:function(){return H},navigateTo:function(){return U},keepQueryAndNavigateTo:function(){return F},navigateToSpaceOverview:function(){return Z},navigateToSpaceSetting:function(){return x},navigateToWikiSuitePage:function(){return B},navigateToWikiV1SuitePage:function(){return W},navigateToWikiV2SuitePage:function(){return G},navigateToWikiV1SuitePageWithOpenLinkOptimizeEnabled:function(){return K},navigateToWikiV2SuitePageWithOpenLinkOptimizeEnabled:function(){return V},navigateToWikiHome:function(){return j},getWikiTokenFromUrl:function(){return Y},getSpaceIdFromUrl:function(){return J},isTokenVersionDifferent:function(){return X}});var r=n(774561),o=n(922081),i=n(913867),a=n(742097),c=n(359980),u=n(940969),s=n(581262),_=n(782293),E=n(44226),l=n(791670),f=n(941985),d=n(360851),T=n(70393),p=n(202955),S=n(964552),I=n(481382),O=n(77112),R=n(230177),m=n(284113),A=n(546722),C=(0,n(959341).j)("Multi Geo"),h={replace:"self",push:"self"},v=function(e){return Boolean(e&&["1","2"].includes(e))},D=function(e){if(v(e))return e},N=function(e){var t=e||{},n=t.keepQuery,r=void 0===n||n,i=t.otherQueryToSet,c=r?new URLSearchParams(a.Z.search):new URLSearchParams;return i&&Object.entries(i).forEach((function(e){var t=(0,o.Z)(e,2),n=t[0],r=t[1];c.set(n,r)})),c},L=function(e,t){var n=D(t);return n&&T.No&&e.set(R.FV,n),e},y=function(e){var t=e.otherQueryToSet,n=e.wikiVersion,r=N({otherQueryToSet:t});return L(r,n).toString()},P=function(e){if(e.type===I.NUM_FILE_TYPE.WIKI){var t="1";return"2"===e.wiki_version&&(t="2"),t}},g=function(e){var t=P(e);return t?y({wikiVersion:t}):e.type===I.NUM_FILE_TYPE.BITABLE?function(e){var t=localStorage.getItem("__bitable_location_history__");if(!t)return"";var n,r=e.obj_token;try{n=JSON.parse(t)}catch(e){return""}if(!Array.isArray(n))return"";var o=n.find((function(e){return e.id===r}));if(!o)return"";var i=o.activeTable,a=o.tables;if(!i)return"";var c=a.find((function(e){return e.id===i}));return c&&c.activeViewId?"table=".concat(i,"&view=").concat(c.activeViewId):"table=".concat(i)}(e):""};var M=function(e){return"2"===e.wiki_version?"2":"1"},b=function(e){var t=e.wikiVersion,n=e.keepQuery,r=e.otherQueryToSet,o=N({keepQuery:n,otherQueryToSet:r});return L(o,t)},k=function(e){var t=e.wikiToken,n=e.wikiVersion,r=e.keepQuery,o=e.otherQueryToSet,i="".concat(E.URL.WIKI_INDEX).concat(t),a=b({wikiVersion:n,keepQuery:r,otherQueryToSet:o});return"".concat(i,"?").concat(a)},w=function(e){var t=e.wikiToken,n=e.wikiVersion,r=e.keepQuery,o=e.otherQueryToSet,i=e.hash,c=void 0===i?"":i,u="".concat(E.URL.WIKI_INDEX).concat(t),s=N({keepQuery:r,otherQueryToSet:o}),_=(s=L(s,n)).toString(),l=a.Z.protocol,f=a.Z.hostname,d=a.Z.port,T=d&&d.length?":".concat(d):"",p="?";return p=""===_||_.startsWith("?")?"":"?","".concat(l,"//").concat(f).concat(T).concat((0,O.ux)(u)).concat(c).concat(p).concat(_)},H=function(e){var t=e.wikiToken,n=e.wikiVersion,r=e.keepQuery,o=e.otherQueryToSet,i="".concat(E.URL.WIKI_INDEX).concat(t),a=b({wikiVersion:n,keepQuery:r,otherQueryToSet:o});return{pathname:i,search:"?".concat(a.toString())}},U=function(e){var t=e.url,n=e.pathname,r=e.search,o=e.state,c=e.hash,s=e.preOpenWindow,f=e.method,T=void 0===f?"push":f,p=(0,u.Z)(r,"?"),S=(0,u.Z)(c,"#"),I=p?"".concat("?").concat(p):"",R=S?"".concat("#").concat(S):"",A={pathname:n,search:I,hash:R,state:o},v="".concat(n).concat(I).concat(R),D=a.Z.protocol,N=a.Z.port,L=a.Z.hostname,y=N&&N.length?":".concat(N):"";if(d.Ef){var P=(0,m.vo)("User.domain");(Object.keys(E.returnModuleNameLookupTable).includes(n)||n.startsWith(E.URL.WIKI_SPACE_OVERVIEW)||n.startsWith(E.URL.WIKI_SPACE_SETTING))&&((0,m.zY)(P)||(L=P,C.debug("navigateTo:reset hostname",L),Object.keys(h).includes(T)&&(T=h[T]||"self",C.debug("navigateTo:override method",T))))}switch(T){case"replace":l.ZP.replace(A);break;case"push":default:l.ZP.push(A);break;case"self":(0,i.Z)(t)?window.open("".concat(t).concat(I).concat(R),"_self"):window.open("".concat(D,"//").concat(L).concat(y).concat((0,O.ux)(v)),"_self");break;case"newTab":var g=(0,i.Z)(t)?"".concat(t).concat(I).concat(R):"".concat(D,"//").concat(L).concat(y).concat((0,O.ux)(v));s?s.location.href=g:(0,_.C)(g,"_blank")}},F=function(e){var t=e.pathname,n=e.method,r=e.search,o=void 0===r?a.Z.search:r,i=e.state,c=e.url;return U({pathname:t,method:n,search:o,state:i,url:c})},Z=function(e){var t=e.spaceId,n=e.method,r=e.keepQuery,o=e.otherQueryToSet,i=e.state;if(t){var a="".concat(E.URL.WIKI_SPACE_OVERVIEW).concat(t),c=N({keepQuery:r,otherQueryToSet:o}).toString();return f.ZP.dispatch((0,p.s)("2",{spaceId:t})),U({pathname:a,search:c,method:n,state:Object.assign({},i,{from:"wiki"})})}console.error("navigateToSpaceOverview:spaceIdMissing")},x=function(e){var t=e.spaceId,n=e.wikiVersion,r=e.method,o=e.keepQuery,i=e.otherQueryToSet,a=e.state;if(t){var c="".concat(E.URL.WIKI_SPACE_SETTING).concat(t),u=N({keepQuery:o,otherQueryToSet:i}).toString();return f.ZP.dispatch((0,p.s)(n,{spaceId:t})),U({pathname:c,search:u,method:r,state:Object.assign({},a,{from:"wiki"})})}console.error("navigateToSpaceOverview:spaceIdMissing")},B=function(e){var t=e.wikiToken,n=e.wikiVersion,o=e.method,i=e.keepQuery,a=e.otherQueryToSet,u=e.state,s=e.url,_=e.preOpenWindow;if(C.debug("navigateToWikiSuitePage",t,o),t){var E=H({wikiToken:t,wikiVersion:n,keepQuery:i,otherQueryToSet:a}),l=E.pathname,T=E.search;if(d.Ef){var S=s||(0,c.default)((0,A.aM)(f.ZP.getState()),[t,"url"]);if(!(0,m.zY)(S))return U({url:S,pathname:l,search:T,method:Object.keys(h).includes(o)?h[o]||"newTab":o,preOpenWindow:_,state:Object.assign({},u,(0,r.Z)({from:"wiki"},R.FV,n))})}return f.ZP.dispatch((0,p.s)(n,{wikiToken:t})),U({pathname:l,search:T,method:o,preOpenWindow:_,state:Object.assign({},u,(0,r.Z)({from:"wiki"},R.FV,n))})}console.error("navigateToWikiSuitePage:wikiTokenMissing")},W=function(e,t,n){return B({wikiToken:t,wikiVersion:"1",method:e,url:n})},G=function(e){var t=e.method,n=e.wikiToken,r=e.url,o=e.preOpenWindow,i=e.state;return B({wikiToken:n,wikiVersion:"2",method:t,url:r,preOpenWindow:o,state:i})},K=function(e,t,n){return W(d.ZG?e:"newTab",t,n)},V=function(e){var t=e.method,n=e.wikiToken,r=e.url,o=e.state;return G({method:d.ZG?t:"newTab",wikiToken:n,url:r,state:o})},j=function(e){var t,n=e.wikiVersion,o=e.method,i=void 0===o?"push":o,a=e.keepQuery,c=e.otherQueryToSet,u=e.state;t="1"===n?E.URL.WIKI_HOME:T.No?E.URL.WIKI_HOME_V2:E.URL.WIKI_HOME;var s=b({wikiVersion:n,keepQuery:a,otherQueryToSet:c}).toString();return U({pathname:t,method:i,search:s,state:Object.assign({},u,(0,r.Z)({from:"wiki"},R.FV,n))})},Y=function(){return(0,c.default)((0,s.Z)(a.Z.pathname,{path:E.PATH.WIKI_INDEX}),"params.token")},J=function(){var e="params.spaceId",t=a.Z.pathname,n=(0,c.default)((0,s.Z)(t,{path:E.PATH.WIKI_SPACE_OVERVIEW}),e),r=(0,c.default)((0,s.Z)(t,{path:E.PATH.WIKI_SPACE_SETTING}),e);return n||r},X=function(e,t){if(!T.No)return!1;if(!e||!t)return!1;var n=(0,S._)();return!(!v(n[e])||!v(n[t]))&&n[e]!==n[t]}},964552:function(e,t,n){"use strict";n.d(t,{_:function(){return i}});var r=n(70393),o={};r.No&&(window.__WIKI_VERSION_CACHE_MAP__=o);var i=function(){return o}},300408:function(e,t,n){"use strict";n.d(t,{Dv:function(){return s},QE:function(){return _},PF:function(){return E},yu:function(){return l},R4:function(){return f},W5:function(){return d}});var r=n(359980),o=n(141118),i=n(357081),a=(n(501455),n(806501),n(298015)),c=n(15458),u=n(70393);(0,o.b)((new Date).valueOf());function s(){return(0,r.default)(window,"anonymousAccess.isAnonymousAccess",!1)}function _(){return(0,r.default)(window,"anonymousAccess.isSingleProductOwner",!1)}function E(){return u.Es&&s()}function l(){return!u.Kb&&E()}function f(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return l()&&!t?{type:a.H.common.NOOP}:e}var d=function(e,t){return c.WY.post(i.mb.VERIFY_USER_TOKEN_V2,{mobile:t},{headers:{"Content-Type":"application/json","X-Verify-Token":e}})}},296928:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(614795);function o(e){return"".concat(r.API_BASE,"/").concat(e)}},519643:function(e,t,n){"use strict";n.d(t,{re:function(){return r},rN:function(){return o},dR:function(){return i},rY:function(){return a},ZK:function(){return c},NZ:function(){return u}});var r="gstOpen",o="hlKey",i=function(e){return e.get(o,"")},a=function(e){return"1"===e.get(r,"")},c="fromTtSwitch",u=function(e){return"1"===e.get(c,"")}},134408:function(e,t,n){"use strict";function r(e){var t=e.meta;if(t){if(t.previousAction&&t.previousAction.rawAction)return t.previousAction.rawAction;if(t.previousAction)return t.previousAction}return e.rawAction||e}n.d(t,{Z:function(){return r}})},184300:function(e,t,n){"use strict";n.d(t,{r:function(){return d},p:function(){return T}});var r=n(359980),o=n(44226),i=n(957660),a=n(70393),c="appState.error",u="wikiNodeInfo.data",s=u.split(".").concat("obj_type"),_=u.split(".").concat("obj_token"),E="wikiV2WikiNode.data",l=E.split(".").concat("obj_type"),f=E.split(".").concat("obj_token"),d=function(e,t,n){var r=t.path,a=t.pathname,c=t.type,u=t.token;if(o.PATH.WIKI_INDEX===r&&c===i.rz.WIKI)return S(e,u,n);if(o.PATH.WIKI_SPACE_SETTING===r){var s=a.split("/").pop();if(s)return R(e,s,n,"objToken")}return""},T=function(e,t,n){var r=t.path,a=t.pathname,c=t.type,u=t.token;if(o.PATH.WIKI_INDEX===r&&c===i.rz.WIKI)return p(e,{path:r,pathname:a,type:c,token:u},n);if(o.PATH.WIKI_SPACE_SETTING===r){var s=a.split("/").pop();if(s)return R(e,s,n,"objType")}return console.warn("[wiki]: get suiteType failed, will use origin doc's suite type instead which is 2"),i.rz.DOC},p=function(e,t,n){t.path,t.pathname,t.type;var o=t.token,a=n.getWikiSpaceAndNodeDataFromTemplate,u=n.wikiInfoMapSelector,_=n.wikiNodeNewMapSelector,E=u(e)[o];if(E)return E.objType;var f=_(e)[o];if(f)return f.objType;var d=a(o);if(d)return d.objType;var T=(0,r.default)(e,c),p=T.getIn(s);if("number"==typeof p)return p;var S=T.getIn(l);return"number"==typeof S?S:(console.warn("[wiki]: get suiteType failed, will use origin doc's suite type instead which is 2"),i.rz.DOC)},S=function(e,t,n){return a.No?I(e,t,n):O(e,t,n)},I=function(e,t,n){var o=n.getWikiSpaceAndNodeDataFromTemplate,i=n.wikiInfoMapSelector,a=n.wikiNodeNewMapSelector,u=i(e)[t];if(u)return u.objToken;var s=a(e)[t];if(s)return s.objToken;var E=o(t);if(E)return E.objToken;var l=(0,r.default)(e,c),d=l.getIn(_);if("string"==typeof d)return d;var T=l.getIn(f);return"string"==typeof T?T:(console.warn("[wiki][coexisted]: read objToken from wiki domain failed"),"")},O=function(e,t,n){var o=n.getWikiSpaceAndNodeDataFromTemplate,i=n.wikiInfoMapSelector,u=n.wikiNodeNewMapSelector;if(a.hM){var s=u(e)[t];if(s)return s.objToken;var E=o(t);if(E)return E.objToken;var l=(0,r.default)(e,c).getIn(f);if(l)return l}else{var d=i(e)[t];if(d)return d.objToken;var T=o(t);if(T)return T.objToken;var p=(0,r.default)(e,c).getIn(_);if("string"==typeof p)return p}return console.warn("[wiki][isolated]: read objToken from wiki domain failed"),""},R=function(e,t,n,o){var i=(0,n.wikiSpaceMapOldSelector)(e)[t];return i?(0,r.default)(i,"homePage.".concat(o),""):(console.warn("[wiki][isolated]: read home objToken from wiki domain failed"),"")}},535576:function(e,t,n){"use strict";function r(){var e=window.User;return e&&e.id||""}function o(){var e=window.User;return e&&e.tenantId||""}n.d(t,{r:function(){return r},T:function(){return o}})},979434:function(e,t,n){"use strict";n.d(t,{s2:function(){return a},IV:function(){return c},QY:function(){return u},_9:function(){return s},bi:function(){return _},aB:function(){return E},$e:function(){return l},r5:function(){return f},QT:function(){return r},_t:function(){return o},pr:function(){return i},wg:function(){return d},Ol:function(){return T},nI:function(){return p},KS:function(){return S},T4:function(){return I},GV:function(){return O},bf:function(){return R}});var r,o,i,a=864e5,c=10,u=20,s="origin",_="now",E="#",l={DOC_CREAT:1,DOC_EDIT:2,DOC_REVERT:3,RELOAD_FROM_COLD:4},f=60*(new Date).getTimezoneOffset()*1e3;!function(e){e.DOC_BLOCK="DOC_BLOCK"}(r||(r={})),function(e){e.add="__edit_add",e.del="__edit_del",e.change="__edit_change"}(o||(o={})),function(e){e.EDIT="_edit",e.ADD="_edit_add",e.DEL="_edit_del",e.CHANGE="_edit_change"}(i||(i={}));var d="highlight-",T="history-highlight",p=199,S="aceTable",I="gallery",O="image_uploaded",R="_edit_style_added"},880534:function(e,t,n){"use strict";n.d(t,{vh:function(){return v},Uc:function(){return L},b$:function(){return N}});var r,o,i,a,c,u,s=n(367017),_=n.n(s),E=n(335067),l=n(919264),f=n(804175),d=n(265498),T=n(359980),p=n(680570),S=n(774561),I=(r={},(0,S.Z)(r,"default",{code:0,msg:"Success",data:{snapshot:{revision:3,content:'{"text":"\nabc\n\n","attribs":"|1+1*0*1+3*0|1+1|1+1","pool":"{"numToAttrib":{"0":["author","6809803548256108546"],"1":["lineguid","t2dTZD"]},"nextNum":2}","attributed_texts":"{"texts":{"0":"\\nabc\\n\\n"},"attribs":{"0":"|1+1*0*1+3*0|1+1|1+1"}}","table_meta":"{"rows":{},"cols":{},"attribs":{}}"}'}}}),(0,S.Z)(r,"error",{code:0,msg:"Fail"}),r),O=(o={},(0,S.Z)(o,"default",{code:0,msg:"Success",data:{major_history:[{id:"major_history_id1",version:0,name:"需求评审定稿",create_time:0,update_time:1594051200,minor_history:[{id:"minor_history1",version:0,name:"string",create_time:12345678,update_time:123456789,type:1,user_id:["12345678"],content:{changes:[{block_token:"doccnYlCS3JnaulaZC1qXVOfNCh",block_type:"DOC_BLOCK",rev_range:[1,10]}],revert_version:{time:123456789,id:"string"},origin:{icon:{type:1,key:"string",fs_unit:"string"},title:"string"},now:{icon:{type:1,key:"string",fs_unit:"string"},title:"string"}}},{id:"minor_history2",version:0,name:"string",create_time:12345678,update_time:123456789,type:1,user_id:["12345678"],content:{changes:[{block_token:"doccnYlCS3JnaulaZC1qXVOfNCh",block_type:"DOC_BLOCK",rev_range:[1,27]},{block_token:"bascnW1nVcill2UU1OZ2CSKVr1g_tblDrQXOW9",block_type:"BITABLE_BLOCK",rev_range:[1,3]}],revert_version:{time:123456789,id:"string"},origin:{icon:{type:1,key:"string",fs_unit:"string"},title:"string"},now:{icon:{type:1,key:"string",fs_unit:"string"},title:"string"}}},{id:"minor_history3",version:0,name:"string",create_time:12345678,update_time:123456789,type:1,user_id:["12345678"],content:{changes:[{block_token:"doccnYlCS3JnaulaZC1qXVOfNCh",block_type:"DOC_BLOCK",rev_range:[1,30]},{block_token:"bascnW1nVcill2UU1OZ2CSKVr1g_tblDrQXOW9",block_type:"BITABLE_BLOCK",rev_range:[1,3]}],revert_version:{time:123456789,id:"string"},origin:{icon:{type:1,key:"string",fs_unit:"string"},title:"string"},now:{icon:{type:1,key:"string",fs_unit:"string"},title:"string"}}}],type:1,user_id:["12345678"],content:{changes:[{block_token:"doccnYlCS3JnaulaZC1qXVOfNCh",block_type:"DOC_BLOCK",rev_range:[1,10]}],revert_version:{time:143456789},origin:{icon:{type:2,key:"531967b7-d010-4404-8f89-41348976becg",fs_unit:"eu_nc-cdn"}},now:{icon:{type:2,key:"41d41fdb-6e22-4df2-b913-6932df85516g",fs_unit:"heu_nc-cdn"}}}},{id:"major_history_id2",version:0,name:"",create_time:0,update_time:1594176346,minor_history:[{id:"minor_history1",version:0,create_time:12345678,update_time:123456789,type:1,user_id:["12345678"],content:{changes:[{block_token:"doccnYlCS3JnaulaZC1qXVOfNCh",block_type:"DOC_BLOCK",rev_range:[1,10]}],revert_version:{time:123456789,id:"string"},origin:{icon:{type:1,key:"string",fs_unit:"string"},title:"需求测试"},now:{icon:{type:1,key:"string",fs_unit:"string"},title:"string"}}}],type:1,user_id:["12345678"],content:{changes:[{block_token:"doccnYlCS3JnaulaZC1qXVOfNCh",block_type:"DOC_BLOCK",rev_range:[1,33]},{block_token:"bascnW1nVcill2UU1OZ2CSKVr1g_tblDrQXOW9",block_type:"BITABLE_BLOCK",rev_range:[1,3]}],origin:{icon:{type:2,key:"531967b7-d010-4404-8f89-41348976becg",fs_unit:"eu_nc-cdn"},title:"测试文档初稿"},now:{icon:{type:2,key:"41d41fdb-6e22-4df2-b913-6932df85516g",fs_unit:"heu_nc-cdn"},title:"测试文档二稿"}}},{id:"major_history_id4",version:0,name:"string 4",create_time:0,update_time:1594051200,minor_history:[{id:"minor_history1",version:0,name:"string",create_time:12345678,update_time:123456789,type:1,user_id:["string"],content:{changes:[{block_token:"doccnYlCS3JnaulaZC1qXVOfNCh",block_type:"DOC_BLOCK",rev_range:[1,10]}],revert:{time:123456789,id:"string"},origin:{icon:{type:1,key:"string",fs_unit:"string"},title:"string"},now:{icon:{type:1,key:"string",fs_unit:"string"},title:"string"}}}],type:1,user_id:["string"],content:{changes:[{block_token:"doccnYlCS3JnaulaZC1qXVOfNCh",block_type:"DOC_BLOCK",rev_range:[1,53]},{block_token:"bascnW1nVcill2UU1OZ2CSKVr1g_tblDrQXOW9",block_type:"BITABLE_BLOCK",rev_range:[1,3]},{block_token:"shtcnyNekk4juKGw6uJKis1yrCg",block_type:"SHEET_BLOCK",rev_range:[1,4]}],revert_version:{time:123456789},origin:{icon:{type:1,key:"string",fs_unit:"string"},title:"string"},now:{icon:{type:"int",key:"string",fs_unit:"string"},title:"string"}}}],entities:{user:{12345678:{avatar_url:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1594965243083&di=356d7b282289e1eea7c176feb08062af&imgtype=0&src=http%3A%2F%2Fgss0.baidu.com%2F7Po3dSag_xI4khGko9WTAnF6hhy%2Fzhidao%2Fpic%2Fitem%2F267f9e2f07082838685c484ab999a9014c08f11f.jpg",cn_name:"中文名字",email:"guohui@abc.com",en_name:"english name",id:"12345678",suid:"string",tanant_id:"string",anonymity:!1}}},has_more:!0}}),(0,S.Z)(o,"no-data",{code:0,msg:"Success",data:{major_history:[],entities:{user:{}},has_more:!1}}),(0,S.Z)(o,"error",{code:0,msg:"Fail"}),o),R=(i={},(0,S.Z)(i,"default",{code:0,msg:"Success",data:{status:1}}),(0,S.Z)(i,"running",{code:0,msg:"Success",data:{status:0}}),(0,S.Z)(i,"fail",{code:0,msg:"Success",data:{status:2}}),(0,S.Z)(i,"error",{code:0,msg:"Fail"}),i),m={fetchHistorySnapshot:I,fetchNewHistoryList:O,revertHistory:(a={},(0,S.Z)(a,"default",{code:0,msg:"Success",data:{query_duration:10,event_id:"mock_event_id"}}),(0,S.Z)(a,"error",{code:0,msg:"Fail"}),a),getRevertStatus:R},A=(c={},(0,S.Z)(c,"fetchNewHistoryList",{isUseMock:!1,scene:"default",delay:0}),(0,S.Z)(c,"fetchHistorySnapshot",{isUseMock:!1,scene:"default",delay:0}),(0,S.Z)(c,"revertHistory",{isUseMock:!1,scene:"default",delay:0}),(0,S.Z)(c,"getRevertStatus",{isUseMock:!1,scene:"default",delay:0}),c),C=function(e){Object.keys(A).forEach((function(t){var n=A[t];if(n&&n.isUseMock){var r=n.scene,o=void 0===r?"default":r,i=n.delay,a=void 0===i?0:i;e.prototype[t]=(0,E.Z)(_().mark((function e(){var n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[history service] mock ".concat(t,', scene: "').concat(o,'"'),A[t]),e.next=3,(0,p._v)(a);case 3:return(n=m[t][o]).__isMock__=!0,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))}}))},h=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,d.Z)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v={HISTORY_SNAPSHOT_URL:"/api/doc/history/snapshot/",HISTORY_LIST_URL:"/api/doc/history/",REVERT_HISTORY:"/api/doc/history/revert/",REVERT_STATUS:"/api/doc/history/revert/status/",HISTORY_CHANGESET:"/api/doc/history/changeset/"},D=null,N={RUNNING:0,SUCCESSES:1,FAILED:2},L=u=function(){function e(t){(0,l.Z)(this,e),this.request=t}var t,n;return(0,f.Z)(e,[{key:"fetchHistorySnapshot",value:function(e){return this.request.get(v.HISTORY_SNAPSHOT_URL,e)}},{key:"checkNewHistoryEnabled",value:(n=(0,E.Z)(_().mark((function e(t){var n,r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={doc_token:t.doc_token,version:0,page_size:1},e.next=3,this.fetchNewHistoryList(n).catch((function(e){return e}));case 3:return r=e.sent,e.abrupt("return",0!==(0,T.default)(r,["data","major_history","length"]));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"fetchNewHistoryList",value:function(e){return this.request.get(v.HISTORY_LIST_URL,e)}},{key:"revertHistory",value:function(e){return this.request.post(v.REVERT_HISTORY,e)}},{key:"getRevertStatus",value:function(e){return this.request.get(v.REVERT_STATUS,e)}},{key:"revertHistoryAndGetStatus",value:(t=(0,E.Z)(_().mark((function e(t){var n,r,o,i,a,c,u,s,E,l,f,d;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.revertHistory(t);case 2:return n=e.sent,r=2,o=n.data,i=o.event_id,a=o.query_duration,c=void 0===a?60:a,u=Math.round(c/r),s=!!i,E=0,e.next=10,(0,p._v)(1e3*r);case 10:if(s){e.next=13;break}return e.abrupt("break",29);case 13:return E++,e.next=16,this.getRevertStatus({doc_token:t.doc_token,event_id:i});case 16:if(l=e.sent,f=l.data.status,d=E>=u,!(s=f===N.RUNNING&&!d)){e.next=25;break}return e.next=23,(0,p._v)(1e3*r);case 23:e.next=27;break;case 25:return d&&(l.isTimeout=!0),e.abrupt("return",l);case 27:e.next=10;break;case 29:return e.abrupt("return",n);case 30:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"fetchHistoryChangesetList",value:function(e){return this.request.get(v.HISTORY_CHANGESET,e)}}],[{key:"getInstance",value:function(e){return D||(D=new u(e)),D}}]),e}();L=u=h([C],L)},680570:function(e,t,n){"use strict";n.d(t,{f$:function(){return c},_v:function(){return s},Wb:function(){return E},I2:function(){return l},Bm:function(){return f},Td:function(){return d}});var r=n(298652),o=n(635382),i=n(829033),a=n(979434);function c(e,t,n,i){if(!t.length)return[];var a=e.filter((function(e){return e.edit_time>=n&&e.edit_time<i})),c=[].concat((0,r.Z)(a),(0,r.Z)(t));return(0,o.Z)(c,(function(e){return-e.edit_time}))}var u,s=function(e){return new Promise((function(t){return setTimeout(t,e)}))},_=(u=0,function(){return u++});function E(){return"".concat(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",n="",r=0;r<e;r++){n+=t[Math.floor(Math.random()*t.length)]}return n}(10),"-").concat(_())}function l(e){return[a._t.add,a._t.del,a._t.change].includes(e)}function f(e,t){return"".concat(a.wg).concat(e).concat((0,i.default)(t)?"":"-".concat(t))}function d(e){var t={};return e.forEach((function(e){t[e[0]]=e[1]})),t}},121:function(e,t,n){"use strict";n.d(t,{p:function(){return a}});var r=n(978733),o=n(481382),i=n(442086);function a(e){return e?(0,r.Bm)(e)?o.EXPLORER_URL_TYPE.V2:o.EXPLORER_URL_TYPE.V1:i.MT?o.EXPLORER_URL_TYPE.V2:o.EXPLORER_URL_TYPE.V1}},528326:function(e,t,n){"use strict";n.d(t,{$:function(){return T}});var r=n(367017),o=n.n(r),i=n(335067),a=n(359980),c=n(357081),u=n(374179),s=n(360851),_=n(15458),E=(0,s.mV)("space_polling_duration",2e3),l=(0,s.mV)("space_polling_max_count",10);function f(e){return d.apply(this,arguments)}function d(){return(d=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.WY.get(c.mb.GET_TASK_SCHEDULE,{params:{task_id:t}});case 2:if(n=e.sent,!(0,a.default)(n,"data.is_fail")){e.next=5;break}throw new Error("task failed");case 5:return e.abrupt("return",(0,a.default)(n,"data.is_finish"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return p.apply(this,arguments)}function p(){return p=(0,i.Z)(o().mark((function e(){var t,n,r,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},n=(0,a.default)(t,"data.task_id")){e.next=4;break}return e.abrupt("return");case 4:r=0;case 5:if(!(r++<l)){e.next=15;break}return e.next=8,f(n);case 8:if(!e.sent){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,(0,u._v)(E);case 13:e.next=5;break;case 15:throw new Error("polling count exceeded");case 16:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}},667547:function(e,t,n){"use strict";n.d(t,{OH:function(){return _},ci:function(){return E},fd:function(){return l},OZ:function(){return f},NH:function(){return d}});var r=n(251488),o=n(455982),i=n(523232),a=n(958608),c=n(189735),u=n(306797),s=n(191318),_=function(e){return(0,i.P1)(e,(function(e){return(0,o.aV)(e)}))},E=function(e){return(0,i.P1)(e,u.wg,u.v6,u.hL,(function(e,t,n,r){return(0,c.ND)((0,o.aV)(e),t,n,r)}))},l=function(e){return(0,i.P1)(e,u.hL,(function(e,t){return(0,c.gr)((0,o.aV)(e),t)}))},f=function(e){return(0,i.P1)(e,u.wg,u.v6,u.hL,(function(e,t,n,r){return(0,o.aV)(e).map((function(e){var o=e.meta_token,i=e.meta_type;return(0,s.I8)({meta_token:o,meta_type:i},{nodes:t,shortcuts:n,objs:r})}))}))},d=function(e){return(0,i.P1)(e,a.HV,(function(e,t){return t.map((function(t){return(0,r.Z)(e,(function(e){return t.meta_token===e}))})).filter((function(e){return-1!==e}))}))}},483362:function(e,t,n){"use strict";n.d(t,{BM:function(){return _},JY:function(){return E},WS:function(){return l},rz:function(){return f},pe:function(){return d},zl:function(){return T},bG:function(){return p},XB:function(){return S},vg:function(){return I},RD:function(){return O},Tp:function(){return R},iS:function(){return m},p$:function(){return A}});var r=n(455982),o=n(359980),i=n(985001),a=n(481382),c=n(545145),u=n(109373),s=n(699325),_="lightweight-search-input__inner-input",E="favoriteFolderToken";function l(e){var t,n;return!!e.target&&(e.target.classList.contains("advanced-search-owner__inner-input")||e.target.classList.contains("advanced-search-chat__inner-input")||(null===(t=e.target.parentElement)||void 0===t||null===(n=t.parentElement)||void 0===n?void 0:n.classList.contains(_)))}function f(e){var t={};return e.obj_types===u.OBJ_TYPE.ALL?t.obj_types=u.OBJ_ALL.join(","):t.obj_types=e.obj_types,t}function d(e){try{var t=localStorage.getItem(e)||"[]",n=JSON.parse(t),o=function(e){switch(e){case u.FILTER.CURRENT_SEARCH_CHATS:return function(e){return new s.dE(e)};case u.FILTER.CURRENT_SEARCH_USERS:return function(e){return new s.Ge(e)};case u.FILTER.CURRENT_SEARCH_WIKI_SPACE:return function(e){return new s.FI(e)};case u.FILTER.CURRENT_SEARCH_FOLDER:return function(e){return new s.Iq(e)}}}(e);if(Array.isArray(n)){var i=n.map((function(e){return e.isChosen=!1,o(e)}));return(0,r.aV)(i)}throw new Error("".concat(e," in storage is not Array"))}catch(e){return console.error(e),(0,r.aV)([])}}function T(e,t){var n=e.filter((function(e){return e.get("isChosen")}));d(t).forEach((function(e){var t=e.getId();n.find((function(e){return(e.get("id")||e.getId())===t}))||(n=n.push(e))}));var r=t===u.FILTER.CURRENT_SEARCH_USERS?4:5,o=n.slice(0,r).toJS();localStorage.setItem(t,JSON.stringify(o))}function p(e,t){var n=d(t),r=n.findIndex((function(t){return t.getId()===e}));-1!==r&&(n=n.splice(r,1)),localStorage.setItem(t,JSON.stringify(n.toJS()))}var S=function(e){return[e.space_name,e.space_id,e.wiki_token,e.wiki_url].every((function(e){return void 0!==e&&""!==e}))},I=function(e){return(0,i.Z)(e)?e.filter(S):[]},O=function(e){return[e.space_name,e.space_id,e.wiki_token,e.wiki_url].every((function(e){return void 0!==e}))},R=function(e){var t=e.obj_type;if(!(e.type===u.OBJ_TYPE.WIKI))return!1;if(!(null!=t))return!1;var n=e.extra;return Boolean(n&&void 0!==n.wiki_subtype&&"number"==typeof n.wiki_subtype)},m=function(e){var t=e.extra;return Boolean(t&&"number"==typeof t.wiki_subtype&&"string"==typeof t.wiki_sub_token)},A=function(e){var t,n=e.wiki_infos&&I(e.wiki_infos).length>0;return(t=Boolean(n||e.type===u.OBJ_TYPE.WIKI)?(0,o.default)(e,"extra.wiki_subtype")||e.obj_type||e.type:e.obj_type||e.type)&&a.mapTypeNumToFileType[t]||c.G.DOC}},850767:function(e,t,n){"use strict";n.d(t,{pl:function(){return r.pl},rw:function(){return r.rw}});var r=n(113042)},188572:function(e,t,n){"use strict";n.d(t,{t:function(){return s},T:function(){return _}});var r=n(774561),o=n(481382),i=n(354198),a=n(487687),c=n(614795),u=n(465872),s=function(e){var t,n=e.requestParams,s=e.fetchType,_=e.lastLabel,E=e.fetchLength;return t={type:u.H.FETCH_MY_SPACE_2_NEW_OBJ_LIST},(0,r.Z)(t,i.F,!0),(0,r.Z)(t,o.REQUEST,{url:c.GET_MY_SPACE_OBJ_V3,method:c.METHOD.GET,params:Object.assign({},n,{last_label:_,length:E||100}),options:{retryConfig:a.Z.explorer.retryConfig,transformResponse:function(e){return Object.assign({},e,{fetchType:s})}}}),t},_=function(e,t){var n;return n={},(0,r.Z)(n,o.DEFERRED,!0),(0,r.Z)(n,"type",u.H.FETCH_MY_SPACE_2_NEW_OBJ_LIST_WITHIN_PARAMS),(0,r.Z)(n,"payload",{fetchType:e,fetchLength:t}),n}},734504:function(e,t,n){"use strict";n.d(t,{i:function(){return _},r:function(){return E}});var r=n(774561),o=n(26278),i=n(481382),a=n(354198),c=n(246479),u=n(812990),s=["params"],_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=void 0===t?{}:t,_=(0,o.Z)(e,s);return(0,r.Z)({type:c.H.intermediate.FETCH_PAGED_DATA,payload:(0,r.Z)({realActionType:u.H.FETCH_MY_OBJECT_LIST,params:Object.assign({length:i.DEFAULT_FETCH_SIZE},i.THUMBNAIL_REQUEST_PARAM,n),options:Object.assign({isContinuous:!1,onlyUpdateEntity:!1},_)},a.F,!0)},i.DEFERRED,!0)},E=function(){var e;return e={},(0,r.Z)(e,i.DEFERRED,!0),(0,r.Z)(e,"type",u.H.FETCH_MY_OBJECT_LIST_WITHIN_PARAMS),e}},117595:function(e,t,n){"use strict";n.d(t,{F:function(){return d},B:function(){return T}});var r=n(774561),o=n(26278),i=n(842977),a=n(359980),c=n(565726),u=n(614795),s=n(481382),_=n(354198),E=n(383127),l=["params"],f={obj_type:(0,i.Z)(s.SPACE_LIST_ALL_OBJ_TYPES_PARAM,s.NUM_FILE_TYPE.WIKI)},d=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.params,i=void 0===n?{}:n,d=(0,o.Z)(t,l);return e={type:E.H.FETCH_MY_SPACE_LIST},(0,r.Z)(e,s.REQUEST,{url:u.GET_MY_SPACE_V3,method:u.METHOD.GET,params:Object.assign({},s.THUMBNAIL_REQUEST_PARAM,{},f,{},i,{length:void 0}),options:{takeLatest:!0,transformResponse:function(e,t,n){if(n){var r=(0,a.default)(e,"node_list",[]),o=(0,a.default)(e,"entities.nodes",{});(0,c.Z)(r,(function(e,t){var n=o[e];if(!n.token){var i="".concat(e,"_");n.token=i,r[t]=i,delete o[e],o[i]=n}}))}return Object.assign({},e,{isContinuous:!1},d)}}}),(0,r.Z)(e,_.F,!0),e},T=function(){var e;return e={},(0,r.Z)(e,s.DEFERRED,!0),(0,r.Z)(e,"type",E.H.FETCH_MY_SPACE_LIST_WITHIN_PARAMS),e}},937727:function(e,t,n){"use strict";n.d(t,{Q:function(){return _},n:function(){return E}});var r,o=n(774561),i=n(614795),a=n(481382),c=n(354198),u=n(487687),s=n(404671);!function(e){e[e.PersonalFolder=0]="PersonalFolder",e[e.SharedFolder=1]="SharedFolder"}(r||(r={}));var _=function(e){var t,n=e.requestParams,_=e.fetchType,E=e.lastLabel,l=e.onlyPersonalFolders,f=Object.assign({},n,{last_label:E,length:50});return!0===l&&(f.folder_type=r.PersonalFolder),t={type:s.H.FETCH_MY_SPACE_2_NEW_FOLDER},(0,o.Z)(t,c.F,!0),(0,o.Z)(t,a.REQUEST,{url:i.GET_MY_SPACE_FOLDER_V3,method:i.METHOD.GET,params:f,options:{retryConfig:u.Z.explorer.retryConfig,transformResponse:function(e){return Object.assign({},e,{fetchType:_})}}}),t},E=function(e){var t;return t={},(0,o.Z)(t,a.DEFERRED,!0),(0,o.Z)(t,"type",s.H.FETCH_MY_SPACE_2_NEW_FOLDER_WITHIN_PARAMS),(0,o.Z)(t,"payload",{fetchType:e}),t}},438203:function(e,t,n){"use strict";n.d(t,{E$:function(){return s},Vm:function(){return _}});var r=n(774561),o=n(614795),i=n(481382),a=n(354198),c=n(487687),u=n(253232),s=function(e){var t,n=e.requestParams,s=e.willUpdateStatus,_=void 0!==s&&s;return t={type:u.H.FETCH_MY_SPACE_FOLDER},(0,r.Z)(t,a.F,_),(0,r.Z)(t,i.REQUEST,{url:o.GET_FETCH_FILE_META,method:o.METHOD.GET,params:Object.assign({type:i.NUM_FILE_TYPE.FOLDER},n),options:{retryConfig:c.Z.explorer.retryConfig}}),t},_=function(){var e;return e={},(0,r.Z)(e,i.DEFERRED,!0),(0,r.Z)(e,"type",u.H.FETCH_MY_SPACE_FOLDER_WITHIN_PARAMS),e}},948096:function(e,t,n){"use strict";n.d(t,{LD:function(){return s},PB:function(){return _},Fm:function(){return E},ne:function(){return l}});var r=n(774561),o=n(614795),i=n(481382),a=n(354198),c=n(60389),u=n(278084),s=function(e){var t,n=e.params,c=e.hidden,s=e.fetchType,_=e.lastLabel;return t={type:u.H.FETCH_V2_SHARED_FOLDERS},(0,r.Z)(t,i.REQUEST,{url:o.GET_SHARE_FOLDER_V2,method:o.METHOD.GET,params:Object.assign({},n,{hidden:c,last_label:_,length:50}),options:{transformResponse:function(e){return Object.assign({},e,{hidden:c,fetchType:s})}}}),(0,r.Z)(t,a.F,!0),t},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.hh.FetchNormal;return(0,r.Z)({type:u.H.FETCH_V2_SHARED_FOLDER_WITHIN_PARAMS,payload:{hidden:e,fetchType:t}},i.DEFERRED,!0)},E=function(e){return(0,r.Z)({type:u.H.SHOW_V2_SHARED_FOLDER},i.REQUEST,{url:o.POST_SHOW_V2_SHARE_FOLDER,method:o.METHOD.POST,data:{token:e},options:{transformResponse:function(t){return Object.assign({},t,{token:e})}}})},l=function(e){return(0,r.Z)({type:u.H.HIDE_V2_SHARED_FOLDER},i.REQUEST,{url:o.POST_HIDE_V2_SHARE_FOLDER,method:o.METHOD.POST,data:{token:e},options:{transformResponse:function(t){return Object.assign({},t,{token:e})}}})}},477671:function(e,t,n){"use strict";n.d(t,{HW:function(){return s},tp:function(){return _},K3:function(){return E},Af:function(){return l}});var r=n(774561),o=n(614795),i=n(481382),a=n(354198),c=n(487687),u=n(798016),s=function(e){var t,n=e.requestParams,s=e.hidden,_=e.beShared,E=e.willUpdatePath,l=e.willUpdateStatus,f=void 0!==l&&l;return t={type:u.H.FETCH_ROOT_SHARE_FOLDER,payload:{willUpdatePath:E}},(0,r.Z)(t,a.F,f),(0,r.Z)(t,i.REQUEST,{url:o.GET_ROOT_SHARE_FOLDERS,method:o.METHOD.GET,params:Object.assign({hidden:s,be_shared:_},n),options:{retryConfig:c.Z.explorer.retryConfig,transformResponse:function(e){return Object.assign({},e,{hidden:s,beShared:_,willUpdatePath:E})}}}),t},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,r.Z)({type:u.H.FETCH_ROOT_SHARE_FOLDER_WITHIN_PARAMS,payload:{hidden:e,willUpdatePath:t}},i.DEFERRED,!0)},E=function(e){return(0,r.Z)({type:u.H.SHOW_SHARE_FOLDER},i.REQUEST,{url:o.POST_SHOW_SHARE_FOLDER,method:o.METHOD.POST,data:{token:e},options:{transformResponse:function(t){return Object.assign({},t,{token:e})}}})},l=function(e){return(0,r.Z)({type:u.H.HIDE_SHARE_FOLDER},i.REQUEST,{url:o.POST_HIDE_SHARE_FOLDER,method:o.METHOD.POST,data:{token:e},options:{transformResponse:function(t){return Object.assign({},t,{token:e})}}})}},386418:function(e,t,n){"use strict";var r;n.d(t,{G:function(){return r}}),function(e){e.HomeStar="HomeStar",e.Star="Star",e.Pin="Pin",e.Recent="Recent",e.MyObject="MyObject",e.MySpace="MySpace",e.SharedWithMe="SharedWithMe",e.WikiHotList="WikiHotList",e.WikiSpaces="WikiSpaces",e.WikiMySubscription="WikiMySubscription",e.WikiV1AllSpace="WikiV1AllSpace",e.WikiV1StarSpace="WikiV1StarSpace",e.WikiV1AllSpace_SC="WikiV1AllSpace_SC",e.WikiV1StarSpace_SC="WikiV1StarSpace_SC",e.WikiRecommend="WikiRecommend",e.SharedWithMe2="SharedWithMe2",e.PreviousShared="PreviousShared",e.Trash="Trash",e.SharedFolderTrash="SharedFolderTrash",e.SharedFolder="SharedFolder",e.SharedFolder2="SharedFolder2",e.TeamSpace="TeamSpace",e.MyFolder="MyFolder",e.MyFolder2="MyFolder2",e.Folder="Folder",e.Unknown="Unknown",e.Template="Template",e.TemplateItem="TemplateItem",e.Collection="Collection"}(r||(r={}))},440702:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});var r={FETCH_RECOMMEND_LIST:"FETCH_RECOMMEND_LIST",CLEAR_RECOMMEND_LIST:"CLEAR_RECOMMEND_LIST",CACHE_RECOMMEND_FEED_ITEM_THUMBNAIL:"CACHE_RECOMMEND_FEED_ITEM_THUMBNAIL",DISLIKE_RECOMMEND_ITEM:"DISLIKE_RECOMMEND_ITEM"}},955614:function(e,t,n){"use strict";n.d(t,{N:function(){return a}});var r=n(919264),o=n(804175),i="filelist",a=function(){function e(){var t=this;(0,r.Z)(this,e),this.openIndexDB=function(e,t,n){return new Promise((function(r,o){var i=window.indexedDB.open(e,t);i.onsuccess=function(e){var t=e.target;r(t.result)},i.onerror=function(e){o(e)},i.onupgradeneeded=function(e){var t=e.target;n&&n(t.result)}}))},this.openIndexDB("skeleton-file-data_alpha1",1,this._handleUpgrade).then((function(e){t._db=e})).catch((function(e){console.error(e)}))}return(0,o.Z)(e,[{key:"_handleUpgrade",value:function(e){e.createObjectStore(i,{keyPath:"id"}).createIndex("updateTime","updateTime",{unique:!1})}},{key:"_exec",value:function(e){var t=this;return new Promise((function(n,r){t._db||r(new Error("IDB not ready"));var o=t._db.transaction([i],"readwrite");o.oncomplete=n,o.onabort=function(e){return r(e.target.error)};var a=o.objectStore(i);e(a)}))}},{key:"save",value:function(e,t){var n={id:e,updateTime:Date.now(),data:t};return this._exec((function(e){return e.put(n)}))}},{key:"clear",value:function(e){return this._exec((function(t){return t.delete(e)}))}},{key:"clearAll",value:function(){return this._exec((function(e){return e.clear()}))}}],[{key:"getInstance",value:function(){return e._instance||(e._instance=new e),e._instance}}]),e}()},32644:function(e,t,n){"use strict";n.d(t,{RX:function(){return a}});var r=n(555548),o=n(830145),i=n(893835),a=function(e){var t,n,a,c=e.wrapperRef,u=e.wrapperRect,s=e.viewMode,_=e.fallbackSize,E=void 0===_?40:_,l=e.rowHeight;try{t=function(e){var t,n=e.viewMode,i=e.containerDimension,a=e.fallbackSize,c=e.rowHeight;switch(n){case r.wO.List:t=Math.ceil(i.height/(c||o.LIST_VIEW_DEFAULT_ROW_HEIGHT_V2));break;case r.wO.NormalGrid:t=Math.ceil(i.height/o.GRID_VIEW_DEFAULT_ROW_HEIGHT)*Math.floor(i.width/o.GRID_VIEW_MIN_WIDTH)}return void 0===t||t===1/0||Number.isNaN(t)||0===t?a:t}({viewMode:s,containerDimension:{width:u?u.width:(n=c,a="width",parseInt(getComputedStyle(n)[a],10)),height:window.innerHeight},fallbackSize:E,rowHeight:l})}catch(e){var f=window,d=f.innerHeight,T=f.innerWidth;return(0,i.Tb)(new Error("getListFetchSize failed: using innerHeight"),{extras:{error:e,innerHeight:d,innerWidth:T,isWrapperExisted:void 0===c}}),E}return t}},189097:function(e,t,n){"use strict";n.d(t,{yJ:function(){return o},w:function(){return i}});var r=n(614795),o="".concat(r.EXPLORER,"/dustbin/children/"),i=("".concat(r.EXPLORER_V2,"/trash/list/"),"".concat(r.EXPLORER_V3,"/trash/list/"))},926801:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});var r=Object.assign({},{WIKI_GET_ALL_SPACE:"WIKI_V2_GET_ALL_SPACE",WIKI_FETCH_RECENT_VISIT_PAGE_IN_SUITE_BACK_NAV:"WIKI_V2_FETCH_RECENT_VISIT_PAGE_IN_SUITE_BACK_NAV",WIKI_ADD_STAR_SPACE:"WIKI_V2_ADD_STAR_SPACE",WIKI_DEL_STAR_SPACE:"WIKI_V2_DEL_STAR_SPACE",WIKI_FETCH_ADMIN_PERMISSION:"WIKI_V2_FETCH_ADMIN_PERMISSION",WIKI_UPDATE_DATA_WHEN_LEAVE:"WIKI_V2_UPDATE_DATA_WHEN_LEAVE"},{},{WIKI_DELETE_SPACE:"WIKI_V2_DELETE_SPACE",WIKI_FETCH_STARRED_SPACES:"WIKI_V2_FETCH_STARRED_SPACES",WIKI_FETCH_SPACES_BY_TYPE:"WIKI_V2_FETCH_SPACES_BY_TYPE",WIKI_SET_COLLECTION_VIEW_MODE:"WIKI_V2_SET_COLLECTION_VIEW_MODE",WIKI_SET_SPACES:"WIKI_V2_SET_SPACES",WIKI_UPDATE_SPACE_INFO:"WIKI_V2_UPDATE_SPACE_INFO",WIKI_SPACE_CREATE_BY_TEMPLATE:"WIKI_V2_SPACE_CREATE_BY_TEMPLATE",WIKI_FETCH_SPACE_INFO:"WIKI_V2_FETCH_SPACE_INFO",WIKI_FETCH_NOTICE_LIST:"WIKI_V2_FETCH_NOTICE_LIST",WIKI_FETCH_SPACE_INFO_BATCH:"WIKI_V2_FETCH_SPACE_INFO_BATCH",WIKI_FETCH_PAGE_TREE_INIT_DATA_NEW:"WIKI_V2_FETCH_PAGE_TREE_INIT_DATA_NEW"})},349944:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});var r=Object.assign({},{WIKI_GET_ALL_SPACE_V1:"WIKI_GET_ALL_SPACE_V1",WIKI_FETCH_RECENT_VISIT_PAGE_IN_SUITE_BACK_NAV:"WIKI_FETCH_RECENT_VISIT_PAGE_IN_SUITE_BACK_NAV",WIKI_ADD_STAR_SPACE:"WIKI_ADD_STAR_SPACE",WIKI_DEL_STAR_SPACE:"WIKI_DEL_STAR_SPACE",WIKI_FETCH_ADMIN_PERMISSION:"WIKI_FETCH_ADMIN_PERMISSION",WIKI_UPDATE_DATA_WHEN_LEAVE:"WIKI_UPDATE_DATA_WHEN_LEAVE"},{},{WIKI_FETCH_RECENT_HOT_LIST:"WIKI_FETCH_RECENT_HOT_LIST",WIKI_FETCH_BANNER_LIST:"WIKI_FETCH_BANNER_LIST",WIKI_FETCH_SUBSCRIBED_LIST:"WIKI_FETCH_SUBSCRIBED_LIST",WIKI_CACHE_RECENT_HOT_LIST:"WIKI_CACHE_RECENT_HOT_LIST",WIKI_FETCH_SPACE_PERMISSION_CONFIG_USE_CACHE:"WIKI_FETCH_SPACE_PERMISSION_CONFIG_USE_CACHE",WIKI_FETCH_SPACE_PERMISSION_CONFIG:"WIKI_FETCH_SPACE_PERMISSION_CONFIG",WIKI_FETCH_EDITABLE_SPACES:"WIKI_FETCH_EDITABLE_SPACES",WIKI_UPDATE_EDITABLE_SPACE:"WIKI_UPDATE_EDITABLE_SPACE",WIKI_UPDATE_HOME_VERSION:"WIKI_UPDATE_HOME_VERSION"})},583931:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});var r=Object.assign({},{WIKI_INIT_REDUX:"WIKI_V2_NIT_REDUX",WIKI_ADD_LOADING_KEY:"WIKI_V2_ADD_LOADING_KEY",WIKI_CHANGE_CURRENT_WIKI_MODE:"WIKI_V2_CHANGE_CURRENT_WIKI_MODE",WIKI_CHANGE_SIDEBAR_VISIBLE:"WIKI_V2_CHANGE_SIDEBAR_VISIBLE",WIKI_CLEAN_UP_PAGE_TREE_STATE:"WIKI_V2_CLEAN_UP_PAGE_TREE_STATE",WIKI_FETCH_SPACE_INFO:"WIKI_V2_FETCH_SPACE_INFO",WIKI_FETCH_SPACE_INFO_BATCH:"WIKI_V2_FETCH_SPACE_INFO_BATCH",WIKI_JUMP:"WIKI_V2_JUMP",WIKI_ADD_STAR_SPACE:"WIKI_V2_ADD_STAR_SPACE",WIKI_DEL_STAR_SPACE:"WIKI_V2_DEL_STAR_SPACE",WIKI_FETCH_ADMIN_PERMISSION:"WIKI_V2_FETCH_ADMIN_PERMISSION",WIKI_UPDATE_DATA_WHEN_LEAVE:"WIKI_V2_UPDATE_DATA_WHEN_LEAVE",WIKI_DEL_LOADING_KEY:"WIKI_V2_DEL_LOADING_KEY",WIKI_DELETE_SPACE:"WIKI_V2_DELETE_SPACE",WIKI_FETCH_DEL_TEEE_NODE:"WIKI_V2_FETCH_DEL_TEEE_NODE",WIKI_FETCH_MOVE_TREE_NODE_V2:"WIKI_V2_FETCH_MOVE_TREE_NODE_V2",WIKI_MULTI_MOVE_TREE_NODE_V2:"WIKI_V2_MULTI_MOVE_TREE_NODE_V2",WIKI_FETCH_MOVE_NODE_AUTHORIZED_USERINFO:"WIKI_FETCH_MOVE_NODE_AUTHORIZED_USERINFO",WIKI_FETCH_APPLY_MOVE_NODE:"WIKI_FETCH_APPLY_MOVE_NODE",WIKI_TRIGGER_MULTI_MOVE_TREE_NODE_V2:"WIKI_V2_TRIGGER_MULTI_MOVE_TREE_NODE_V2",WIKI_FETCH_SUITE_TOKEN:"WIKI_V2_FETCH_SUITE_TOKEN",WIKI_GET_META:"WIKI_V2_GET_META",WIKI_GET_OBJ_PATH:"WIKI_V2_GET_OBJ_PATH",WIKI_IMPORT_FOLDER:"WIKI_V2_MPORT_FOLDER",WIKI_IMPORT_FOLDER_LISTEN:"WIKI_V2_MPORT_FOLDER_LISTEN",WIKI_PAGE_CREATE_FROM_DOC:"WIKI_V2_PAGE_CREATE_FROM_DOC",WIKI_PAGE_TREE_ADD_TREE_NODE_V2:"WIKI_V2_PAGE_TREE_ADD_TREE_NODE_V2",WIKI_PAGE_TREE_CREATE_WIKI:"WIKI_V2_PAGE_TREE_CREATE_WIKI",WIKI_PAGE_TREE_DEL_TREE_NODE:"WIKI_V2_PAGE_TREE_DEL_TREE_NODE",WIKI_PAGE_TREE_DEL_TREE_NODE_PURE:"WIKI_V2_PAGE_TREE_DEL_TREE_NODE_PURE",WIKI_PAGE_TREE_DRAG_NODE_V2:"WIKI_V2_PAGE_TREE_DRAG_NODE_V2",WIKI_PAGE_TREE_FETCH_CHILDREN:"WIKI_V2_PAGE_TREE_FETCH_CHILDREN",WIKI_PAGE_TREE_MOVE_TREE_NODE_V2:"WIKI_V2_PAGE_TREE_MOVE_TREE_NODE_V2",WIKI_PAGE_TREE_UPDATE_EXPANDED_KEYS:"WIKI_V2_PAGE_TREE_UPDATE_EXPANDED_KEYS",WIKI_PAGE_TREE_UPDATE_MEMBER_ID:"WIKI_V2_PAGE_TREE_UPDATE_MEMBER_ID",WIKI_REMOVE_PERMISSION:"WIKI_V2_REMOVE_PERMISSION",WIKI_REPORT_RECENT_VISIT:"WIKI_V2_REPORT_RECENT_VISIT",WIKI_SCROLL_INTO_HIGHLIGHTED_ITEM:"WIKI_V2_SCROLL_INTO_HIGHLIGHTED_ITEM",WIKI_SET_RENAME_NODE:"WIKI_V2_SET_RENAME_NODE",WIKI_SET_SPACE_COVER:"WIKI_V2_SET_SPACE_COVER",WIKI_SPACE_CREATE:"WIKI_V2_SPACE_CREATE",WIKI_SPACE_SYNC_DELETE:"WIKI_V2_SPACE_SYNC_DELETE",WIKI_TEA_EVENT_CREATE_NEW_OBJ_IN_WIKI:"WIKI_V2_TEA_EVENT_CREATE_NEW_OBJ_IN_WIKI",WIKI_TEA_EVENT_WIKI:"WIKI_V2_COLLECT_EVENT",WIKI_TOGGLE_READONLY_MODE:"WIKI_V2_TOGGLE_READONLY_MODE",WIKI_UPDATE_NODE_TITLE:"WIKI_V2_UPDATE_NODE_TITLE",WIKI_UPDATE_PAGE_VISIBILITY_STATE:"WIKI_V2_UPDATE_PAGE_VISIBILITY_STATE",WIKI_UPDATE_SPACE_INFO:"WIKI_V2_UPDATE_SPACE_INFO",WIKI_UPDATE_SPACE_MEMBER:"WIKI_V2_UPDATE_SPACE_MEMBER",WIKI_UPLOAD_SPACE_COVER:"WIKI_V2_UPLOAD_SPACE_COVER",WIKI_REPLACE_SHORTCUT_WITH_ENTITY:"WIKI_REPLACE_SHORTCUT_WITH_ENTITY",ui:{OPEN_MODAL:"@@ui/OPEN_MODAL",CLOSE_MODAL:"@@ui/CLOSE_MODAL",CONFIRM_OR_CANCEL_ACTION_FROM_MODAL:"@@ui/CONFIRM_OR_CANCEL_ACTION_FROM_MODAL",CLICK_CONTEXTMENU_ITEM:"@@ui/CLICK_CONTEXTMENU_ITEM",CLICK_DROPDOWNMENU_ITEM:"@@ui/CLICK_DROPDOWNMENU_ITEM",RIGHT_CLICK_FILE_LIST_ITEM:"@@ui/RIGHT_CLICK_FILE_LIST_ITEM"}},{},{WIKI_FETCH_TRASH_LIST:"WIKI_V2_FETCH_TRASH_LIST",WIKI_NAVIGATE_TO_SPACE_OVERVIEWE:"WIKI_V2_NAVIGATE_TO_SPACE_OVERVIEWE",WIKI_ADD_FAVORITE:"WIKI_V2_ADD_FAVORITE",WIKI_CHANGE_SIDEBAR_HEIGHT:"WIKI_V2_CHANGE_SIDEBAR_HEIGHT",WIKI_DEL_FAVORITE:"WIKI_V2_DEL_FAVORITE",WIKI_DEL_LOADING_KEYS:"WIKI_V2_DEL_LOADING_KEYS",WIKI_FETCH_FAVORITE_ROOT_NODES:"WIKI_V2_FETCH_FAVORITE_ROOT_NODES",WIKI_FETCH_MOVE_FAVORITE_NODE:"WIKI_V2_FETCH_MOVE_FAVORITE_NODE",WIKI_FETCH_NODE_PERMISSION:"WIKI_V2_FETCH_NODE_PERMISSION",WIKI_FETCH_PAGE_TREE_INIT_DATA_NEW:"WIKI_V2_FETCH_PAGE_TREE_INIT_DATA_NEW",WIKI_FETCH_SPACE_MEMBERS:"WIKI_V2_FETCH_SPACE_MEMBERS",WIKI_FETCH_SPACE_PERMISSION:"WIKI_V2_FETCH_SPACE_PERMISSION",WIKI_FETCH_WIKI_NODE:"WIKI_V2_FETCH_WIKI_NODE",WIKI_FETCH_MULTI_WIKI_NODE:"WIKI_V2_FETCH_MULTI_WIKI_NODE",WIKI_MOVE_SUITE_FROM_SPACE_TO_WIKI_SUCCESS:"WIKI_V2_MOVE_SUITE_FROM_SPACE_TO_WIKI_SUCCESS",WIKI_PAGE_TREE_ADD_EXPANDED_KEYS:"WIKI_V2_PAGE_TREE_ADD_EXPANDED_KEYS",WIKI_PAGE_TREE_CREATE_SHORTCUT:"WIKI_V2_PAGE_TREE_CREATE_SHORTCUT",WIKI_PAGE_TREE_COPY_NODE:"WIKI_V2_PAGE_TREE_COPY_NODE",WIKI_REMOVE_CROSS_SPACE_MOVED_FAVORITE_NODES:"WIKI_V2_REMOVE_CROSS_SPACE_MOVED_FAVORITE_NODES",WIKI_FETCH_PAGINATION_WIKI_CHILDREN:"WIKI_V2_FETCH_PAGINATION_WIKI_CHILDREN",WIKI_PAGE_TREE_MULTI_CREATE_SHORTCUT:"WIKI_V2_PAGE_TREE_MULTI_CREATE_SHORTCUT",WIKI_PAGE_TREE_TRIGGER_MULTI_CREATE_SHORTCUT:"WIKI_V2_PAGE_TREE_TRIGGER_MULTI_CREATE_SHORTCUT",WIKI_PAGE_TREE_DEL_EXPANDED_KEYS:"WIKI_V2_PAGE_TREE_DEL_EXPANDED_KEYS",WIKI_PAGE_TREE_MOVE_FAVORITE_NODE:"WIKI_V2_PAGE_TREE_MOVE_FAVORITE_NODE",WIKI_PAGE_TREE_SYNC_ADD_V3:"WIKI_V2_PAGE_TREE_SYNC_ADD_V3",WIKI_PAGE_TREE_SYNC_MULTI_ADD_V3:"WIKI_V2_PAGE_TREE_SYNC_MULTI_ADD_V3",WIKI_PAGE_TREE_SYNC_DEL_V3:"WIKI_V2_PAGE_TREE_SYNC_DEL_V3",WIKI_PAGE_TREE_SYNC_MOV_V3:"WIKI_V2_PAGE_TREE_SYNC_MOV_V3",WIKI_PAGE_TREE_SYNC_MULTI_MOV_V3:"WIKI_V2_PAGE_TREE_SYNC_MULTI_MOV_V3",WIKI_PAGE_TREE_SYNC_RESTORE_V3:"WIKI_V2_PAGE_TREE_SYNC_RESTORE_V3",WIKI_PAGE_TREE_SYNC_UPDATE_NODE_PERM_V3:"WIKI_V2_PAGE_TREE_SYNC_UPDATE_NODE_PERM_V3",WIKI_PAGE_TREE_SYNC_UPDATE_V3:"WIKI_V2_PAGE_TREE_SYNC_UPDATE_V3",WIKI_REMOVE_TRASH_ITEM:"WIKI_V2_REMOVE_TRASH_ITEM",WIKI_RESET_TRASH_LIST:"WIKI_V2_RESET_TRASH_LIST",WIKI_SET_NODE_CHILDREN:"WIKI_V2_SET_NODE_CHILDREN",WIKI_SET_SPACE_MEMBERS:"WIKI_V2_SET_SPACE_MEMBERS",WIKI_SPACE_CREATE_BY_TEMPLATE:"WIKI_V2_SPACE_CREATE_BY_TEMPLATE",WIKI_UPDATE_FAVORITE_CHILD_MAP:"WIKI_V2_UPDATE_FAVORITE_CHILD_MAP",WIKI_UPDATE_TREE_CHILD_MAP:"WIKI_V2_UPDATE_TREE_CHILD_MAP",WIKI_UPDATE_TREE_NODE:"WIKI_V2_UPDATE_TREE_NODE",WIKI_UPDATE_TREE_NODE_CHILD_FLAG:"WIKI_V2_UPDATE_TREE_NODE_CHILD_FLAG",WIKI_FETCH_STARRED_SPACES:"WIKI_V2_FETCH_STARRED_SPACES",WIKI_FETCH_SPACES_BY_TYPE:"WIKI_V2_FETCH_SPACES_BY_TYPE",WIKI_SET_SPACES:"WIKI_V2_SET_SPACES",WIKI_ADD_CHILD:"WIKI_ADD_CHILD",WIKI_UPDATE_EXPLORE_STAR:"WIKI_UPDATE_EXPLORE_STAR",WIKI_DIALOG_ADD_LOADING_KEY:"WIKI_DIALOG_ADD_LOADING_KEY",WIKI_DIALOG_DEL_LOADING_KEY:"WIKI_DIALOG_DEL_LOADING_KEY",WIKI_DIALOG_DEL_LOADING_KEYS:"WIKI_DIALOG_DEL_LOADING_KEYS",WIKI_DIALOG_UPDATE_EXPANDED_KEYS:"WIKI_DIALOG_UPDATE_EXPANDED_KEYS",WIKI_DIALOG_ADD_EXPANDED_KEYS:"WIKI_DIALOG_ADD_EXPANDED_KEYS",WIKI_DIALOG_TREE_DEL_EXPANDED_KEYS:"WIKI_DIALOG_TREE_DEL_EXPANDED_KEYS",WIKI_DIALOG_TREE_UPDATE_SELECTED_KEYS:"WIKI_DIALOG_TREE_UPDATE_SELECTED_KEYS",WIKI_DIALOG_TREE_CLEAN_SELECTED_KEYS_BY_SPACE_ID:"WIKI_DIALOG_TREE_CLEAN_SELECTED_KEYS_BY_SPACE_ID",WIKI_DIALOG_TREE_CLEAN_SELECTED_KEYS:"WIKI_DIALOG_TREE_CLEAN_SELECTED_KEYS",WIKI_DIALOG_TREE_CLEAN_EXPANDED_KEYS:"WIKI_DIALOG_TREE_CLEAN_EXPANDED_KEYS",WIKI_DIALOG_TREE_CLEAN_EXPANDED_KEYS_BY_SPACE_ID:"WIKI_DIALOG_TREE_CLEAN_EXPANDED_KEYS_BY_SPACE_ID",onboarding:{HAS_PREVSTEP:"HAS_PREVSTEP"}})},241043:function(e,t,n){"use strict";n.d(t,{W0:function(){return H},zY:function(){return g},KW:function(){return p},QW:function(){return D},Cx:function(){return v},Ny:function(){return y},QZ:function(){return C},GB:function(){return T},PY:function(){return c},Xf:function(){return _},c_:function(){return s},ff:function(){return u},NF:function(){return L},kZ:function(){return O},Ey:function(){return U},dU:function(){return o},fH:function(){return A},cm:function(){return l},MT:function(){return w},ET:function(){return R},z:function(){return r},eS:function(){return I},Lb:function(){return P},OP:function(){return k},_4:function(){return d},hw:function(){return b}});var r,o,i=n(481382),a=n(360851);n(949609);!function(e){e[e.VISITOR=0]="VISITOR",e[e.MEMBER=1]="MEMBER",e[e.ADMIN=2]="ADMIN"}(r||(r={})),function(e){e[e.NONE=0]="NONE",e[e.READ=1]="READ",e[e.EDIT=2]="EDIT"}(o||(o={}));var c,u,s,_,E,l,f=n(60618),d="wiki-container",T="PLACEHOLDER-NODE-ID",p="GAP-NODE-ID";f("wiki.home"),f("wiki.collection_wiki");!function(e){e.TOC_ROOT="TOC-ROOT",e.FAVORITES_ROOT="FAVORITES-ROOT",e.SHARE_WITH_ME_ROOT="SHARE_WITH_ME_ROOT"}(c||(c={})),function(e){e.HOME="home",e.WORKSPACE="workspace"}(u||(u={})),function(e){e.HOME="home",e.SETTINGS="settings"}(s||(s={})),function(e){e.SPACE_LIST="space_list",e.SWITCH_SPACE="switch_space"}(_||(_={})),function(e){e[e.DENIED=0]="DENIED",e[e.VIEW=1]="VIEW",e[e.EDIT=2]="EDIT"}(E||(E={})),function(e){e[e.USER=0]="USER",e[e.LARK_CHAT=2]="LARK_CHAT",e[e.DEPARTMENT=18]="DEPARTMENT",e[e.DYNAMIC_GROUP=22]="DYNAMIC_GROUP"}(l||(l={}));var S,I=50;!function(e){e[e.WIKI_PAGE=0]="WIKI_PAGE",e[e.SPACE_HOME=1]="SPACE_HOME",e[e.WIKI_HOME=2]="WIKI_HOME"}(S||(S={}));var O,R={HOME_STAR:"home_star",HOME_ALL:"home_all",QUICK_SWITCH:"quick_switch"};!function(e){e.IMPORT_WIKI="import_wiki",e.UPLOAD_COVER="upload_cover"}(O||(O={}));var m,A,C,h,v,D,N,L,y={WIKI_REMOVE_IN_WIKI_V2:"WIKI_REMOVE_IN_WIKI_V2",IMPORT_FOLDER_V2:"IMPORT_FOLDER_V2",IMPORT_FAIL_FILES_V2:"IMPORT_FAIL_FILES_V2",WIKI_INFO_V2:"WIKI_INFO_V2",DRAG_CONFIRM_V2:"DRAG_CONFIRM_V2",WIKI_ADD_SHORTCUT_TO:"WIKI_ADD_SHORTCUT_TO"};!function(e){e.SPACE_PERMISSION_CHANGE="space_permission_cancel",e.PAGE_PERMISSION_CHANGE="page_permission_cancel"}(m||(m={})),function(e){e.HOME="home",e.SHARETOME="sharetome",e.FAVORITES="favorites",e.WIKI="wiki"}(A||(A={})),function(e){e.FULL="full",e.PART="part"}(C||(C={})),function(e){e.INHERIT="inherit parent node permissions",e.CUSTOM="Custom tree permissions"}(h||(h={})),function(e){e.CONFLUENCE="confluence",e.SHARED_FOLDER="shared_folder",e.MY_FOLDER="my_folder",e.FOLDERS="my_folder/shared_folder"}(v||(v={})),function(e){e.SUCCESS="success",e.FAIL="fail",e.SUCCESS_FAIL="success_fail"}(D||(D={})),function(e){e.All="all",e.AREA="area"}(N||(N={})),function(e){e.BaseInfo="base_info",e.Member="member_manage",e.Perm="permission_manage",e.More="more"}(L||(L={}));var P,g=[i.NUM_SUITE_TYPE.FILE,i.NUM_SUITE_TYPE.BITABLE,i.NUM_SUITE_TYPE.SHEET,i.NUM_SUITE_TYPE.DOC,i.NUM_SUITE_TYPE.DOCX,i.NUM_SUITE_TYPE.CATALOG];!function(e){e[e.ENTITY=0]="ENTITY",e[e.SHORTCUT=1]="SHORTCUT",e[e.FAKE_ROOT_NODE=2]="FAKE_ROOT_NODE"}(P||(P={}));var M,b=[P.ENTITY,P.SHORTCUT],k=["can_manage_space","can_edit_first_level","can_copy_content","can_clone","can_print","can_export"];!function(e){e[e.MOVE=1]="MOVE"}(M||(M={}));var w,H,U=(0,a.mV)("ccm_wiki_batch_request_count",10);!function(e){e[e.PENDING=0]="PENDING",e[e.PROCESSING=1]="PROCESSING",e[e.SOLVED=2]="SOLVED"}(w||(w={})),function(e){e[e.AfterDay180=0]="AfterDay180",e[e.AfterDay30=1]="AfterDay30"}(H||(H={}))},841602:function(e,t,n){"use strict";n.d(t,{Sg:function(){return I},mL:function(){return O},Bq:function(){return R},vW:function(){return m},U7:function(){return A},zO:function(){return C},QS:function(){return d}});var r,o,i,a,c,u,s,_,E,l,f,d,T=n(774561),p=n(583931),S=n(60618),I={REPEAT_IMPORT:4,SOME_FILE_FAILED:4004001},O="WIKI_MOVE_SPACE_ERROR_BASE_CODE",R={MOVE_IN_NOT_SUPPORT_SPACE_V2:88,MOVE_IN_NOT_SUPPORT_BITABLE_PRO:89,MOVE_IN_NOT_SUPPORT_DOC_TYPE:90,IMPORT_UNZIP_FAILED:106,IMPORT_PARSE_INDEX_FAILED:107,IMPORT_PARSE_LINK_FAILED:108,IMPORT_PARSE_HTML_FAILED:109,IMPORT_PARSE_FILE_FAILED:110,IMPORT_PARSE_REGEX_FAILED:111,IMPORT_PARSE_CREATE_TASK_FAILED:112,IMPORT_PARSE_SQL_FAILED:113,IMPORT_PARSE_LINK_WIKI_FAILED:114,TOO_MANY_REQUESTS:429,USER_WILL_NOT_NOTIFY:10015,CATALOG_AUDIT_FAIL:10009,SETTINGS_API_CALL_LIMIT:340110002,ELABORATION_PERM_ERROR:340121009,TASK_IN_PROGRESS:920003001,PARENT_NODE_NOT_FOUND:920004001,CURRENT_NODE_NOT_FOUND:920004002,PARENT_NODE_NO_PERMISSION:920004003,CURRENT_NODE_NO_PERMISSION:920004004,ADMIN_PERM_FAIL:920004004,NO_CIRCLE:920004005,ForbiddenReAdd:920004006,SPACE_PERM_FAIL:920004007,SPACE_FORBIDDEN_RE_ADD:920004008,SPACE_INVALID_LINK:920004009,SPACE_UPDATE_OBJ_PERM_FAIL:920004010,CONTROL_CREATE_WIKI:920004011,TENANT_QUOTA_UNAVAILABLE:920004011,NODE_PERM_FAIL_CODE_FAIL:920004012,NOT_SUPPORT_FILE_TYPE:920004013,TASK_TOO_HEAVY:920004014,TOO_MANY_WORK_SPACE:920004021,TOO_MANY_AREA_IN_SPACE:920004022,EXCEED_TREE_DEEPNESS_LIMIT:920004023,EXCEED_MAX_SPACE_STAR_LIMIT:920004024,EXCEED_MAX_NODE_STAR_LIMIT:920004025,TENANT_SPACE_NUM_V2_LIMITED:920004030,TREE_NODE_NUM_LIMIT:920004040,TREE_NODE_SIBLING_NUM_LIMIT:920004041,TREE_NODE_OPERATE_NUM_LIMIT:920004042,SUITE_ALREADY_MOVE_TO_WIKI:920004100,MYSQL_FAILED:920005001,REDIS_LOCKED_FAILED:920005002,CALL_RPC_FAILED:920005003,GEN_ID_FAILED:920005004,CALL_REDIS_FAILED:920005005,ENCRYPT_ERROR:920006001,INTERNAL_ERROR:920006002,SPACE_AMOUNT_MEET_LIMIT:920007001,AREA_AMOUNT_MEET_LIMIT:920007002,CAN_NOT_HARASS_BOSS:886621e3,MEMBER_UP_TO_LIMIT:886621001,DELETE_RESTORE_WIKI_SOME_CHILD_FAIL:233525002,DEGRADE:920000503,CANNOT_MOVE_BITABLE_PRO_TO_WIKI:920004102,NO_PERMISSION_NODE_REMOVE:233525204,NO_PERMISSION_NODE_MOVE_TO:233525305,INHIBIT_WRITE_IN_UPGRADING_SPACE:920009999,PERSONAL_SPACE_OPERATE_FORBID:920004103,WIKI_V1_MOVE_TO_V2_FORBID:920004104,ALL_ADMINISTRATORS_HAVE_LEFT:920004109,NO_MOVE_NODE_PERMISSION:920004112,APPLY_NODE_PERMISSION_TIMES_LIMIT:920004106,NO_TARGET_PARENT_NODE_PERMISSION:920004111,NO_PARENT_NODE_PERMISSION:920004110,UNABLE_SEND_NOTIFY:920004107,ENTITY_TO_REPLACE_HAS_CHILDREN:920008001,BITABLE_CCM_MIGRATION_FORBIDDEN:800004444,BITABLE_COPY_DASHBOARD_COUNT_MAX_ERROR_CODE:800004050,SPACE_SINGLE_CONTAINER_MIGRATION_FORBIDDEN:4202,MULTI_GEO_MIGRATION_FORBIDDEN:900004230},m=(r={},(0,T.Z)(r,R.PARENT_NODE_NOT_FOUND,S("wiki.parent_node_not_found")),(0,T.Z)(r,R.CURRENT_NODE_NOT_FOUND,S("wiki.current_node_not_found")),(0,T.Z)(r,R.PARENT_NODE_NO_PERMISSION,S("wiki.parent_node_no_permission")),(0,T.Z)(r,R.CURRENT_NODE_NO_PERMISSION,S("wiki.current_node_no_permission")),(0,T.Z)(r,R.NO_CIRCLE,S("wiki.no_circle")),(0,T.Z)(r,R.NODE_PERM_FAIL_CODE_FAIL,S("CreationDoc_NoPermission_Tips")),(0,T.Z)(r,R.ForbiddenReAdd,S("wiki.forbiddenreadd")),(0,T.Z)(r,R.SPACE_PERM_FAIL,S("wiki.space_perm_fail")),(0,T.Z)(r,R.SPACE_FORBIDDEN_RE_ADD,S("wiki.space_forbidden_re_add")),(0,T.Z)(r,R.SPACE_INVALID_LINK,S("wiki.space_invalid_link")),(0,T.Z)(r,R.SPACE_UPDATE_OBJ_PERM_FAIL,S("wiki.space_update_obj_perm_fail")),(0,T.Z)(r,R.MYSQL_FAILED,S("wiki.mysql_failed")),(0,T.Z)(r,R.REDIS_LOCKED_FAILED,S("wiki.redis_locked_failed")),(0,T.Z)(r,R.CALL_RPC_FAILED,S("wiki.call_rpc_failed")),(0,T.Z)(r,R.GEN_ID_FAILED,S("wiki.gen_id_failed")),(0,T.Z)(r,R.ENCRYPT_ERROR,S("wiki.encrypt_error")),(0,T.Z)(r,R.INTERNAL_ERROR,S("wiki.internal_error")),(0,T.Z)(r,R.DEGRADE,S("wiki.internal_error")),(0,T.Z)(r,R.TOO_MANY_REQUESTS,S("CreationDoc_Wiki_Default_Error_Toast")),(0,T.Z)(r,R.IMPORT_UNZIP_FAILED,S("wiki.import_zip_error")),(0,T.Z)(r,R.IMPORT_PARSE_INDEX_FAILED,S("wiki.import_zip_error")),(0,T.Z)(r,R.IMPORT_PARSE_LINK_FAILED,S("wiki.import_zip_error")),(0,T.Z)(r,R.IMPORT_PARSE_HTML_FAILED,S("wiki.import_parse_failed")),(0,T.Z)(r,R.IMPORT_PARSE_FILE_FAILED,S("wiki.import_parse_failed")),(0,T.Z)(r,R.IMPORT_PARSE_REGEX_FAILED,S("wiki.import_parse_failed")),(0,T.Z)(r,R.IMPORT_PARSE_CREATE_TASK_FAILED,S("wiki.import_parse_failed")),(0,T.Z)(r,R.IMPORT_PARSE_SQL_FAILED,S("wiki.import_parse_failed")),(0,T.Z)(r,R.IMPORT_PARSE_LINK_WIKI_FAILED,S("wiki.import_parse_failed")),(0,T.Z)(r,R.TASK_TOO_HEAVY,S("wiki.select_doc_task_too_heavy")),(0,T.Z)(r,R.SPACE_AMOUNT_MEET_LIMIT,S("wiki.space_amount_meet_limit")),(0,T.Z)(r,R.TOO_MANY_WORK_SPACE,S("wiki.space_amount_meet_limit")),(0,T.Z)(r,R.AREA_AMOUNT_MEET_LIMIT,S("wiki.new_perm_area_meet_limit")),(0,T.Z)(r,R.TOO_MANY_AREA_IN_SPACE,S("wiki.new_perm_area_meet_limit")),(0,T.Z)(r,R.MEMBER_UP_TO_LIMIT,S("CreationDoc_Wiki_Send_Apply_Permission_Fail_Toast_UP_TO_LIMIT")),(0,T.Z)(r,R.CAN_NOT_HARASS_BOSS,S("CreationDoc_Wiki_Send_Apply_Permission_Fail_Toast_BOSS_DENIED")),(0,T.Z)(r,R.EXCEED_TREE_DEEPNESS_LIMIT,S("CreationDoc_Wiki_ReachSubpageLimit_Tooltip")),(0,T.Z)(r,R.MOVE_IN_NOT_SUPPORT_SPACE_V2,S("CreationDoc_Wiki_Menu_ImportToWiki_secure_tooltips")),(0,T.Z)(r,R.MOVE_IN_NOT_SUPPORT_BITABLE_PRO,S("CreationDoc_Wiki_BitableToWiki_Advanced_tooltip")),(0,T.Z)(r,R.MOVE_IN_NOT_SUPPORT_DOC_TYPE,S("CreationDoc_Common_CannotMoveFileType")),(0,T.Z)(r,R.SETTINGS_API_CALL_LIMIT,S("CreationDoc_Wiki_NewSpace_ChangeFailed")),(0,T.Z)(r,R.CANNOT_MOVE_BITABLE_PRO_TO_WIKI,S("CreationDoc_Wiki_MoveTo_AdvancedPermOn")),(0,T.Z)(r,R.INHIBIT_WRITE_IN_UPGRADING_SPACE,S("CreationDoc_Wiki_Upgrade_UnableToProceed")),(0,T.Z)(r,R.WIKI_V1_MOVE_TO_V2_FORBID,S("CreationDoc_Wiki_Upgrade_VersionMismatch")),(0,T.Z)(r,R.CATALOG_AUDIT_FAIL,S("CreationDoc_Docs_IllegalContent_Retry")),(0,T.Z)(r,R.ELABORATION_PERM_ERROR,S("CreationDoc_Wiki_PermSetRestrict_UnableToPublish")),(0,T.Z)(r,R.BITABLE_CCM_MIGRATION_FORBIDDEN,S("Bitable_FeatureUpdating_cannotEditPopup")),(0,T.Z)(r,R.BITABLE_COPY_DASHBOARD_COUNT_MAX_ERROR_CODE,S("Bitable_Dashboard_UnableToMakeACopy")),(0,T.Z)(r,R.SPACE_SINGLE_CONTAINER_MIGRATION_FORBIDDEN,S("CreationDoc_DataUpgrade_Locked_toast")),(0,T.Z)(r,R.MULTI_GEO_MIGRATION_FORBIDDEN,S("CreationDoc_MultiGeo_900004230")),r),A=(l={},(0,T.Z)(l,"".concat(p.H.WIKI_PAGE_TREE_CREATE_WIKI,"_FAIL"),(o={},(0,T.Z)(o,R.PARENT_NODE_NOT_FOUND,S("wiki.parent_node_not_found_add")),(0,T.Z)(o,R.CURRENT_NODE_NOT_FOUND,S("wiki.current_node_not_found_add")),(0,T.Z)(o,R.EXCEED_TREE_DEEPNESS_LIMIT,S("CreationDoc_Wiki_ReachSubpageLimit_Tooltip")),(0,T.Z)(o,R.TREE_NODE_NUM_LIMIT,S("CreationDoc_Wiki_Permission_ReachedPageLimit_Toast",S("explorer.v3.create_new_file"))),(0,T.Z)(o,R.TREE_NODE_SIBLING_NUM_LIMIT,S("CreationDoc_Wiki_Permission_ReachedPageLimit_Toast",S("explorer.v3.create_new_file"))),(0,T.Z)(o,R.TREE_NODE_OPERATE_NUM_LIMIT,S("CreationDoc_Wiki_Permission_ReachedPageLimit_Toast",S("explorer.v3.create_new_file"))),o)),(0,T.Z)(l,"".concat(p.H.WIKI_PAGE_TREE_CREATE_SHORTCUT,"_FAIL"),(i={},(0,T.Z)(i,R.DEGRADE,S("wiki.internal_error")),(0,T.Z)(i,R.PARENT_NODE_NOT_FOUND,S("wiki.parent_node_not_found_add")),(0,T.Z)(i,R.CURRENT_NODE_NOT_FOUND,S("wiki.current_node_not_found_add")),(0,T.Z)(i,R.EXCEED_TREE_DEEPNESS_LIMIT,S("CreationDoc_Wiki_ReachSubpageLimit_Tooltip")),(0,T.Z)(i,R.TREE_NODE_NUM_LIMIT,S("CreationDoc_Wiki_Permission_ReachedPageLimit_Toast",S("CreationDoc_Wiki_Shortcuts_CreateShortcutTo_Button"))),(0,T.Z)(i,R.TREE_NODE_SIBLING_NUM_LIMIT,S("CreationDoc_Wiki_Permission_ReachedPageLimit_Toast",S("CreationDoc_Wiki_Shortcuts_CreateShortcutTo_Button"))),(0,T.Z)(i,R.TREE_NODE_OPERATE_NUM_LIMIT,S("CreationDoc_Wiki_Permission_ReachedPageLimit_Toast",S("CreationDoc_Wiki_Shortcuts_CreateShortcutTo_Button"))),i)),(0,T.Z)(l,"".concat(p.H.WIKI_FETCH_DEL_TEEE_NODE,"_FAIL"),(a={},(0,T.Z)(a,R.PARENT_NODE_NOT_FOUND,S("wiki.parent_node_not_found_remove")),(0,T.Z)(a,R.CURRENT_NODE_NOT_FOUND,S("wiki.current_node_not_found_remove")),a)),(0,T.Z)(l,"".concat(p.H.WIKI_PAGE_CREATE_FROM_DOC,"_FAIL"),(c={},(0,T.Z)(c,R.PARENT_NODE_NOT_FOUND,S("wiki.parent_node_not_found_select_from_doc")),(0,T.Z)(c,R.CURRENT_NODE_NOT_FOUND,S("wiki.current_node_not_found_select_from_doc")),(0,T.Z)(c,R.EXCEED_TREE_DEEPNESS_LIMIT,S("CreationDoc_Wiki_ReachSubpageLimit_Tooltip")),c)),(0,T.Z)(l,"".concat(p.H.WIKI_IMPORT_FOLDER_LISTEN,"_FAIL"),(u={},(0,T.Z)(u,R.PARENT_NODE_NOT_FOUND,S("wiki.mount_node_not_found")),(0,T.Z)(u,R.TASK_TOO_HEAVY,S("wiki.import_folder_task_too_heavy")),(0,T.Z)(u,R.EXCEED_TREE_DEEPNESS_LIMIT,S("CreationDoc_Wiki_ReachSubpageLimit_Tooltip")),u)),(0,T.Z)(l,"".concat(p.H.WIKI_FETCH_MOVE_TREE_NODE_V2,"_FAIL"),(s={},(0,T.Z)(s,R.PARENT_NODE_NOT_FOUND,S("wiki.parent_node_not_found_move")),(0,T.Z)(s,R.CURRENT_NODE_NOT_FOUND,S("wiki.current_node_not_found_move")),(0,T.Z)(s,R.NODE_PERM_FAIL_CODE_FAIL,S("wiki.no_permission_to_move_node")),(0,T.Z)(s,R.EXCEED_TREE_DEEPNESS_LIMIT,S("CreationDoc_Wiki_ReachSubpageLimit_Tooltip")),(0,T.Z)(s,R.TREE_NODE_NUM_LIMIT,S("CreationDoc_Wiki_Permission_ReachedPageLimit_Toast",S("CreationDoc_ECM_Wiki.Setting.Permission.move_drag"))),(0,T.Z)(s,R.TREE_NODE_SIBLING_NUM_LIMIT,S("CreationDoc_Wiki_Permission_ReachedPageLimit_Toast",S("CreationDoc_ECM_Wiki.Setting.Permission.move_drag"))),(0,T.Z)(s,R.TREE_NODE_OPERATE_NUM_LIMIT,S("CreationDoc_Wiki_Permission_ReachedPageLimit_Toast",S("CreationDoc_ECM_Wiki.Setting.Permission.move_drag"))),(0,T.Z)(s,"".concat(p.H.WIKI_PAGE_TREE_CREATE_SHORTCUT,"_FAIL"),S("CreationDoc_Wiki_Shortcuts_UnableToCreate_Toast")),(0,T.Z)(s,R.NO_PERMISSION_NODE_REMOVE,S("CreationDoc_Wiki_Permission_NoRemovePermission_Toast")),(0,T.Z)(s,R.NO_PERMISSION_NODE_MOVE_TO,S("CreationDoc_Wiki_Permission_NoPermissionToMove_Toast")),(0,T.Z)(s,R.NO_PARENT_NODE_PERMISSION,S("CreationDoc_Wiki_Permission_NoRemovePermission_Toast")),(0,T.Z)(s,R.NO_TARGET_PARENT_NODE_PERMISSION,S("CreationDoc_Wiki_Permission_NoPermissionToMove_Toast")),s)),(0,T.Z)(l,"".concat(p.H.WIKI_FETCH_MOVE_NODE_AUTHORIZED_USERINFO,"_FAIL"),(_={},(0,T.Z)(_,R.ALL_ADMINISTRATORS_HAVE_LEFT,S("CreationDoc_Wiki_MoveToSpace_AskOwner_ContactCompanyAdminToast")),(0,T.Z)(_,R.NO_MOVE_NODE_PERMISSION,S("CreationDoc_Wiki_Permission_NoRemovePermission_Toast")),_)),(0,T.Z)(l,"".concat(p.H.WIKI_FETCH_APPLY_MOVE_NODE,"_FAIL"),(E={},(0,T.Z)(E,R.APPLY_NODE_PERMISSION_TIMES_LIMIT,S("CreationDoc_Wiki_MoveToSpace_AskOwner_TooFrequentToast")),(0,T.Z)(E,R.NO_TARGET_PARENT_NODE_PERMISSION,S("CreationDoc_Wiki_Permission_NoPermissionToMove_Toast")),(0,T.Z)(E,R.NO_PARENT_NODE_PERMISSION,S("CreationDoc_Wiki_Permission_NoRemovePermission_Toast")),(0,T.Z)(E,R.NO_MOVE_NODE_PERMISSION,S("CreationDoc_Wiki_Permission_NoRemovePermission_Toast")),E)),l),C=(f={},(0,T.Z)(f,"".concat(p.H.WIKI_PAGE_TREE_CREATE_SHORTCUT,"_FAIL"),S("CreationDoc_Wiki_Shortcuts_UnableToCreate_Toast")),(0,T.Z)(f,"".concat(p.H.WIKI_IMPORT_FOLDER_LISTEN,"_FAIL"),S("wiki.wiki_import_folder_error")),f);!function(e){e.REACT_COMPONENT_ERROR="react_component_error",e.UNLOAD_BEFORE_LOADED="unload_before_loaded",e.FETCH_TREE_ERROR="fetch_tree_error",e.FETCH_INIT_INFO_ERROR="fetch_init_info_error",e.NO_NODE_PERM="no_node_permission",e.NO_SPACE_PERM="no_space_permission"}(d||(d={}))},947356:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});var r={render:{level:"fatal"}}},852020:function(e,t,n){"use strict";n.d(t,{FP:function(){return o},hB:function(){return i},OS:function(){return a},PI:function(){return r}});var r,o={WIKI_RELATION:{RELOAD_TREE:"RELOAD_TREE"},WIKI_SIDEBAR:{CHANGE_SIDEBAR_STATE_START:"changeSidebarStateStart",CHANGE_SIDEBAR_STATE:"changeSidebarState"}},i={WIKI_PAGE_TREE_SCROLL_TO_NODE:"WIKI_PAGE_TREE_SCROLL_TO_NODE",FETCH_SPACE_INFO:"FETCH_SPACE_INFO",WIKI_PAGE_TREE_EXPAND_NODE:"WIKI_PAGE_TREE_EXPAND_NODE",WIKI_PAGE_TREE_HIGHLIGHT_NODE:"WIKI_PAGE_TREE_HIGHLIGHT_NODE",WIKI_PAGE_TREE_CANCEL_HIGHLIGHT_NODE:"WIKI_PAGE_TREE_CANCEL_HIGHLIGHT_NODE",WIKI_PAGE_TREE_SELECT_NODE:"WIKI_PAGE_TREE_SELECT_NODE",WIKI_SIDEBAR_SELECTED_MENU_VISIBLE:"WIKI_SIDEBAR_SELECTED_MENU_VISIBLE",WIKI_SIDEBAR_SIZE_CHANGE:"WIKI_SIDEBAR_SIZE_CHANGE",WIKI_SUITE_MOVING_STATUS_CHANGE:"WIKI_SUITE_MOVING_STATUS_CHANGE",WIKI_SETTING_SAVE:"WIKI_SETTING_SAVE",WIKI_OPEN_MENU:"WIKI_OPEN_MENU",WIKI_NODE_CHILDREN_ADD:"WIKI_NODE_CHILDREN_ADD",WIKI_NODE_CHILDREN_DELETE:"WIKI_NODE_CHILDREN_DELETE",WIKI_NODE_CHILDREN_MOVE:"WIKI_NODE_CHILDREN_MOVE",WIKI_NODE_INFO_UPDATE:"WIKI_NODE_INFO_UPDATE",WIKI_ROOT_NODE_TOGGLE_MENU_TRIGGER:"WIKI_ROOT_NODE_TOGGLE_MENU_TRIGGER"},a="changeSidebarState";!function(e){e.retract="retract",e.expand="expand",e.move="move",e.stretch="stretch"}(r||(r={}))},330056:function(e,t,n){"use strict";n.d(t,{Y9:function(){return u},W0:function(){return s.W0},OS:function(){return E.OS},zY:function(){return s.zY},Bq:function(){return _.Bq},vW:function(){return _.vW},QS:function(){return _.QS},FP:function(){return E.FP},KW:function(){return s.KW},QW:function(){return s.QW},Cx:function(){return s.Cx},Ny:function(){return s.Ny},k0:function(){return d},CN:function(){return r},QZ:function(){return s.QZ},zO:function(){return _.zO},U7:function(){return _.U7},GB:function(){return s.GB},PY:function(){return s.PY},Xf:function(){return s.Xf},c_:function(){return s.c_},OH:function(){return T.OH},ff:function(){return s.ff},NF:function(){return s.NF},PI:function(){return E.PI},I7:function(){return l.I7},hR:function(){return l.hR},sM:function(){return l.sM},fx:function(){return l.fx},Ut:function(){return l.Ut},Nc:function(){return l.Nc},L0:function(){return l.L0},RT:function(){return l.RT},C:function(){return l.C},tK:function(){return l.tK},ai:function(){return l.c_},dh:function(){return l.dh},tt:function(){return l.tt},I1:function(){return l.I1},AH:function(){return l.AH},xL:function(){return l.xL},h5:function(){return l.h5},gj:function(){return l.gj},uM:function(){return l.uM},sr:function(){return l.sr},ZA:function(){return l.ZA},rX:function(){return l.rX},kZ:function(){return s.kZ},Sg:function(){return _.Sg},dU:function(){return s.dU},hB:function(){return E.hB},fH:function(){return s.fH},cm:function(){return s.cm},mL:function(){return _.mL},tC:function(){return f.tC},ET:function(){return s.ET},z:function(){return s.z},IR:function(){return T.IR},Oc:function(){return f.Oc},HK:function(){return f.HK},_I:function(){return f._I},E8:function(){return f.E8},eS:function(){return s.eS},Lb:function(){return s.Lb},Hp:function(){return o.H},OP:function(){return s.OP},_4:function(){return s._4},hw:function(){return s.hw}});var r,o=n(583931),i=n(614795),a="/api/wiki/",c="/api/wiki/v2/",u={GET_OBJ_PATH:i.GET_OBJ_PATH,REFINE_SEARCH:i.GET_REFINE_SEARCH,CREATE_SPACE:"".concat(a,"space/create_space/"),MULTI_ADD_WIKI_RELATION:"".concat(a,"tree/m_add_wiki_relation/"),SEARCH_SPACE_MEMBER:"".concat(a,"space/search/member/"),GET_DEPARTMENT:"".concat(a,"space/get_department/"),IMPORT_CONFLUENCE:"/api/parser/upload_wiki/",CHECK_IMPORT_STATUS:"/api/parser/getresult/",CHECK_WIKI_IMPORT_STATUS:"/api/parser/wiki/getresult/",PARSE_WIKI_FROM_DRIVE:"/api/parser/parse_wiki_from_drive/",IMPORT:"/api/parser/uploadfile/",IMPORT_FOLDER:"".concat(a,"tree/mount_folder/"),IMPORT_FOLDER_LISTEN:"".concat(a,"tree/mount_folder_callback/"),GET_META:"/api/meta/",FETCH_SUITE_PERMISSION:"/api/suite/permission.v2/public/",CHECK_MOUNT:"".concat(a,"tree/check_mount/"),FETCH_TRASH_LIST:"".concat(c,"tree/trash/"),DESTORY_TRASH_NODE:"".concat(c,"tree/destory_node/"),DESTORYA_TRASH_NODES:"".concat(c,"tree/m_destroy_node"),RECOVER_TRASH_NODE:"".concat(c,"tree/restore_node/"),CHECK_RECOVER_TRASH_NODE:"".concat(c,"tree/check/restore_node/"),DEL_WIKI_NODE:"".concat(c,"tree/del_node/"),REPORT_RECENT_VISIT:"".concat(c,"search/wiki_browse_report/"),GET_WIKI_TEMPLATE:"/api/platform/wiki_template/sys_list/",APPLY_WIKI_TEMPLATE:"/api/platform/wiki_template/create_wiki/",FETCH_WIKI_ALL_SPACE:"".concat(c,"space/get_all_space/"),FETCH_SPACE_INFO_BATCH:"".concat(c,"space/m_get_space_info/"),CHECK_CREATE_LIMIT:"".concat(c,"space/create_check/"),DELETE_SPACE:"".concat(c,"space/delete_space/"),GET_SPACE_MEMBERS:"".concat(c,"space/get_member/"),ADD_SPACE_MEMBER:"".concat(c,"space/member/create/"),DELETE_SPACE_MEMBER:"".concat(c,"space/member/delete/"),UPDATE_SPACE_MEMBER:"".concat(c,"space/member/update/"),FETCH_SPACE_INFO:"".concat(c,"space/get_space_info/"),UPDATE_SPACE:"".concat(c,"space/update_space/"),GET_SPACE_COVER:"".concat(c,"space/get_available_space_cover/"),SET_SPACE_COVER:"".concat(c,"space/set_space_cover/"),ADD_STAR_SPACE:"".concat(c,"space/star/add/"),DEL_STAR_SPACE:"".concat(c,"space/star/delete/"),REPLACE_SHORTCUT_WITH_ENTITY:"".concat(c,"tree/replace_entity/"),FETCH_ADMIN_PERMISSION:"".concat(c,"perm/space_admin/"),GET_USER_SPACE_PERM:"".concat(c,"perm/space/"),GET_USER_NODE_PERM:"".concat(c,"perm/node/"),POST_SPACE_PERM_NOTIFY:"".concat(c,"space/member/notify/"),APPLY_MOVE_FROM_SPACE_V2:"".concat(c,"tree/apply_move_from_space2/"),APPLY_MOVE_NODE:"".concat(c,"tree/apply_move_node/"),GET_MOVE_NODE_AUTHORIZED_USER_INFO:"".concat(c,"tree/move_node_authorized_userinfo/"),GET_TREE_AND_SPACE_INFO:"".concat(c,"tree/get_info/"),GET_INFO:"".concat(a,"tree/get_info/"),GET_MULTI_WIKI_NODES:"".concat(c,"tree/m_get_node_info/"),GET_PAGINATION_WIKI_CHILDREN:"".concat(c,"tree/get_node_child_info/"),GET_WIKI_NODE:"".concat(c,"tree/get_node/"),GET_BATCH_WIKI_NODE:"".concat(c,"tree/m_get_node/"),GET_FETCH_WIKI_ENTITY:"".concat(a,"tree/get_node/"),GET_WIKI_CHILD:"".concat(c,"tree/get_node_child/"),GET_FAVORITE_INFO:"".concat(c,"tree/star/get_favorite_info/"),ADD_FAVORITE:"".concat(c,"tree/star/new/"),DEL_FAVORITE:"".concat(c,"tree/star/remove/"),MOVE_FAVORITE_RELATION:"".concat(c,"tree/star/move_favorite_relation/"),GET_RECENT_CREATED:"".concat(c,"tree/get_recent_created/"),CREATE_NODE:"".concat(c,"tree/create_node/"),COPY_TREE_NODE:"".concat(c,"tree/node/copy/"),COPY_TREE_NODE_TO_SPACE:"".concat(c,"tree/node/copy_to_space/"),MOVE_TREE_NODE:"".concat(c,"tree/move_node/"),MIGRATE_NODE_TO:"".concat(c,"tree/migrate_to/"),WIKI_UPDATE_NODE_TITLE:"".concat(c,"tree/update_title/"),FETCH_BATCH_WIKI_INFO:"".concat(c,"tree/get_wiki_token/"),FETCH_BATCH_SPACE_INFO_BY_WIKI_TOKEN:"".concat(c,"tree/m_get_node/"),FETCH_MOVE_SUITE_TO_WIKI_FROM_SPACE1:"".concat(c,"tree/move_from_space1/"),FETCH_MOVE_SUITE_TO_WIKI_FROM_SPACE2:"".concat(c,"tree/move_from_space2/"),FETCH_MOVE_SUITE_TO_WIKI_FROM_SPACE2_STATUS:"".concat(c,"tree/move_from_space2_status/"),FETCH_RECENT_CREATED:"".concat(c,"tree/m_get_recent_created/"),PRE_CHECK_MOVE_V2_SUIRE_TO_WIKI:"".concat(c,"tree/check_move_from_space2/"),MULTI_CREATE_SHORTCUT_NODE:"".concat(c,"tree/m_create_shortcut_node/"),MULTI_MOVE_NODES:"".concat(c,"tree/m_move_node/"),CHECK_TASK_STATUS:"".concat(c,"task/status/"),UPLOAD_SPACE_COVER:"".concat(c,"upload/upload_custom_cover/"),GET_WIKI:"".concat(a,"tool"),GET_WIKI_RECENT:"".concat(c,"search/get_recent/"),REPORT_WIKI_NOTICE_READ:"".concat(c,"notice/read_report/"),CREATE_WIKI_NOTICE:"".concat(c,"notice/create/"),UPDATE_WIKI_NOTICE:"".concat(c,"notice/update/"),POST_FIX_BROKEN_TREE:"/api/wiki/v2/space/fix_broken_tree/"},s=n(241043),_=n(841602),E=n(852020),l=n(839282),f=n(618913);n(947356);!function(e){e.UNSTART="UNSTART",e.MOVING="MOVING",e.CANCELED="CANCELED",e.FINISHED="FINISHED"}(r||(r={}));var d=-888,T=n(308153)},839282:function(e,t,n){"use strict";n.d(t,{dh:function(){return r},tt:function(){return o},uM:function(){return i},AH:function(){return a},h5:function(){return c},tK:function(){return u},RT:function(){return s},I1:function(){return _},fx:function(){return E},gj:function(){return l},c_:function(){return f},sr:function(){return d},b5:function(){return T},L0:function(){return p},C:function(){return S},xL:function(){return I},ee:function(){return O},d3:function(){return R},Nc:function(){return m},Ut:function(){return A},uq:function(){return C},qS:function(){return h},I7:function(){return v},sM:function(){return D},hR:function(){return N},rX:function(){return L},ZA:function(){return y}});var r="client_wiki_pages_operation",o="create_new_objs",i="wiki_tree_handle_sync_message_error",a="wiki_click_search_space_item",c="wiki_search_space",u="client_star_workspace",s="client_enter_workspace_setting",_="create_workspace",E="click_create_worksapce",l="wiki_set_cover",f="client_wiki_import",d="show_workspace_information",T="wiki_error_report",p="click_wiki_rename",S="client_file_open",I="client_wiki_pages_copy",O="client_wiki_pages_restore",R="client_wiki_trash",m="click_file_to_wiki",A="click_file_shortcut_to",C="client_sheet_leadsheet_bubble",h="client_wiki_pocket_page",v={CREATE_NEW_FROM_PAGES:"create_new_from_pages",CREATE_NEW:"create_new",MOVE_TO_WIKI:"move_to_Wiki",CONFIRM_MOVE_TO_WIKI:"confirm_move_to_Wiki",CANCEL_MOVE_TO_WIKI:"cancel_move_to_Wiki",CONFIRM_AUTHORITY_CHANGE:"confirm_authority_change",CANCEL_AUTHORITY_CHANGE:"cancel_authority_change",CONFIRM_CREATE_NEW:"confirm_create_new",CONFIRM_CREATE_NEW_FROM_SPACE:"confirm_create_new_from_space",PUBLIC_TO_WIKI:"public_to_wiki",CONFIRM_TO_PUBLIC_TO_WIKI:"confirm_to_public_to_wiki",PUBLIC_FROM:"public_from_",ADD_SHORTCUT_TO:"shortcut_to",CONFIRM_SHORTCUT_TO:"confirm_shortcut_to",CANCEL_SHORTCUT_TO:"cancel_shortcut_to",CONFIRM_TO_PUBLIC_FROM:"confirm_to_public_from_",CONFIRM_TO_PUBLIC:"confirm_to_public",CLICK_REMOVE_PUBLIC:"click_remove_public",CLICK_MOVE:"click_move",CLICK_CONFIRM_MOVE:"click_confirm_move",CLICK_COPY:"click_copy",EXPAND_PAGES:"expand_pages",CLOSE_PAGES:"close_pages",SWITCH_PAGE:"SWITCH_PAGE",DRAG:"DRAG",NODE_EXPAND_CHANGE:"node_expand_change",WIKI_CLICK_SEARCH_SPACE_ITEM:"wiki_click_search_space_item",CLICK_ENTER_WIKI:"click_enter_wiki",CLICK_ENTER_DRIVE:"click_enter_drive",CLIENT_ENTER_WORKSPACE:"client_enter_workspace",FILE_STAR:"file_star",FILE_UNSTAR:"file_unstar",STAR:"star",STAR_WIKI_PAGE:"star_wiki_page",UNSTAR:"unstar",UNSTAR_WIKI_PAGE:"unstar_wiki_page",CLICK_ENTER_WORKSPACE_SETTING:"click_enter_workspace_setting",SAVE_EDIT_NAME:"save_edit_name",SAVE_EDIT_INTRODUTION:"save_edit_introduction",ADD_MEMBERS:"add_members",SET_COVER:"set_cover",EDIT_NAME:"edit_name",EDIT_TITLE:"edit_title",EDIT_INTRODUTION:"edit_introduction",SET_CHARACTER:"set_character",SET_WHITELIST:"set_whitelist",SET_ROLE_ADMIN:"set_role_admin",SET_ROLE_MEMBER:"set_role_member",TREE_PERMISSION_DIALOG_CONFIRM:"tree_permission_dialog_confirm",TREE_PERMISSION_DIALOG_CANCEL:"tree_permission_dialog_cancel",REMOVE_MEMBER:"remove_member",DELETE_WORKSPACE:"delete_workspace",CONFIRM_DELETE_WIKI:"confirm_delete",CANCEL_DELETE_WIKI:"cancel_delete_pages",RESTORE_WIKI:"click_restore",CONFIRM_RESTORE_WIKI:"confirm_restore",CANCEL_RESTORE_WIKI:"cancel_restore",DELETE_PERMANENTLY_WIKI:"click_delete_completely",CONFIRM_DELETE_PERMANENTLY_WIKI:"confirm_delete_completely",CANCEL_DELETE_PERMANENTLY_WIKI:"cancel_delete_completely",WORKSPACE:"workspace",RESENTS:"resents",CLICK_ENTER_WIKI_SETTING:"click_enter_wiki_settings",DELETE_ADMIN:"delete_admin",CONFIRM_ADD_ADMIN:"confirm_add_admin",HOVER:"hover",OPEN:"open",CLOSE:"close",CLICK_SET_COVER_HOME:"click_set_cover_home",CLICK_SET_COVER_SETTINGS:"click_set_cover_settings",CONFIRM_SET_COVER_HOME:"confirm_set_cover_home",CONFIRM_SET_COVER_SETTINGS:"confirm_set_cover_settings",BATCH_REMOVE_NODE:"batch_remove_node",CLICK_REMOVE_WIKI:"click_remove_wiki",CLICK_BATCH_REMOVE_WIKI:"click_batch_remove_wiki",CLICK_REMOVE_SOURCE_FILE:"click_remove_source_file",REMOVE_WIKI_FAIL:"remove_wiki_fail",REMOVE_WIKI_SOURCE_FILE:"remove_wiki_source_file",IMPORT_CLICK:"import_click",IMPORT_CONFIRM:"import_confirm",REQUEST_PERMISSION:"request_permission",REQUEST_PERMISSION_FAIL:"request_permission_fail",ADD_TO_WIKI:"add_to_wiki",CONFIRM_ADD_TO_WIKI:"confirm_add_to_wiki",CANCEL_ADD_TO_WIKI:"cancel_add_to_wiki",CLICK_MAKE_A_COPY:"click_make_a_copy",CONFIRM_MAKE_A_COPY:"confirm_make_a_copy",CANCEL_MAKE_A_COPY:"cancel_make_a_copy",SHOW:"show",CHOOSE_TEMPLATE:"choose_template",BACK:"back",NEXT:"next",CANCEL:"cancel"},D="success",N="fail",L="yes",y="no"},949609:function(e,t,n){"use strict";var r;n.d(t,{O:function(){return r}}),function(e){e.wikiIndex="wikiIndex",e.wikiHome="wikiHome",e.wikiSpaceSetting="wikiSpaceSetting",e.wikiTrash="wikiTrash",e.wikiSpaceOverview="wikiSpaceOverview"}(r||(r={}))},308153:function(e,t,n){"use strict";var r,o,i;n.d(t,{IR:function(){return r},OH:function(){return o},q:function(){return i}}),function(e){e[e.PRIVATE=0]="PRIVATE",e[e.PUBLIC=1]="PUBLIC"}(r||(r={})),function(e){e[e.UNSET=0]="UNSET",e[e.OPEN=1]="OPEN",e[e.CLOSE=2]="CLOSE"}(o||(o={})),function(e){e[e.ONLY_ADMIN=2]="ONLY_ADMIN",e[e.ADMIN_AND_MEMBER=1]="ADMIN_AND_MEMBER"}(i||(i={}))},618913:function(e,t,n){"use strict";n.d(t,{HK:function(){return r},Oc:function(){return o},E8:function(){return i},_I:function(){return a},tC:function(){return c}});var r="WIKI_SIDEBAR_SHOW_PC",o="WIKI_SIDEBAR_SHOW_LARK",i="WIKI_SIDEBAR_WIDTH_PC",a="WIKI_SIDEBAR_WIDTH_LARK",c=188},72435:function(e,t,n){"use strict";n.d(t,{cC:function(){return l},Ic:function(){return f},Xv:function(){return d},M2:function(){return T},bV:function(){return p},ff:function(){return S},mP:function(){return I}});var r=n(265498),o=n(812083),i=n(978083),a=n(543548),c=n(330056),u=n(360851),s=n(652115),_=n(60618);function E(){return _("error.try_later")}function l(){return!(0,i.Gg)()&&((0,s._N)(_("wiki.offline_err_msg")),!0)}function f(e,t){var n=E(),r=c.vW[t]||n,o=c.U7[e],i=o&&o[t],a=c.zO[e];return p(t,i||a||r)}function d(e,t){"object"===(0,r.Z)(e)&&(e.code===c.Bq.INHIBIT_WRITE_IN_UPGRADING_SPACE||u.Ef&&o.MULTI_GEO_ERROR_CODE_MAP[e.code])||(0,s._N)(p(e,t))}function T(){(0,s._N)(E())}function p(e,t){var n,i;return"object"!==(0,r.Z)(e)?(n=e,(i=new Error).code=n):(n=e.code,i=e),t||(t=c.vW[n]||E()),(0,a.cA)({type:"api",code:n},i),n?n===c.Bq.INHIBIT_WRITE_IN_UPGRADING_SPACE||u.Ef&&o.MULTI_GEO_ERROR_CODE_MAP[n]?"".concat(n):t+_("CreationDoc_Docs_error_errorcode_toast",n):t}function S(e){if(e===c.Bq.INHIBIT_WRITE_IN_UPGRADING_SPACE){var t=p(e);(0,s._N)(t)}}function I(e){var t=e.operator,n=e.successCount,r=e.failCount,o=e.allFailedContent;return n>0&&r>0?"".concat(_("explorer.process.success.multi",t,n)).concat(_("common.comma_seperator")).concat(_("explorer.process.fail.multi",r,t)):r>0?o||_("explorer.process.fail.single",t):_("explorer.process.success.single",t)}},652115:function(e,t,n){"use strict";n.d(t,{x9:function(){return u},_N:function(){return s},L$:function(){return _},o$:function(){return E},RS:function(){return l}});var r=n(913867),o=n(41240),i=n(812083),a=n(330056),c=n(360851);function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;o.Z.success({content:e,duration:t})}function s(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,u=arguments.length>2?arguments[2]:void 0;e===String(a.Bq.INHIBIT_WRITE_IN_UPGRADING_SPACE)?t={content:a.vW[a.Bq.INHIBIT_WRITE_IN_UPGRADING_SPACE],duration:n,key:e}:c.Ef&&(0,r.Z)(e)&&i.MULTI_GEO_ERROR_CODE_MAP[e]?t={content:(0,i.getPromptText)(e,Number(e)),duration:n,key:e}:(t={content:e,duration:n},u&&(t.key=u)),o.Z.error(t)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;o.Z.info({content:e,duration:t})}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;o.Z.loading({key:e,content:t,duration:n})}function l(e){o.Z.remove(e)}},505926:function(e,t,n){"use strict";n.d(t,{Of:function(){return s},Jl:function(){return E},Es:function(){return l},_D:function(){return d},wA:function(){return T},m1:function(){return p},wx:function(){return S},GA:function(){return I},B_:function(){return O},oH:function(){return m},_K:function(){return A},Oi:function(){return h},nJ:function(){return v},IY:function(){return D},es:function(){return N},Dp:function(){return y},$:function(){return g},Gd:function(){return M},PO:function(){return b},T0:function(){return k},g4:function(){return w},qJ:function(){return H},n:function(){return U},Xe:function(){return F},Ep:function(){return Z},Vl:function(){return x},MR:function(){return W},AG:function(){return G},DD:function(){return K},Hn:function(){return V},NX:function(){return j},ef:function(){return Y},k5:function(){return J},i7:function(){return X},Ay:function(){return q},V_:function(){return Q},_0:function(){return z},tY:function(){return $},J$:function(){return ee},l8:function(){return te},xn:function(){return ne}});var r=n(298652),o=n(141225),i=n(481382),a=n(215771),c=n(330056),u=n(70393),s="_",_=function(e,t,n,r){var i=e.findIndex((function(e){var t=r[e];return t&&t.wiki_node_type===c.Lb.SHORTCUT})),a=e[i],u=[],s=2;return e.forEach((function(e,c){if(e!==t)if(n.includes(e))u.push((0,o.cJ)({rootNodeId:t,wikiToken:e,level:1}));else{var _=f(e,r,n),E=a&&i<c;u.push((0,o.cJ)(Object.assign({rootNodeId:t,firstLevelWikiToken:_,wikiToken:e},E?{firstShortcutWikiToken:a}:{},{level:s}))),s++}else u.push(t)})),u},E=function(e){var t=e.paths,n=e.firstLevelWikiTokens,o=e.nodeMap;return _([].concat((0,r.Z)(t),[c.PY.TOC_ROOT]),c.PY.TOC_ROOT,n,o)},l=function(e){var t=e.paths,n=e.firstLevelWikiTokens,o=e.nodeMap;return _([].concat((0,r.Z)(t),[c.PY.SHARE_WITH_ME_ROOT]),c.PY.SHARE_WITH_ME_ROOT,n,o)};function f(e,t,n){return n.includes(e)?e:f(t[e].parent_wiki_token,t,n)}function d(e){return e.objType===i.NUM_SUITE_TYPE.CATALOG}function T(e){return d(e)||S(e)}function p(e){return e===c.PY.TOC_ROOT}function S(e){return p(e.uid)}function I(e){return e.type===a.v2.TOC_NODE}function O(e){return R(e.wikiToken)}function R(e){return e===c.PY.SHARE_WITH_ME_ROOT}function m(e){return e.type===a.v2.SHARED_NODE}function A(e){return C(e.wikiToken)}function C(e){return e===c.PY.FAVORITES_ROOT}function h(e){return e.type===a.v2.FAVORITES_NODE}function v(e){return h(e)&&1===e.level}function D(e){return e.type===a.v2.FAVORITES_NODE&&e.level&&e.level>1}function N(e){return L(e.wikiToken)}function L(e){return!!e&&e.includes(c.GB)}function y(e){return P(e.wikiToken)}function P(e){return!!e&&e.includes(c.KW)}function g(e){return M(e.uid)}function M(e){return p(e)||C(e)||R(e)}var b=function(e){return e.isAbstract},k=function(e){return!e.isAbstract},w=function(e){return e===c.Lb.SHORTCUT},H=function(e){return k(e)&&w(e.wikiNodeType)};function U(e){return Boolean(e.originSpaceId&&e.originWikiToken)}var F=function(e){return e?new URLSearchParams(e).get("wikiToken"):""},Z=function(e,t,n){var r=(0,o.Ox)();return{level:t,pos:"",type:a.v2.WIKI,title:"",uid:"".concat(c.KW).concat(r),parentUid:"",wikiToken:"".concat(c.KW).concat(r),originWikiToken:"".concat(c.KW).concat(r),originSpaceId:e,url:"",spaceId:e,parentWikiToken:n,objToken:"",objType:i.NUM_SUITE_TYPE.DOC,sortId:0,isAbstract:!0,wikiNodeType:c.Lb.ENTITY,hasChild:!1,secretKeyDelete:!1}},x=function(e){var t=e.type,n=e.spaceId,r=e.level,u=e.parentUid,_=e.parentWikiToken,E=e.rootNodeId,l=e.firstLevelWikiToken,f=e.firstShortcutWikiToken,d=e.title,T=(0,o.Ox)(),p="".concat(c.GB).concat(s).concat(T);return{level:r,pos:"",type:t||a.v2.WIKI,title:d||"CreationDoc_Wiki_Permission_NoContent_Placeholder",uid:(0,o.cJ)({rootNodeId:E,firstLevelWikiToken:l,wikiToken:p,firstShortcutWikiToken:f,level:r}),originSpaceId:n,originWikiToken:p,parentUid:u,wikiToken:p,url:"",spaceId:n,parentWikiToken:_,objToken:"",objType:i.NUM_SUITE_TYPE.DOC,sortId:0,isAbstract:!0,wikiNodeType:c.Lb.ENTITY,hasChild:!1,secretKeyDelete:!1}},B={level:0,pos:"",type:a.v2.WIKI,title:"",uid:"",parentUid:"",wikiToken:"",originWikiToken:"",spaceId:"",originSpaceId:"",parentWikiToken:"",objToken:"",objType:i.NUM_SUITE_TYPE.DOC,sortId:0,isAbstract:!1,wikiNodeType:c.Lb.ENTITY,hasChild:!1,url:"",secretKeyDelete:!1},W=function(e){return Object.assign({},B,{isAbstract:!0},e)};function G(e,t){return t.reduce((function(t,n){var r=e[n];return r?(t.push(r),t):t}),[])}function K(e,t,n){var r=n.map((function(e){return e.wikiToken})),o=G(e,t.filter((function(e){return!r.includes(e)})));return n.forEach((function(e){var t=o.findIndex((function(t){return void 0!==t.sortId&&t.sortId>e.sortId})),n=-1===t?o.length:t;o.splice(n,0,e)})),o.map((function(e){return e.wikiToken}))}function V(e,t){return void 0!==e[t]}function j(e){return!!b(e)&&(P(e.uid)||L(e.uid))}var Y=function(e){var t,n=e.isParentShortcut,r=e.parentUid,i=e.wikiToken,a=(0,o.tx)(r);if(M(r))return(0,o.cJ)({rootNodeId:r,wikiToken:i,level:1});if((t=r).includes("rootNodeId")&&!t.includes("firstLevelWikiToken"))return(0,o.cJ)(Object.assign({},a,{firstLevelWikiToken:a.wikiToken,firstShortcutWikiToken:n?a.wikiToken:void 0,wikiToken:i,level:2}));var c=a.firstShortcutWikiToken;return(0,o.cJ)(Object.assign({},a,{firstShortcutWikiToken:c||(n?a.wikiToken:void 0),wikiToken:i,level:new URLSearchParams(r).get("level")||void 0}))},J=function(e,t){return t[t.length-1]===e},X=function(e,t,n){var r=n.findIndex((function(t){return t===e}));return r>0&&n[r-1]===t},q=u.tG?10:2,Q=4,z=22,$=function(e){return g(e)||N(e)&&v(e)?q:N(e)?q+Q+(e.level-2)*z:q+Q+(e.level-1)*z},ee="wiki-tree-ul",te=function(e){var t=e.uid,n=e.flattenedNodesUidMap,o=e.nodeMap,i=e.treeChildMap,a=n[t];if(!a)return!1;var c=a.wikiToken,u=a.originWikiToken,s=H(a),_=[c].concat((0,r.Z)(s?[u]:[])),E=i[c];if(E&&1===E.length&&_.includes(E[0]))return!0;var l=new URLSearchParams(t),f=l.get("firstLevelWikiToken");if(f&&_.includes(f))return!0;var d=o[l.get("firstShortcutWikiToken")||""];if(d&&_.includes(d.originWikiToken))return!0;for(var T=!1,p=n[a.wikiToken];p&&p.parentUid;){var S=n[p.parentUid];if(p=S,S&&_.includes(S.wikiToken)){T=!0;break}}return T},ne=function(e,t,n){var r=e[n];if(!r)return!1;for(var o=r.parentWikiToken;o!==t;){var i=e[o];if(!i)return!0;o=i.parentWikiToken}return!1}},497111:function(e,t,n){"use strict";n.d(t,{Uw:function(){return i},C3:function(){return a},sw:function(){return c},RL:function(){return u}});var r=n(282898),o=n(98390),i=function(e){return{lastStoreTime:Date.now(),loading:!1,value:e}};function a(e,t,n){var i=n||{spaceId:e},a=(0,o._A)(t);return(0,r.Z)({},i,a)}function c(e){return(0,o._A)(e)}var u=function(e){return!!e.file}},21450:function(e,t,n){"use strict";n.d(t,{ww:function(){return f},mk:function(){return S},_N:function(){return I},t0:function(){return O},vu:function(){return R},Wp:function(){return m},mu:function(){return A},qe:function(){return C},oE:function(){return v},fA:function(){return y},DJ:function(){return P},si:function(){return g},MO:function(){return M},iL:function(){return b},nI:function(){return k}});var r=n(359980),o=n(523232),i=n(330056),a=n(949609),c=n(210756),u=n(455396),s=n(526289),_=n(546722),E=n(426466),l=n(505926),f=(0,o.P1)(_.yo,_.aM,(function(e,t){return e&&t&&t[e]&&t[e]||null})),d=(0,o.P1)(s.I_,(function(e){return(0,r.default)(e,"location.state.spaceIdAdjustWikiToken")})),T=(0,o.P1)(d,_.aM,(function(e,t){var n=t[e];return n?n.wikiNodeType!==i.Lb.SHORTCUT?null:n.spaceId:null})),p=(0,o.P1)(c.lS,(function(e){return e.currentUiTreeSpaceId})),S=(0,o.P1)(f,T,(function(e){var t=(0,E.C_)(e),n=(0,s.I_)(e),o=(0,r.default)(n,"location.pathname");if(t&&t.get("routeName")&&(t.get("routeName")===a.O.wikiSpaceSetting||t.get("routeName")===a.O.wikiTrash||t.get("routeName")===a.O.wikiSpaceOverview))return o.split("/").pop()}),p,(function(e,t,n,r){return t||(n||(r||(e&&e.spaceId?e.spaceId:void 0)))})),I=((0,o.P1)(S,_.aM,(function(e,t){return t&&t["".concat(e,"_root")]})),(0,o.P1)(S,_.tg,(function(e,t){if(e&&t&&t[e])return t[e]}))),O=(0,o.P1)(I,(function(e){return e&&e.wikiScope===i.IR.PUBLIC||!1})),R=(0,o.P1)(I,(function(e){return e&&e.openSharing===i.OH.OPEN||!1})),m=(0,o.P1)(S,I,c.Aw,(function(e,t,n){return n&&e&&n[e]||t&&t.rootToken||null})),A=(0,o.P1)(m,c.V6,(function(e,t){return(0,r.default)(t,"".concat(e,".length"),0)<=0})),C=(0,o.P1)(m,_.yo,(function(e,t){return e===t})),h=(0,o.P1)(S,c.V6,m,(function(e,t,n){if(e)return t[n]})),v=(0,o.P1)(S,c.V6,m,(function(e,t,n){return e&&t&&t[n]&&(t[n]||[])[0]||null})),D=(0,E.UD)("wikiV2FetchPageTreeInitDataNew"),N=(0,E.UD)("wikiV2FetchFavoriteRootNodes"),L=(0,E.yP)(D,N),y=(0,o.P1)(S,c.sJ,(function(e,t){return e&&t[e]||[]})),P=(0,o.P1)(L,y,h,(function(e,t,n){return!!e&&(0===(t||[]).length&&0===(n||[]).length)})),g=(0,o.P1)(S,u.h,(function(e,t){if(e)return t[e]})),M=(0,o.P1)(I,(function(e){return Boolean(e)})),b=function(e){var t=I(e);return null==t?void 0:t.spaceType},k=function(e){var t=f(e),n=I(e),o=(0,_.aM)(e),i=(0,c.Aw)(e),a=(0,r.default)(t,"wikiToken"),u=(0,r.default)(n,"spaceId"),s=u?i[u]:void 0;return!!(u&&a&&s)&&(0,l.xn)(o,s,a)}},210756:function(e,t,n){"use strict";n.d(t,{lS:function(){return a},V6:function(){return c},sJ:function(){return u},bx:function(){return s},Dm:function(){return _},In:function(){return E},e4:function(){return l},ol:function(){return f},WU:function(){return d},Aw:function(){return T},ql:function(){return p},Ag:function(){return S}});var r=n(523232),o=n(196282),i=n(546722),a=function(e){return(0,i.Vs)(e)[o.fU]||{}},c=function(e){return(0,i.Vs)(e).treeChildMap||{}},u=function(e){return(0,i.Vs)(e).favoriteChildMap||{}},s=function(e){return a(e).expandedKeys||[]},_=(0,r.P1)(a,(function(e){return e?e.uuid:""})),E=(0,r.P1)(a,(function(e){return e&&e.isSingleTree})),l=(0,r.P1)(a,(function(e){return e&&e.isTreeWrapScroll})),f=(0,r.P1)(a,(function(e){var t=e&&e.loadingKeys;return t&&t instanceof Array?t:[]})),d=(0,r.P1)(a,(function(e){return e&&e.renameNode})),T=(0,r.P1)(a,(function(e){return e&&e.rootNodeWikiTokenMap})),p=(0,r.P1)(i.Vs,(function(e){return e.sharedChildMap})),S=(0,r.P1)(a,(function(e){return e.favoriteTreeFetchStatusMap}))},455396:function(e,t,n){"use strict";n.d(t,{h:function(){return u},Z:function(){return s}});var r=n(570098),o=n(359980),i=n(523232),a=n(360212),c=n(546722),u=function(e){return(0,o.default)((0,c.Vs)(e),"spaceMemberMap")},s=(0,i.P1)(c.ph,c.tg,a.hB,(function(e,t,n){var o=e&&e.map((function(e){return t&&t[e]})).filter((function(e){return!(0,r.Z)(e)}));return o&&o.length>0?o:n}))},215771:function(e,t,n){"use strict";var r,o;n.d(t,{g1:function(){return s},c4:function(){return _},AR:function(){return r},O6:function(){return u},DO:function(){return i},tC:function(){return f},Sn:function(){return l},v2:function(){return o},Lb:function(){return T.Lb},Ew:function(){return E},bx:function(){return d}}),function(e){e.NORMAL="NORMAL",e.INSHOW="INSHOW"}(r||(r={})),function(e){e.SPACE="SPACE",e.WIKI="wiki",e.TOC_NODE="TOC_NODE",e.FAVORITES_NODE="FAVORITES_NODE",e.SHARED_NODE="SHARED_NODE"}(o||(o={}));var i,a,c=n(481382);!function(e){e[e.ALL=10]="ALL",e[e.FOLDER=c.NUM_FILE_TYPE.FOLDER]="FOLDER",e[e.DOC=c.NUM_FILE_TYPE.DOC]="DOC",e[e.SHEET=c.NUM_FILE_TYPE.SHEET]="SHEET",e[e.BITABLE=c.NUM_FILE_TYPE.BITABLE]="BITABLE",e[e.MINDNOTE=c.NUM_FILE_TYPE.MINDNOTE]="MINDNOTE",e[e.FILE=c.NUM_FILE_TYPE.FILE]="FILE",e[e.SLIDE=c.NUM_FILE_TYPE.SLIDE]="SLIDE",e[e.WIKI=c.NUM_FILE_TYPE.WIKI]="WIKI"}(i||(i={})),function(e){e.HistoryItem="history-item",e.SearchItem="search-item",e.AdvancedSearch="advanced-search",e.SectionHeader="section-header",e.Divider="divider",e.OwnerItem="owner-item",e.ChatItem="chat-item",e.RecommendItem="recommend-item"}(a||(a={}));var u,s,_,E,l,f,d={WIKI_TOKEN:"wikiToken",UID:"uid"};!function(e){e.NodeDrag="nodeDrag",e.CatalogDrag="catalogDrag",e.MoveNodeToDialog="moveNodeToDialog"}(u||(u={})),function(e){e[e.ExternalAllowed=1]="ExternalAllowed",e[e.ExternalDisallowed=2]="ExternalDisallowed",e[e.RelatedOrgnization=3]="RelatedOrgnization"}(s||(s={})),function(e){e[e.ExternalAllowed=1]="ExternalAllowed",e[e.ExternalDisallowed=2]="ExternalDisallowed",e[e.RelatedOrgnization=3]="RelatedOrgnization"}(_||(_={})),function(e){e[e.Default=0]="Default",e[e.Container=1]="Container",e[e.SinglePage=2]="SinglePage"}(E||(E={})),function(e){e[e.TEAM=0]="TEAM",e[e.PERSONAL=1]="PERSONAL"}(l||(l={})),function(e){e[e.MOVING=0]="MOVING",e[e.SUCCESS=1]="SUCCESS",e[e.FAIL=2]="FAIL",e[e.WIKI_TREE_LEVEL_LIMIT=3]="WIKI_TREE_LEVEL_LIMIT",e[e.NO_PERMISSION=4]="NO_PERMISSION",e[e.UNSUPPORT_BITABLE_PRO=5]="UNSUPPORT_BITABLE_PRO",e[e.ALREADY_EXIST_IN_WIKI=6]="ALREADY_EXIST_IN_WIKI",e[e.SOURCE_NOT_EXIST=7]="SOURCE_NOT_EXIST",e[e.UNSUPPORT_TYPE=8]="UNSUPPORT_TYPE"}(f||(f={}));var T=n(241043)},543548:function(e,t,n){"use strict";n.d(t,{a_:function(){return l},cA:function(){return E}});var r,o=n(774561),i=n(481382),a=n(893835),c=n(746986),u=n(947356),s=n(839282),_={saga:["SourceNotExist","NodePermFailCodeFail"],detail:["NodePermFail"]};function E(e,t){var n=u.J[e.type]||{},r=Object.assign({level:"error"},n,{},e,{msg:t?t.message:""}),o=r.action||"";if(t||(t=new Error("default error:".concat(r.type,",").concat(o))),!t.reported){t.reported=!0;var i=_[r.type];if(!(i&&i.indexOf(r.msg)>-1)){var E={name:"wiki_error",type:r.type,action:o};t.code&&(E.code=t.code),r.extra&&(E.extra=r.extra),(0,c.default)(s.b5,r),(0,a.Tb)(t,{level:r.level,tags:E})}}}var l=(r={},(0,o.Z)(r,i.NUM_FILE_TYPE.DOC,"WikiDocParamInjector"),(0,o.Z)(r,i.NUM_FILE_TYPE.DOCX,"WikiDocxParamInjector"),(0,o.Z)(r,i.NUM_FILE_TYPE.BITABLE,"WikiBitableParamInjector"),(0,o.Z)(r,i.NUM_FILE_TYPE.SHEET,"WikiSheetParamInjector"),(0,o.Z)(r,i.NUM_FILE_TYPE.MINDNOTE,"WikiMindnoteParamInjector"),(0,o.Z)(r,i.NUM_FILE_TYPE.SLIDE,"WikiSlideParamInjector"),(0,o.Z)(r,i.NUM_FILE_TYPE.FILE,"WikiFileParamInjector"),(0,o.Z)(r,i.NUM_FILE_TYPE.CATALOG,"WikiCatalogParamInjector"),r)},839612:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});var r={render:{level:"fatal"}}},10131:function(e,t,n){"use strict";n.d(t,{dh:function(){return o},tt:function(){return i},uM:function(){return a},AH:function(){return c},h5:function(){return u},tK:function(){return s},RT:function(){return _},I1:function(){return E},MV:function(){return l},gj:function(){return f},c_:function(){return d},M$:function(){return T},sr:function(){return p},_T:function(){return S},b5:function(){return I},Nc:function(){return O},B5:function(){return R},uq:function(){return m},I7:function(){return A},sM:function(){return C},hR:function(){return h},rX:function(){return v},ZA:function(){return D},NB:function(){return N},zC:function(){return L},_J:function(){return y},t9:function(){return r}});var r,o="client_wiki_pages_operation",i="create_new_objs",a="wiki_tree_handle_sync_message_error",c="wiki_click_search_space_item",u="wiki_search_space",s="client_star_workspace",_="client_enter_workspace_setting",E="create_workspace",l="client_wiki_settings",f="wiki_set_cover",d="client_wiki_import",T="client_wiki_pop",p="show_workspace_information",S="client_workspace_permission_request_operatiom",I="wiki_error_report",O="click_file_to_wiki",R="client_wiki_leadsheet_bubble",m="client_sheet_leadsheet_bubble",A={CREATE_NEW_FROM_PAGES:"create_new_from_pages",CREATE_NEW:"create_new",CONFIRM_CREATE_NEW:"confirm_create_new",CONFIRM_CREATE_NEW_FROM_SPACE:"confirm_create_new_from_space",PUBLIC_TO_WIKI:"public_to_wiki",CONFIRM_TO_PUBLIC_TO_WIKI:"confirm_to_public_to_wiki",PUBLIC_FROM:"public_from_",CONFIRM_TO_PUBLIC_FROM:"confirm_to_public_from_",CONFIRM_TO_PUBLIC:"confirm_to_public",CLICK_REMOVE_PUBLIC:"click_remove_public",CONFIRM_TO_REMOVE_PUBLIC:"confirm_to_remove_public",CLICK_MOVE:"click_move",CLICK_CONFIRM_MOVE:"click_confirm_move",CLICK_COPY:"click_copy",CLICK_CONFIRM_COPY:"click_confirm_copy",EXPAND_PAGES:"expand_pages",CLOSE_PAGES:"close_pages",SWITCH_PAGE:"SWITCH_PAGE",DRAG:"DRAG",NODE_EXPAND_CHANGE:"node_expand_change",WIKI_CLICK_SEARCH_SPACE_ITEM:"wiki_click_search_space_item",CLICK_ENTER_WIKI:"click_enter_wiki",CLICK_ENTER_DRIVE:"click_enter_drive",CLIENT_ENTER_WORKSPACE:"client_enter_workspace",STAR:"star",STAR_WIKI_PAGE:"star_wiki_page",UNSTAR:"unstar",UNSTAR_WIKI_PAGE:"unstar_wiki_page",CLICK_ENTER_WORKSPACE_SETTING:"click_enter_workspace_setting",SAVE_EDIT_NAME:"save_edit_name",SAVE_EDIT_INTRODUTION:"save_edit_introduction",ADD_MEMBERS:"add_members",SET_COVER:"set_cover",EDIT_NAME:"edit_name",EDIT_INTRODUTION:"edit_introduction",SET_CHARACTER:"set_character",SET_WHITELIST:"set_whitelist",SET_ROLE_ADMIN:"set_role_admin",SET_ROLE_MEMBER:"set_role_member",TREE_PERMISSION_DIALOG_CONFIRM:"tree_permission_dialog_confirm",TREE_PERMISSION_DIALOG_CANCEL:"tree_permission_dialog_cancel",REMOVE_MEMBER:"remove_member",DELETE_WORKSPACE:"delete_workspace",WORKSPACE:"workspace",RESENTS:"resents",CLICK_ENTER_WIKI_SETTING:"click_enter_wiki_settings",DELETE_ADMIN:"delete_admin",CONFIRM_ADD_ADMIN:"confirm_add_admin",HOVER:"hover",OPEN:"open",CLOSE:"close",CLICK_SET_COVER_HOME:"click_set_cover_home",CLICK_SET_COVER_SETTINGS:"click_set_cover_settings",CONFIRM_SET_COVER_HOME:"confirm_set_cover_home",CONFIRM_SET_COVER_SETTINGS:"confirm_set_cover_settings",BATCH_REMOVE_NODE:"batch_remove_node",CLICK_REMOVE_WIKI:"click_remove_wiki",CLICK_BATCH_REMOVE_WIKI:"click_batch_remove_wiki",CLICK_REMOVE_SOURCE_FILE:"click_remove_source_file",REMOVE_WIKI_FAIL:"remove_wiki_fail",REMOVE_WIKI_SOURCE_FILE:"remove_wiki_source_file",IMPORT_CLICK:"import_click",IMPORT_CONFIRM:"import_confirm",REQUEST_PERMISSION:"request_permission",REQUEST_PERMISSION_FAIL:"request_permission_fail",ADD_TO_WIKI:"add_to_wiki",CONFIRM_ADD_TO_WIKI:"confirm_add_to_wiki",CANCEL_ADD_TO_WIKI:"cancel_add_to_wiki"},C="success",h="fail",v="yes",D="no",N={SPACE_ID_NOT_MATCH:"space_id_not_match",SERVER_DATA_ERROR:"server_data_error",LOCAL_SYNC_ERROR:"local_sync_error"},L="ccm_space_import_view",y="ccm_space_import_click";!function(e){e.HTML="html_type",e.CONFLUENCE="confluence_type",e.WORD="word_type",e.FOLDER="folder_type",e.FINISH="finish_import",e.CANCEL="cancel",e.HELP="help",e.CONFLUENCE_CANCEL_IMPORT="confluence_cancel_import",e.CONFLUENCE_IMPORT="confluence_import",e.CONFLUENCE_CANCEL="confluence_cancel",e.CONFLUENCE_SPACE_SITE_HELP="confluence_space_site_help"}(r||(r={}))},485086:function(e,t,n){"use strict";var r;n.d(t,{O:function(){return r}}),function(e){e.wikiIndex="wikiIndex",e.wikiHome="wikiHome",e.wikiSpaceSetting="wikiSpaceSetting"}(r||(r={}))},605669:function(e,t,n){"use strict";n.d(t,{W5:function(){return c},G7:function(){return u},mk:function(){return s}});var r=n(523232),o=n(359980),i=n(485086),a=n(546722),c=function(e){return(0,o.default)((0,a.yi)(e),"currentWikiMode.mode")},u=(0,r.P1)(a.yo,a.MM,(function(e,t){return e&&t&&t[e]?t[e]:null})),s=(0,r.P1)(u,(function(e){var t=(0,o.default)(e,"appState.route"),n=(0,o.default)(e,"appState.router.location.pathname");return t&&t.get("routeName")&&t.get("routeName")===i.O.wikiSpaceSetting?n.split("/").pop():null}),(function(e,t){return e&&e.spaceId?e.spaceId:t}))},555535:function(e,t,n){"use strict";n.d(t,{a_:function(){return l},cA:function(){return E}});var r,o=n(774561),i=n(746986),a=n(481382),c=n(893835),u=n(839612),s=n(10131),_={saga:["SourceNotExist","NodePermFailCodeFail"],detail:["NodePermFail"]};function E(e,t){var n=u.J[e.type]||{},r=Object.assign({level:"error"},n,{},e,{msg:t?t.message:""}),o=r.action||"";if(t||(t=new Error("default error:".concat(r.type,",").concat(o))),!t.reported){t.reported=!0;var a=_[r.type];if(!(a&&a.indexOf(r.msg)>-1)){var E={name:"wiki_error",type:r.type,action:o};t.code&&(E.code=t.code,r.stack=t.code),(0,i.default)(s.b5,r),(0,c.Tb)(t,{level:r.level,tags:E})}}}var l=(r={},(0,o.Z)(r,a.NUM_FILE_TYPE.DOC,"WikiDocParamInjector"),(0,o.Z)(r,a.NUM_FILE_TYPE.DOCX,"WikiDocxParamInjector"),(0,o.Z)(r,a.NUM_FILE_TYPE.BITABLE,"WikiBitableParamInjector"),(0,o.Z)(r,a.NUM_FILE_TYPE.SHEET,"WikiSheetParamInjector"),(0,o.Z)(r,a.NUM_FILE_TYPE.MINDNOTE,"WikiMindnoteParamInjector"),(0,o.Z)(r,a.NUM_FILE_TYPE.SLIDE,"WikiSlideParamInjector"),(0,o.Z)(r,a.NUM_FILE_TYPE.FILE,"WikiFileParamInjector"),r)},298087:function(e,t,n){"use strict";n.d(t,{e:function(){return o},TH:function(){return f},fC:function(){return a},tb:function(){return c},uR:function(){return u},ti:function(){return s},gD:function(){return _},vh:function(){return E},vB:function(){return l},Xk:function(){return d}});var r,o,i=n(774561);!function(e){e.Doc="Doc",e.Sheet="Sheet",e.Slide="Slide",e.Box="Box",e.Wiki="Wiki",e.Docx="Docx",e.Bitable="Bitable"}(o||(o={}));var a,c,u,s,_,E,l,f=0;!function(e){e[e.EditorMount=1]="EditorMount",e[e.Done=2]="Done",e.SectionNavRendered="SectionNavRendered",e.CommentRendered="CommentRendered"}(a||(a={})),function(e){e[e.Done=1]="Done"}(c||(c={})),function(e){e[e.Done=1]="Done"}(u||(u={})),function(e){e[e.Done=1]="Done"}(s||(s={})),function(e){e[e.Done=1]="Done"}(_||(_={})),function(e){e[e.EditorMount=1]="EditorMount",e[e.Done=2]="Done",e.SectionNavRendered="SectionNavRendered",e.CommentRendered="CommentRendered"}(E||(E={})),function(e){e[e.Done=1]="Done"}(l||(l={}));var d=(r={},(0,i.Z)(r,o.Doc,a.Done),(0,i.Z)(r,o.Sheet,c.Done),(0,i.Z)(r,o.Slide,u.Done),(0,i.Z)(r,o.Box,s.Done),(0,i.Z)(r,o.Wiki,_.Done),(0,i.Z)(r,o.Docx,E.Done),(0,i.Z)(r,o.Bitable,l.Done),r)},697098:function(e,t,n){"use strict";n.d(t,{Jw:function(){return o},s2:function(){return i},oO:function(){return a}});var r=n(298087);function o(e){return"number"==typeof e&&e>=r.TH}function i(e,t){return Boolean(t[e])}function a(e,t,n){return!!i(e,n)&&(o(t)?n[e].numberStage>=t:n[e].simpleStageSet.has(t))}},693675:function(e,t,n){"use strict";var r=n(919264),o=n(804175),i=n(573455),a=n(112064),c=n(822462),u=n(165235),s=n(338024),_=n(246909),E=n(697098);function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var f=function(e){(0,i.Z)(n,e);var t=l(n);function n(){var e;return(0,r.Z)(this,n),(e=t.apply(this,arguments)).hasRenderedChildren=!1,e}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){this.updateHasRenderedChildren()}},{key:"componentDidUpdate",value:function(){this.updateHasRenderedChildren()}},{key:"shouldRenderChildren",value:function(){return!(!this.props.keepalive||!this.hasRenderedChildren)||this.props.shouldRenderChildrenByReduxState}},{key:"updateHasRenderedChildren",value:function(){!this.hasRenderedChildren&&this.shouldRenderChildren()&&(this.hasRenderedChildren=!0)}},{key:"render",value:function(){return this.shouldRenderChildren()?this.props.children:void 0!==this.props.loading?this.props.loading:null}}]),n}(u.Component);function d(e,t,n,r){return void 0===t||(!(0,E.s2)(e,r)||(!(!n.renderOnTimeout||!r[e].hasTimedOut)||!!(0,E.oO)(e,t,r)))}function T(e,t){return function(e){return Boolean(e.business)}(e)?d(e.business,e.renderWhen,e,t):Object.keys(t).every((function(n){return d(n,e.renderWhen[n],e,t)}))}t.C=(0,s.connect)((function(e,t){return{shouldRenderChildrenByReduxState:T(t,(0,_.o)(e))}}),null)(f)},62971:function(e,t,n){"use strict";n.d(t,{K:function(){return E}});var r=n(742097),o=n(165235),i=n(968993),a=n(359831),c=n(587847),u=n(357081),s=n(215661),_=n(77112);function E(){var e=Object.keys(u.BC.REDIRECT_FROM_PATH);return o.createElement(o.Fragment,null,e.map((function(e,t){var n=u.BC.REDIRECT_FROM_PATH[e];return(0,a.Z)(n,{path:(0,_.ux)(n),strict:!0,exact:!0})?null:o.createElement(c.Z,{key:t,path:n,strict:!0,exact:!0,render:function(e){var t=e.location,n=t.pathname,a=t.search,c=t.hash,u=(0,_.ux)("".concat(n)),E="".concat(u).concat(a).concat(c),l=s.Z.isFeed?E:r.Z.origin+E;return o.createElement(i.Z,{to:l})}})})),o.createElement(c.Z,{path:u.BC.DEPRECATED_WIKI_PATH,strict:!0,exact:!0,render:function(){return o.createElement(i.Z,{to:u.BC.PATH.WIKI_HOME})}}))}},337018:function(e,t,n){"use strict";n.d(t,{X:function(){return c}});var r=n(280054),o=n(165235),i=n(587847),a=n(77112);function c(e){return!e.path||(0,r.isString)(e.path)?o.createElement(i.Z,Object.assign({},e,{path:(0,a.ux)(e.path||"/")})):o.createElement(i.Z,Object.assign({},e,{path:e.path.map((function(e){return(0,a.ux)(e||"/")}))}))}},41240:function(e,t,n){"use strict";var r=n(520253);t.Z=r.Z},800581:function(e,t,n){"use strict";n.d(t,{Z:function(){return p},e:function(){return f}});var r=n(919264),o=n(804175),i=n(573455),a=n(112064),c=n(822462),u=n(525474),s=n(497754),_=n.n(s),E=n(165235);function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var f=[];function d(e){return e?{transform:"scale(".concat(e.style.scale,")"),opacity:e.style.scale}:{}}var T=function(e){(0,i.Z)(n,e);var t=l(n);function n(){var e;return(0,r.Z)(this,n),(e=t.apply(this,arguments)).handleKeyDown=function(t){27===t.keyCode?(e.handleClose(t),t.preventDefault(),t.stopImmediatePropagation()):13===t.keyCode&&(e.handleConfirm(t),t.preventDefault(),t.stopImmediatePropagation())},e.handleConfirm=function(t){e.props.anotherConfirm&&e.props.anotherConfirm()},e.handleClose=function(t,n){e.props.onClose&&e.props.onClose(t,n)},e.didLeave=function(){e.props.afterClose&&e.props.afterClose()},e.getContent=function(t){var n=e.props,r=n.style,o=n.closable,i=n.children,a=n.getContent;return"function"==typeof a?a({style:Object.assign({},r,{},d(t)),motion:!1,closable:o,handleClose:e.handleClose}):E.createElement("div",{className:_()({modal_hidden:!t}),style:Object.assign({},r,{},d(t))},i)},e}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){this.props.visible&&this.forceUpdate(),this.props.shouldListenKeyDown&&window.addEventListener("keydown",this.handleKeyDown,!0)}},{key:"componentWillUnmount",value:function(){this.props.shouldListenKeyDown&&window.removeEventListener("keydown",this.handleKeyDown,!0)}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.className,r=e.wrapClassName,o=e.mask,i=e.maskClosable,a=e.title,c=e.footer,s=e.getContent,l=e.closable,f=e.disableAnimation,d=e.maskStyle,T=e.zIndex;return E.createElement(u.Dialog,{visible:t,wrapClassName:_()(r,"modal-wrap"),className:_()(n,"modal"),onAfterClose:this.didLeave,mask:o,maskClosable:i,header:a?void 0:null,title:a,closable:"function"!=typeof s&&l,footer:c,keyboardClosable:!1,onCancel:this.handleClose,width:400,zIndex:T,enableAnimation:!f,maskStyle:d,centered:!0},this.getContent(!1))}}]),n}(E.Component);T.defaultProps={closable:!0,mask:!0,maskClosable:!0,shouleListenKeyDown:!1};var p=T},730705:function(e,t,n){"use strict";var r=n(919264),o=n(804175),i=n(573455),a=n(112064),c=n(822462),u=n(165235),s=n(994386),_=n(800581);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}function l(){}var f=function(e){(0,i.Z)(n,e);var t=E(n);function n(){var e;return(0,r.Z)(this,n),(e=t.apply(this,arguments)).setContainerRender=function(t){e.containerRender=t},e.getComponent=function(t){return u.createElement(_.Z,Object.assign({},e.props,{},t))},e}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){var e=this.close.bind(this);e.context=this,_.e.push(e)}},{key:"close",value:function(){var e=this.containerRender;e.container&&(this.props.visible?e.renderComponent({afterClose:this.destroy.bind(this,e),onClose:l,visible:!1}):this.destroy(e))}},{key:"destroy",value:function(e){e.removeContainer();for(var t=0;t<_.e.length;t++){if(_.e[t].context===this){_.e.splice(t,1);break}}}},{key:"componentWillUnmount",value:function(){this.close()}},{key:"render",value:function(){return u.createElement(s.E,{ref:this.setContainerRender,visible:this.props.visible,getComponent:this.getComponent,autoDestroy:!1})}}]),n}(u.Component);t.Z=f},347541:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var r=n(26278),o=n(774561),i=n(846775),a=n(345398),c=n(497754),u=n.n(c),s=n(165235),_=n(129108),E=n(338024),l=n(215661),f=n(698686),d=n(941985),T=n(991210),p=n(730705),S=n(60618),I=["className","type","title","body","onCancel","disableAnimation","maskStyle"];function O(e,t){return e?function(){var n=e();return n||t(),n&&(0,i.default)(n.then)?n.then(t):n}:t}function R(e){var t,n=e.modalType,i=e.footer,c=e.footerExtra,R=e.hasCancel,m=void 0===R||R,A=e.hasConfirm,C=void 0===A||A,h=e.cancelText,v=void 0===h?S("common.cancel"):h,D=e.confirmText,N=void 0===D?S("common.confirm"):D,L=e.onConfirm,y=e.onCancel,P=e.extraButtons,g=e.getContent,M=document.createElement("div");function b(){_.unmountComponentAtNode(M)&&M.parentNode&&M.parentNode.removeChild(M)}return document.body.appendChild(M),i?t=s.createElement("div",{className:"modal__footer"},i):(m||C||c)&&(t=s.createElement("div",{className:"modal__footer layout-row"},s.createElement("div",{className:"modal__footer-extra flex"},c),(v||N)&&s.createElement("div",{className:"modal__actions"},m&&v&&s.createElement(a.zx,{className:"modal__action modal__cancel",onClick:O(y,b)},v),P||"",C&&N&&s.createElement(a.zx,{className:"modal__action modal__confirm",onClick:O(L,b),style:e.confirmBtnStyle||{},type:"primary"},N)))),_.render(l.Z.isOpendoc&&!g||"spark"===n?function(e,t,n){var r=e.className,i=e.type,a=e.title,c=e.body,_=e.onCancel,l=e.bodyStyle,p=e.zIndex,S=l||{padding:"8px 16px 32px",marginBottom:0};return s.createElement(E.Provider,{store:d.ZP},s.createElement(T.Z,{className:u()(r,(0,o.Z)({},"modal_".concat(i),i)),visible:!0,footer:null,title:a,bodyStyle:S,zIndex:p,onCancel:(0,f.Z)(_,t)},c,n))}(e,b,t):function(e,t,n){var i=e.className,a=e.type,c=e.title,_=e.body,E=e.onCancel,l=e.disableAnimation,d=e.maskStyle,T=(0,r.Z)(e,I);return s.createElement(p.Z,Object.assign({},T,{className:u()(i,(0,o.Z)({},"modal_".concat(a),a)),visible:!0,disableAnimation:l,maskStyle:d,onClose:(0,f.Z)(E,t),anotherConfirm:(0,f.Z)(T.onConfirm,t),title:c,footer:n}),_)}(e,b,t),M),{close:b}}var m=["onCancel","onConfirm"],A=function(){},C={isVisible:function(){return this._visible},_visible:!1,nowModalLevel:-1,close:function(){},show:function(e){var t=this,n=e.level,o=void 0===n?-1:n,i=e.onCancel,a=void 0===i?A:i,c=e.onConfirm,u=void 0===c?A:c,s=(0,r.Z)(e,m);"number"==typeof(o=parseInt(o,10))&&isNaN(o)&&(o=-1);if(o>=this.nowModalLevel){this.nowModalLevel=o,this._visible=!0,this.close();var _=R(Object.assign({},s,{onCancel:function(e,n){a(e,n),t.nowModalLevel=-1,t._visible=!1},onConfirm:function(){u(),t.nowModalLevel=-1,t._visible=!1}})),E=_.close;return this.close=E,{close:E}}return{close:function(){}}}}},79120:function(e,t,n){"use strict";n.d(t,{Z:function(){return L}});var r=n(367017),o=n.n(r),i=n(335067),a=n(919264),c=n(804175),u=n(573455),s=n(112064),_=n(822462),E=n(265498),l=n(165235),f=n(338024),d=n(524666),T=n(64428),p=n(107925),S=n(215661),I=n(362229),O=n(957406),R=n(902774),m=n(941985),A=n(991210),C=n(345398),h=n(60618);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var o=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var D=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,E.Z)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},N="crash-dialog",L=function(e){(0,u.Z)(r,e);var t,n=v(r);function r(){return(0,a.Z)(this,r),n.apply(this,arguments)}return(0,c.Z)(r,[{key:"handleContactUs",value:function(){(0,T.F)()}},{key:"handleReload",value:(t=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.W6.clear();case 2:(0,O.j)(!0);case 3:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"getIsBrowserAndVersionSupported",value:function(){return(0,p.k7)()&&(0,p.DZ)()}},{key:"renderFooter",value:function(){var e="".concat(N,"__footer");return S.Z.isFeishuRooms?null:l.createElement("div",{className:e},l.createElement(C.zx,{className:"".concat(e,"__btn ").concat(e,"__contact"),onClick:this.handleContactUs},h("common.contact")),this.getIsBrowserAndVersionSupported()&&l.createElement(C.zx,{type:"primary",className:"".concat(e,"__btn ").concat(e,"__reload"),onClick:this.handleReload},h("common.refresh")))}},{key:"renderContent",value:function(){return this.props.contentText?l.createElement("span",null,this.props.contentText):S.Z.isFeishuRooms?l.createElement("span",null,h("vc.oops.content")):this.getIsBrowserAndVersionSupported()?l.createElement("span",null,h("error.system_and_reload")):l.createElement(l.Fragment,null,l.createElement("span",null,h("error.occurred")),(0,p.TS)())}},{key:"render",value:function(){return l.createElement(f.Provider,{store:m.ZP},l.createElement(A.Z,{centered:!0,visible:!0,closable:!1,className:N,width:400,title:h("common.oops"),footer:this.renderFooter()},this.renderContent()))}}]),r}(l.Component);D([(0,d.WY)(),(0,I.ZP)("click_contact_customer_service",(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{source:"file_open",withFileInfo:!0});case 1:case"end":return e.stop()}}),e)}))))],L.prototype,"handleContactUs",null),D([(0,d.WY)()],L.prototype,"handleReload",null)},222646:function(e,t,n){"use strict";n.d(t,{P:function(){return u}});var r=n(893835),o=n(101622),i=n(107925),a=n(746986),c=!0;var u=function(e,t){var n=(0,i.k7)(),u=(0,i.DZ)();(0,a.default)("client_react_component_error",{component_name:t.componentName,component_error_name:e.name,component_error_msg:e.message,component_error_stack:String(e.stack),component_error_info:t.componentStack,is_browser_supported:n?1:0,is_browser_and_version_supported:n&&u?1:0,is_first_captured_v2:c?1:0,networkStatus:navigator.onLine?"online":"offline"}),function(e){if("ChunkLoadError"===e.name)try{var t=e.message.match(/Loading chunk (\S+) failed.\n\((\w+):/);if(!t)return;var n="script",r=t[1],o=t[2],i={};window.__cdnErrorEntries__&&(i=window.__cdnErrorEntries__["".concat(n,"-").concat(r)]);var u=!1;window.__cdnErrorRetrySuccessEntries__&&(u=window.__cdnErrorRetrySuccessEntries__.indexOf("".concat(n,"-").concat(r))>-1),(0,a.default)("dev_loading_chunk_error",Object.assign({chunk_id:r,chunk_error_type:o},i,{error_domains:i.error_domains?i.error_domains.join(","):"",cdn_error_retry_success:u?1:0,is_first_captured_v2:c?1:0,networkStatus:navigator.onLine?"online":"offline"}))}catch(e){console.error("tryLogLoadChunkErrorDebugInfo",e)}}(e),c=!1,(0,r.Tb)(e,{extras:t}),o.ZP.renderFail(o.U7.REACT_COMPONENT_ERROR)}},533347:function(e,t,n){"use strict";var r=n(222646),o=n(79120),i=n(20133);t.Z=(0,i.Z)(r.P,o.Z)},20133:function(e,t,n){"use strict";var r=n(919264),o=n(804175),i=n(573455),a=n(112064),c=n(822462),u=n(165235);function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}t.Z=function(e,t){return function(n){return function(a){(0,i.Z)(_,a);var c=s(_);function _(){var e;return(0,r.Z)(this,_),(e=c.apply(this,arguments)).state={hasError:!1,error:void 0,info:{componentStack:""}},e}return(0,o.Z)(_,[{key:"componentDidCatch",value:function(t,r){e&&e(t,{componentStack:r.componentStack,componentName:n.displayName||n.name||"App"}),this.setState({hasError:!0,error:t,info:r})}},{key:"componentWillUnmount",value:function(){this.setState({error:void 0})}},{key:"render",value:function(){var e=this.state,r=e.hasError,o=e.error,i=e.info;return r?t&&u.createElement(t,{error:o,info:i}):u.createElement(n,Object.assign({},this.props))}}]),_}(u.Component)}}},900967:function(e,t,n){"use strict";var r;n.d(t,{L:function(){return r}}),function(e){e.WEBSOCKET="@@websocket",e.REQUEST="@@request",e.UI="@@ui",e.UPDATE="@@update",e.INITIALIZATION="@initialization"}(r||(r={}))},157823:function(e,t,n){"use strict";var r;n.r(t),n.d(t,{DummyTokens:function(){return r},dummyTokenList:function(){return i},SheetMetaField:function(){return o}}),function(e){e.MyDocuments="my-documents",e.ShareFolders="share-folders",e.TeamSpace="team-space"}(r||(r={}));var o,i=[r.MyDocuments,r.ShareFolders,r.TeamSpace];!function(e){e[e.TITLE=0]="TITLE",e[e.ICON=1]="ICON"}(o||(o={}))},17262:function(e,t,n){"use strict";n.d(t,{Av:function(){return o},xp:function(){return u}});var r,o,i,a=n(774561),c=n(466289);!function(e){e.Base="BITABLE_BASE",e.Table="BITABLE_TABLE"}(o||(o={})),function(e){e.grid="grid",e.kanban="kanban",e.gantt="gantt",e.gallery="gallery",e.form="form"}(i||(i={}));var u=(r={},(0,a.Z)(r,c.pE.CREATE_BITABLE_GRID,i.grid),(0,a.Z)(r,c.pE.CREATE_BITABLE_KANBAN,i.kanban),(0,a.Z)(r,c.pE.CREATE_BITABLE_GANTT,i.gantt),(0,a.Z)(r,c.pE.CREATE_BITABLE_GALLERY,i.gallery),(0,a.Z)(r,c.pE.CREATE_BITABLE_FORM,i.form),r)},732023:function(e,t,n){"use strict";n.d(t,{N:function(){return o},v:function(){return i}});var r=n(587771),o={doc:"docs",sheet:"sheets",slide:"slides",bitable:"base",mindnote:"mindnotes",docx:"docx"},i=(0,r.Z)(o)},910894:function(e,t,n){"use strict";n.d(t,{qY:function(){return I},D0:function(){return O},Ph:function(){return R},Wn:function(){return m},bR:function(){return A},ML:function(){return C},qN:function(){return h},H0:function(){return v},Ah:function(){return D},CJ:function(){return N},sR:function(){return y},Bn:function(){return g},wc:function(){return M},bS:function(){return b},ZE:function(){return k},aR:function(){return w},Ft:function(){return H},Ko:function(){return U},pz:function(){return F},vO:function(){return Z},W5:function(){return x},SX:function(){return B},Y3:function(){return W},FL:function(){return G},GC:function(){return K},gq:function(){return V},T_:function(){return j},Kv:function(){return Y},mL:function(){return J},Q3:function(){return X},Mc:function(){return q},tA:function(){return Q}});var r=n(359980),o=n(284113),i=n(581034),a=(0,o.k8)(),c=(0,o.l7)(),u=(0,o.s2)(),s=(0,o.KH)(),_=a.domain,E=a.helpcenter_article,l=(0,i.Kd)(),f=i.Kd&&"zh-cn"===(0,i.Kd)().toLowerCase()?"zh-cn":"en-us",d=(0,i.G3)(),T=(0,i.nU)(),p="https://",S="undefined"==typeof window?n.g:window,I="".concat(p).concat(_.helpcenter,"/hc/").concat(s?l:f),O=(0,r.default)(window,"materialConfig.brand_docs_helpcenter_home",I),R="".concat(I,"/articles/").concat(E.incompatible_extension),m=("".concat(I,"/articles/").concat(E.app_share_help),(0,r.default)(window,"materialConfig.brand_docs_helpcenter_permission","".concat(I,"/articles/").concat(E.authorized_help))),A="".concat(I,"/articles/").concat(E.supported_browser),C=(0,r.default)(window,"materialConfig.brand_docs_helpcenter_import","".concat(I,"/articles/").concat(E.importing_help)),h=(0,r.default)(window,"materialConfig.brand_docs_helpcenter_import","".concat(I,"/articles/").concat(E.shimo_importing_help)),v=(0,r.default)(window,"materialConfig.brand_docs_helpcenter_import","".concat(I,"/articles/").concat(E.confluence_importing_help?E.confluence_importing_help:"612602911143")),D="".concat(I,"/articles/").concat(E.stickup_help),N="".concat(I,"/articles/").concat(E.space_single_container),L=s?"".concat(T,"/privacy-policy"):"".concat(d,"/privacy"),y="".concat(p).concat(_.official,"/").concat(L),P=s?"".concat(T,"/customer-terms-of-service"):"".concat(d,"/terms"),g="".concat(p).concat(_.official,"/").concat(P),M="".concat(p).concat(_.helpdesk,"/api/lark-customer-service/link"),b="".concat(p).concat(_.helpdesk,"/suite-help/ticket/new"),k=(_.passport,"".concat(p).concat(_.passport,"/suite/passport/page/login/")),w=k,H=("".concat(p).concat(_.passport,"/suite/passport/frontier_ticket/"),"".concat(p).concat(_.official)),U=u.singleDocsHome,F="".concat(H,"/drive/home/"),Z="".concat(H,"/report/?type=docs"),x="".concat(H,"/anonymity/report/?type=docs"),B="".concat(p).concat((0,r.default)(S,"location.host",_.official),"/admin/"),W=("".concat(p).concat((0,r.default)(S,"location.host",_.official),"/admin/drive/wiki"),"".concat(B,"#/contacts/departmentanduser"),"".concat(H,"/messenger/"),c.storageNullSecretKey),G="".concat(I,s?"/articles/360048487850":"/articles/360049067502"),K="".concat(I,s?"/articles/360048487978":"/articles/360049067727"),V="".concat(I,"/articles/360049067490"),j="".concat(I,s?"/articles/360048487834":"/articles/360049067483"),Y="".concat(I,"/articles/899185815351"),J="".concat(I,s?"/articles/360048487756":"/articles/360049067395"),X="".concat(I,s?"/articles/360048488019":"/articles/360049067832"),q="".concat(I,"/articles/360049067736"),Q="".concat(I,s?"/articles/360048487940":"/articles/360049067639")},234472:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r={};n.r(r),n.d(r,{ON_LINE_ENTRY_CHANGE:function(){return d},ON_NEW_ACTIVE_GUID:function(){return c},ON_NEW_ENTRIES:function(){return a},ON_RESIZE:function(){return s},ON_SCROLL_TO_ACTIVE_LINE:function(){return u},ON_SECTION_NAV_READY:function(){return i},ON_SHOWING_FULL_CHANGE:function(){return f},ON_SHOWING_STATE_CHANGE:function(){return _},ON_SIDEBAR_STATE_CHANGE:function(){return E},ON_SIZE_CHANGE:function(){return l}});var o=n(565726),i="ON_SECTION_NAV_READY",a="ON_NEW_ENTRIES",c="ON_NEW_ACTIVE_GUID",u="ON_SCROLL_TO_ACTIVE_LINE",s="ON_RESIZE",_="ON_SHOWING_STATE_CHANGE",E="ON_SIDEBAR_STATE_CHANGE",l="ON_SIZE_CHANGE",f="ON_SHOWING_FULL_CHANGE",d="ON_LINE_ENTRY_CHANGE",T={PC:{COMMON:{CLOSE_TRANSLATE:"CLOSE_TRANSLATE",REFRESH_TRANSLATE:"REFRESH_TRANSLATE",TRANSLATE_CHANGE_LANG:"TRANSLATE_CHANGE_LANG",OPEN_TRANSLATE_SETTING:"OPEN_TRANSLATE_SETTING",CLICK_TRANSLATE_MENU:"CLICK_TRANSLATE_MENU",UPDATE_TRANSLATE_SETTING:"UPDATE_TRANSLATE_SETTING",UPDATE_PANO_HASH_TAGS:"UPDATE_PANO_HASH_TAGS",INPUT_SEARCH:"INPUT_SEARCH",SEARCH_LIST_VISIBLE_CHANGE:"SEARCH_LIST_VISIBLE_CHANGE",RELATION_GRAPH_SEARCH_ITEM_CLICK:"RELATION_GRAPH_SEARCH_ITEM_CLICK",TOGGLE_BIDIRECTIONAL_LINK_LIST:"TOGGLE_BIDIRECTIONAL_LINK_LIST",OPEN_SHARE_MENU:"OPEN_SHARE_MENU",READABLE_PERMISSION_CHANGE:"READABLE_PERMISSION_CHANGE",MS_PRESENTER_TIP_SHOW_CHANGE:"MS_PRESENTER_TIP_SHOW_CHANGE",TITLE_CHANGE:"TITLE_CHANGE",PERFORMANCE_STAGE_INIT:"PERFORMANCE_STAGE_INIT",PERFORMANCE_STAGE_UPDATE:"PERFORMANCE_STAGE_UPDATE"},SPACE:{MAIN_CONTENT_LIST_LOADED:"MAIN_CONTENT_LIST_LOADED"},SUITE:{SET_CUSTOM_ICON:"SET_CUSTOM_ICON",TRIGGER_UPDATE_CUSTOM_ICON_META:"TRIGGER_UPDATE_CUSTOM_ICON_META",UPDATE_CUSTOM_ICON_START:"UPDATE_CUSTOM_ICON_START",UPDATE_CUSTOM_ICON_SUCCESS:"UPDATE_CUSTOM_ICON_SUCCESS",UPDATE_CUSTOM_ICON_FAILED:"UPDATE_CUSTOM_ICON_FAILED",PREFERENCES_PICKED:"PREFERENCES_PICKED"},DOCS:{ONBOARDING:{ADD_STEP:"ADD_STEP",REMOVE_STEP:"REMOVE_STEP",HIDE_STEP:"HIDE_STEP",SHOW_STEP:"SHOW_STEP",ACKNOWLEDGE_STEP:"ACKNOWLEDGE_STEP",COMPLETE_STEP:"COMPLETE_STEP",SCAN_STEP:"SCAN_STEP",RENDER_STEP:"RENDER_STEP",FINISH_HOME_TUTORIAL:"FINISH_HOME_TUTORIAL",COMPLETE_MANUAL_GUIDE:"COMPLETE_MANUAL_GUIDE",CLOSE_UNDO_REDO_CALLOUT:"CLOSE_UNDO_REDO_CALLOUT",PREPARE_LINE_PANEL_GUIDE:"PREPARE_LINE_PANEL_GUIDE",FINISH_LINE_PANEL_GUIDE:"FINISH_LINE_PANEL_GUIDE",ADD_STEP_WHEN_CLEAR:"ADD_STEP_WHEN_CLEAR",COMPLETE_STEP_ONLY_LOCAL:"COMPLETE_STEP_ONLY_LOCAL",A_PANEL_STEP_DONE:"A_PANEL_STEP_DONE",READY:"READY",SET_SCENE:"SET_SCENE",UNSET_SCENE:"UNSET_SCENE"},CLOSE_TRANSLATE_GUIDE:"CLOSE_TRANSLATE_GUIDE",CLOSE_SELECTION_POPUP_GUIDE:"CLOSE_SELECTION_POPUP_GUIDE",SECTION_NAV:Object.assign({},r),MORE_MENU:{OPEN_MORE_MENU:"OPEN_MORE_MENU",HIDE_MORE_MENU:"HIDE_MORE_MENU"},SYNC_NOTE_META:"SYNC_NOTE_META",REMINDER_GUIDE_INSERT:"REMINDER_GUIDE_INSERT",TITLE:{SET_TITLE:"SET_TITLE"},PLACEHOLDER:{DOC_EMPTY:"DOC_EMPTY",READ_ONLY:"READ_ONLY",READ_WRITE:"READ_WRITE"},TEMPLATE:{INSERT:"INSERT",PERFORM_HIDE_ANIMATION:"PERFORM_HIDE_ANIMATION"},REMOVE_SSR:"REMOVE_SSR",HISTORY:{TOGGLE:"HISTORY_TOGGLE",QUERY_CHANGE:"QUERY_CHANGE"},HISTORY_X:{TOGGLE:"HISTORY_X_TOGGLE"},HEADING_MAX_LEVEL:"HEADING_MAX_LEVEL",EDITOR_JUMP_TO_GUID_POSITION:"EDITOR_JUMP_TO_GUID_POSITION"},SHEET:{FOLD_PLATE_SHOW:"FOLD_PLATE_SHOW",FOLD_PLATE_HIDE:"FOLD_PLATE_HIDE",SHOW_DROPDOWN_MENU_MULTI:"SHOW_DROPDOWN_MENU_MULTI",TOGGLE_SHORT_CUT_SIDEBAR:"TOGGLE_SHORT_CUT_SIDEBAR"},BITABLE:{INSERT_BITABLE:"INSERT_BITABLE",ONBOARDING:{KANBAN_TRY_ADD_GROUP:"KANBAN_TRY_ADD_GROUP",KANBAN_SKIP_ADD_GROUP:"KANBAN_SKIP_ADD_GROUP",KANBAN_TRY_FIELD_SETTINGS:"KANBAN_TRY_FIELD_SETTINGS",KANBAN_SKIP_FIELD_SETTINGS:"KANBAN_SKIP_FIELD_SETTINGS",KANBAN_SKIP_GROUP_SETTING:"KANBAN_SKIP_GROUP_SETTING",KANBAN_TRY_GROUP_SETTING:"KANBAN_TRY_GROUP_SETTING",KANBAN_SKIP_CREATE_VIEW:"KANBAN_SKIP_CREATE_VIEW",KANBAN_TRY_CREATE_VIEW:"KANBAN_TRY_CREATE_VIEW",GRID_TRY_ADD_COLUMN:"GRID_TRY_ADD_COLUMN",GRID_SKIP_ADD_COLUMN:"GRID_SKIP_ADD_COLUMN",GRID_TRY_EXPAND_ROW:"GRID_TRY_EXPAND_ROW",GRID_SKIP_EXPAND_ROW:"GRID_SKIP_EXPAND_ROW",GRID_SKIP_CREATE_VIEW:"GRID_SKIP_CREATE_VIEW",GRID_TRY_CREATE_VIEW:"GRID_TRY_CREATE_VIEW",GRID_TRY_ADD_GROUP:"GRID_TRY_ADD_GROUP",TRY_ADD_FORM:"TRY_ADD_FORM"}},MINDNOTE:{INSERT_MINDNOTE:"INSERT_MINDNOTE"},ISV_BLOCK:{INSERT_ISV_BLOCK:"INSERT_ISV_BLOCK",INSERT_PENDING_ISV_BLOCK:"INSERT_PENDING_ISV_BLOCK"},DRIVE:{DELETE_FILE_VERSION:"DELETE_FILE_VERSION",UPLOAD_FILE_VERSION:"UPLOAD_FILE_VERSION",PUSH_COMMENT:"PUSH_COMMENT",FILE_META_UPDATE:"FILE_META_UPDATE",TRIGGER_WPS_SAVE:"TRIGGER_WPS_SAVE",WPS_SAVED_RESULT:"WPS_SAVED_RESULT",OPEN_VERSION_MODAL:"OPEN_VERSION_MODAL",WPS_VERSION_UPDATE_STATUS_CHANGE:"WPS_VERSION_UPDATE_STATUS_CHANGE",CLEAR_FAST_PDF_CACHE:"CLEAR_FAST_PDF_CACHE",Comment:{fullCommentPageNumberUpdate:"fullCommentPageNumberUpdate",getInitialCommentPageNumber:"getInitialCommentPageNumber",clickCommentFrame:"clickCommentFrame",createCommentAbort:"createCommentAbort",createCommentInit:"createCommentInit",createCommentUpdate:"createCommentUpdate",commentLayerMounted:"commentLayerMounted",clearCommentLayer:"clearCommentLayer",createCommentFinish:"createCommentFinish",setActiveCommentItem:"setActiveCommentItem",setActiveFullCommentItem:"setActiveFullCommentItem",clickCommentFrameVersion:"clickCommentFrameVersion",createCommentAbortVersion:"createCommentAbortVersion",createCommentInitVersion:"createCommentInitVersion",createCommentUpdateVersion:"createCommentUpdateVersion",createCommentFinishVersion:"createCommentFinishVersion",setActiveCommentItemVersion:"setActiveCommentItemVersion",setActiveFullCommentItemVersion:"setActiveFullCommentItemVersion"},Search:{memoryFilter:"memoryFilter",tipsAlign:"tipsAlign"},RIGHT_BAR_EXPAND_CHANGE_START:"RIGHT_BAR_EXPAND_CHANGE_START",RIGHT_BAR_EXPAND_CHANGE_END:"RIGHT_BAR_EXPAND_CHANGE_END",LIST_RELOAD:"LIST_RELOAD",EXPLORER_LEFT_SIDEBAR_EXPAND_WIDTH_CHANGED:"EXPLORER_LEFT_SIDEBAR_EXPAND_WIDTH_CHANGED",GridView:{gridResize:"gridResize",gridScroll:"gridScroll"}},WIKI:{UPLOAD_CONFLUENCE:"UPLOAD_CONFLUENCE",CONFLUENCE_HELP:"CONFLUENCE_HELP",DEPRECATED_SUITE_CONTAINER_RESIZE:"DEPRECATED_SUITE_CONTAINER_RESIZE",SET_SECRET_KEY_DELETE:"SET_SECRET_KEY_DELETE",WIKI_SSR_BOX_REMOVED:"WIKI_SSR_BOX_REMOVED",WIKI_SSR_SIDEBAR_REMOVED:"WIKI_SSR_SIDEBAR_REMOVED"},TEMPLATE:{TEMPLATE_RESIZE:"TEMPLATE_RESIZE",TEMPLATE_SCROLL:"TEMPLATE_SCROLL",TEMPLATE_TOPIC_RESIZE:"TEMPLATE_TOPIC_RESIZE",TEMPLATE_TOPIC_SCROLL:"TEMPLATE_TOPIC_SCROLL",TEMPLATE_SEARCH_RESIZE:"TEMPLATE_SEARCH_RESIZE",TEMPLATE_SEARCH_SCROLL:"TEMPLATE_SEARCH_SCROLL",TEMPLATE_PREVIEW:"TEMPLATE_PREVIEW",CUSTOM_TEMPLATE_UPDATE:"CUSTOM_TEMPLATE_UPDATE",TEMPLATE_IMPORT_SEARCH_ITEM_CLICK:"TEMPLATE_IMPORT_SEARCH_ITEM_CLICK",TEMPLATE_IMPORT_SEARCH_LIST_VISIBLE_CHANGE:"TEMPLATE_IMPORT_SEARCH_LIST_VISIBLE_CHANGE",CLICK_CUSTOM_CATEGORY_ITEM:"CLICK_CUSTOM_CATEGORY_ITEM"}},MOBILE:{DOCS:{Statistics:{fetchClientVarsStart:"fetchClientVarsStart",fetchClientVarsEnd:"fetchClientVarsEnd",renderStart:"renderStart",renderEnd:"renderEnd",fetchClientVarDelete:"fetchClientVarDelete"},MESSAGE:{SET_MESSAGE_READ:"SET_MESSAGE_READ"}},SHEET:{Zoom:"zoom"},COMMON:{BEGIN_EDIT:"BEGIN_EDIT",END_EDIT:"END_EDIT",SET_MENU:"SET_MENU",KEYBOARD_CHANGED:"KEYBOARD_CHANGED"}},COMMON:{LIKE:{GLOBAL_LIKE_MESSAGE:"GLOBAL_LIKE_MESSAGE"},GLOBAL_COMMENT:{DID_MOUNT:"DID_MOUNT"}}};!function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,o.Z)(t,(function(r,o){if("string"==typeof r)t[o]="".concat(n,":").concat(r);else{var i=n?"".concat(n,":").concat(o):o;e(r,i)}}))}(T);var p=T},354198:function(e,t,n){"use strict";n.d(t,{F:function(){return r}});var r="RECORD_FETCH_STATUS"},545145:function(e,t,n){"use strict";n.d(t,{G:function(){return o},_:function(){return a}});var r,o,i=n(774561);!function(e){e.FOLDER="folder",e.DEFAULT="default",e.SHARE_FOLDERS="share-folders",e.SHARE_FILES="share-files",e.DOC="doc",e.DOCX="docx",e.SHEET="sheet",e.SPREADSHEET="spreadsheet",e.BITABLE="bitable",e.MINDNOTE="mindnote",e.IMPORT="import",e.FILE="file",e.SLIDE="slide",e.WIKI="wiki",e.WIKI_HOME="wiki_home",e.EXPLORER="home",e.PERSONAL="personal",e.SHARED="shared",e.FAVORITES="favorites",e.TRASH="trash",e.DRIVE="drive",e.CATALOG="catalog",e.DOCS="docs",e.SHEETS="sheets",e.SLIDES="slides",e.MINDNOTES="mindnotes",e.BASE="base",e.ISV="isv"}(o||(o={}));var a=(r={},(0,i.Z)(r,o.DOCS,o.DOC),(0,i.Z)(r,o.SHEETS,o.SHEET),(0,i.Z)(r,o.SLIDES,o.SLIDE),(0,i.Z)(r,o.MINDNOTES,o.MINDNOTE),(0,i.Z)(r,o.BASE,o.BITABLE),r)},357081:function(e,t,n){"use strict";n.d(t,{Hp:function(){return r.H},mb:function(){return o},y0:function(){return i},vU:function(){return a},BC:function(){return l},ui:function(){return d},Jv:function(){return E},U3:function(){return c.Z},tO:function(){return f},NW:function(){return s},vL:function(){return u},Sv:function(){return _}});var r=n(246479),o=(n(157823),n(614795)),i=n(481382),a=n(812083),c=n(234472),u=n(848957),s=n(535436),_=n(124060),E=(n(917406),n(279315)),l=n(44226),f=n(809702),d=n(830145)},439756:function(e,t,n){"use strict";n.d(t,{VD:function(){return r},t$:function(){return c},lO:function(){return s},Fr:function(){return _},qT:function(){return E}});var r,o=n(399643),i=o.default.isIPad,a=o.default.mac;!function(e){e[e.BackSpace=8]="BackSpace",e[e.Tab=9]="Tab",e[e.Clear=12]="Clear",e[e.Enter=13]="Enter",e[e.Shift=16]="Shift",e[e.Ctrl=17]="Ctrl",e[e.Alt=18]="Alt",e[e.Caps=20]="Caps",e[e.Esc=27]="Esc",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.Left=37]="Left",e[e.Up=38]="Up",e[e.Right=39]="Right",e[e.Down=40]="Down",e[e.Delete=46]="Delete",e[e.Digit0=48]="Digit0",e[e.Digit1=49]="Digit1",e[e.Digit2=50]="Digit2",e[e.Digit3=51]="Digit3",e[e.Digit4=52]="Digit4",e[e.Digit5=53]="Digit5",e[e.Digit6=54]="Digit6",e[e.Digit9=57]="Digit9",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.Meta=91]="Meta",e[e.RightMeta=92]="RightMeta",e[e.Caret=94]="Caret",e[e.Numpad0=96]="Numpad0",e[e.Numpad9=105]="Numpad9",e[e.Asterisk=106]="Asterisk",e[e.NumpadDot=110]="NumpadDot",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F11=122]="F11",e[e.Semicolon=186]="Semicolon",e[e.Equal=187]="Equal",e[e.Plus=187]="Plus",e[e.Comma=188]="Comma",e[e.Minus=189]="Minus",e[e.Dot=190]="Dot",e[e.Grave=192]="Grave",e[e.Bracket=219]="Bracket",e[e.Quot=222]="Quot",e[e.Slash=111]="Slash",e[e["/"]=191]="/",e[e.Backquote=192]="Backquote",e[e["\\"]=220]="\\",e[e.BracketRight=221]="BracketRight",e[e.Ime=229]="Ime"}(r||(r={}));var c=[r.Up,r.Down,r.Left,r.Right],u=[r.C,r.V,r.X],s=[r.BackSpace,r.Delete];function _(e){return E(e)&&-1!==u.indexOf(e.keyCode)}function E(e){return a||i?e.metaKey&&!e.altKey:e.ctrlKey&&!e.altKey}},848957:function(e,t,n){"use strict";n.r(t),n.d(t,{LIKE_MESSAGE_TYPE:function(){return r},EMPTY_LAST_LIKE_ID:function(){return o},MY_TEMP_LIKE_ID:function(){return i},DOC_RECENT_LIKE_MAX_AVATAR_NUM:function(){return a},DOC_RECENT_LIKE_SIZE:function(){return c},DOC_LIKE_PAGE_SIZE:function(){return u}});var r="LIKE",o="0",i="MY_TEMP_LIKE_ID",a=5,c=10,u=50},58364:function(e,t,n){"use strict";n.d(t,{JC:function(){return a},x5:function(){return a},zo:function(){return _},wy:function(){return E},V4:function(){return f},hc:function(){return d},O3:function(){return T},qD:function(){return p},nM:function(){return S},rq:function(){return I},AQ:function(){return O}});var r,o,i,a,c=n(774561),u=n(481382),s=n(60618);!function(e){e[e.USER=0]="USER",e[e.DOC=1]="DOC",e[e.FILE=1]="FILE",e[e.FOLDER=2]="FOLDER",e[e.SHEET=3]="SHEET",e[e.SHEET_DOC=4]="SHEET_DOC",e[e.CHAT=5]="CHAT",e[e.GROUP=6]="GROUP",e[e.BLOCK=7]="BLOCK",e[e.BITABLE=8]="BITABLE",e[e.TABLE=9]="TABLE",e[e.INLINE_BLOCK=10]="INLINE_BLOCK",e[e.MINDNOTE=11]="MINDNOTE",e[e.BOX=12]="BOX",e[e.SLIDE=15]="SLIDE",e[e.WIKI=16]="WIKI",e[e.GRID=17]="GRID",e[e.KANBAN=18]="KANBAN",e[e.JIRA_FILTER=19]="JIRA_FILTER",e[e.DOCX=22]="DOCX",e[e.CATALOG=111]="CATALOG"}(a||(a={}));var _,E,l=a;!function(e){e[e.DOC=0]="DOC",e[e.DOC_COMMENT=1]="DOC_COMMENT",e[e.SHEET=2]="SHEET",e[e.SHEET_COMMENT=3]="SHEET_COMMENT",e[e.BITABLE=4]="BITABLE",e[e.OPEN_DOC=6]="OPEN_DOC",e[e.BOX_COMMENT=9]="BOX_COMMENT",e[e.MINDNOTE=10]="MINDNOTE",e[e.MINDNOTE_COMMENT=11]="MINDNOTE_COMMENT",e[e.DOCX=22]="DOCX"}(_||(_={})),function(e){e[e.LARK=0]="LARK"}(E||(E={}));var f=[l.DOC,l.SHEET,l.BITABLE,l.MINDNOTE,l.BOX,l.SLIDE,l.WIKI,l.DOCX,l.CATALOG],d=(r={},(0,c.Z)(r,l.DOC,u.NUM_FILE_TYPE.DOC),(0,c.Z)(r,l.SHEET,u.NUM_FILE_TYPE.SHEET),(0,c.Z)(r,l.BITABLE,u.NUM_FILE_TYPE.BITABLE),(0,c.Z)(r,l.MINDNOTE,u.NUM_FILE_TYPE.MINDNOTE),(0,c.Z)(r,l.BOX,u.NUM_FILE_TYPE.FILE),(0,c.Z)(r,l.SLIDE,u.NUM_FILE_TYPE.SLIDE),(0,c.Z)(r,l.WIKI,u.NUM_FILE_TYPE.WIKI),(0,c.Z)(r,l.DOCX,u.NUM_FILE_TYPE.DOCX),(0,c.Z)(r,l.CATALOG,u.NUM_FILE_TYPE.CATALOG),r),T=(o={},(0,c.Z)(o,u.NUM_FILE_TYPE.DOC,l.DOC),(0,c.Z)(o,u.NUM_FILE_TYPE.SHEET,l.SHEET),(0,c.Z)(o,u.NUM_FILE_TYPE.BITABLE,l.BITABLE),(0,c.Z)(o,u.NUM_FILE_TYPE.MINDNOTE,l.MINDNOTE),(0,c.Z)(o,u.NUM_FILE_TYPE.FILE,l.BOX),(0,c.Z)(o,u.NUM_FILE_TYPE.SLIDE,l.SLIDE),(0,c.Z)(o,u.NUM_FILE_TYPE.WIKI,l.WIKI),(0,c.Z)(o,u.NUM_FILE_TYPE.DOCX,l.DOCX),(0,c.Z)(o,u.NUM_FILE_TYPE.CATALOG,l.CATALOG),o),p=(i={},(0,c.Z)(i,u.NUM_FILE_TYPE.DOC,_.DOC),(0,c.Z)(i,u.NUM_FILE_TYPE.SHEET,_.SHEET),(0,c.Z)(i,u.NUM_FILE_TYPE.BITABLE,_.BITABLE),(0,c.Z)(i,u.NUM_FILE_TYPE.MINDNOTE,_.MINDNOTE),(0,c.Z)(i,u.NUM_FILE_TYPE.DOCX,_.DOCX),i),S={1:s("etherpad.server_abnormal"),2:s("error.args_error"),3:s("error.object_not_found"),4:s("error.no_permission"),5:s("warn.login_required_tips"),6:s("error.request_timeout")},I=420,O=390},466289:function(e,t,n){"use strict";n.d(t,{B$:function(){return o},Ag:function(){return u},b8:function(){return s},C5:function(){return _},yy:function(){return E},d6:function(){return l},se:function(){return f},H6:function(){return d},NM:function(){return T},_T:function(){return p},R5:function(){return S},em:function(){return I},mz:function(){return O},G3:function(){return R},Fh:function(){return m},yN:function(){return A},pE:function(){return C},hd:function(){return c},UR:function(){return D},Gd:function(){return N},Qw:function(){return h},uu:function(){return v},qP:function(){return P},_n:function(){return g},WV:function(){return M},WL:function(){return b},B3:function(){return k},TK:function(){return w},Kj:function(){return H},no:function(){return L}});var r,o,i=n(774561),a=n(360851);!function(e){e.___LOADER___="___LOADER___",e.___DIVIDER___="___DIVIDER___",e.ISV_LOADER="ISV_LOADER",e.COMPLETE_DELETE="COMPLETE_DELETE",e.TO_TRASH_RESTORE="TO_TRASH_RESTORE",e.FIND_REPLACE="FIND_REPLACE",e.PIN_STICK="PIN_STICK",e.UNPIN_STICK="UNPIN_STICK",e.OPEN_NEW_TAB="OPEN_NEW_TAB",e.COPY_LINK="COPY_LINK",e.COPY="COPY",e.ADD_SHORTCUT="ADD_SHORTCUT",e.SHARE="SHARE",e.MOVE="MOVE",e.TOGGLE_SHARED_FOLDER_VISIBLE="TOGGLE_SHARED_FOLDER_VISIBLE",e.REMOVE_RECENT_RECORD="REMOVE_RECENT_RECORD",e.REMOVE_SHARED_RECORD="REMOVE_SHARED_RECORD",e.RESTORE="RESTORE",e.DELETE="DELETE",e.REMOVE="REMOVE",e.DELETE_TEMPLATE="DELETE_TEMPLATE",e.TEMPLATE_EDIT="TEMPLATE_EDIT",e.TEMPLATE_IMPORT="TEMPLATE_IMPORT",e.CREATE_BLANK_TEMPLATE="CREATE_BLANK_TEMPLATE",e.TOGGLE_TO="TOGGLE_TO",e.TOGGLE_PIN="TOGGLE_PIN",e.TOGGLE_STAR="TOGGLE_STAR",e.WIKI_TOGGLE_SUBSCRIBE="WIKI_TOGGLE_SUBSCRIBE",e.WIKI_ADD_SHORTCUT_TO="WIKI_ADD_SHORTCUT_TO",e.WIKI_TOGGLE_STAR="WIKI_TOGGLE_STAR",e.WIKI_MOVE_NODE_TO="WIKI_MOVE_NODE_TO",e.WIKI_CLONE="WIKI_CLONE",e.WIKI_DELETE="WIKI_DELETE",e.WIKI_SUITE_MOVE_TO_WIKI="WIKI_SUITE_MOVE_TO_WIKI",e.WIKI_DISLIKE_RECOMMEND_FEED_ITEM="WIKI_DISLIKE_RECOMMEND_FEED_ITEM",e.WIKI_COPY_RECOMMEND_FEED_URL="WIKI_COPY_RECOMMEND_FEED_URL",e.CLONE="CLONE",e.PRINT="PRINT",e.FIND="FIND",e.EXPORT="EXPORT",e.EXPORT_CSV="EXPORT_CSV",e.EXPORT_XLSX="EXPORT_XLSX",e.DETAIL="DETAIL",e.DETAILV2="DETAILV2",e.OPERATION="OPERATION",e.TRANSFER_OWNER="TRANSFER_OWNER",e.HISTORY_VERSION="HISTORY_VERSION",e.HISTORY_VIEW="HISTORY_VIEW",e.HISTORY="HISTORY",e.COMMENT_HISTORY="COMMENT_HISTORY",e.ABOUT_US="ABOUT_US",e.DOWNLOAD="DOWNLOAD",e.RENAME="RENAME",e.UPLOAD="UPLOAD",e.UPLOAD_FILE="UPLOAD_FILE",e.UPLOAD_FOLDER="UPLOAD_FOLDER",e.ADD_FILE="ADD_FILE",e.CREATE="CREATE",e.CREATE_SUITE="CREATE_SUITE",e.CREATE_DOC="CREATE_DOC",e.CREATE_DOCX="CREATE_DOCX",e.CREATE_SHEET="CREATE_SHEET",e.CREATE_SLIDE="CREATE_SLIDE",e.CREATE_MINDNOTE="CREATE_MINDNOTE",e.CREATE_BITABLE="CREATE_BITABLE",e.CREATE_BITABLE_SUB_MENU="CREATE_BITABLE_SUB_MENU",e.CREATE_BITABLE_TEMPLATE="CREATE_BITABLE_TEMPLATE",e.CREATE_BITABLE_GRID="CREATE_BITABLE_GRID",e.CREATE_BITABLE_KANBAN="CREATE_BITABLE_KANBAN",e.CREATE_BITABLE_GANTT="CREATE_BITABLE_GANTT",e.CREATE_BITABLE_GALLERY="CREATE_BITABLE_GALLERY",e.CREATE_BITABLE_FORM="CREATE_BITABLE_FORM",e.CREATE_FOLDER="CREATE_FOLDER",e.CREATE_SUB_FOLDER="CREATE_SUB_FOLDER",e.CREATE_UNIFIED_FOLDER="CREATE_UNIFIED_FOLDER",e.CREATE_NEW_FOLDER="CREATE_NEW_FOLDER",e.CREATE_BY_TEMPLATE="CREATE_BY_TEMPLATE",e.CREATE_ISV="CREATE_ISV",e.IMPORT="IMPORT",e.IMPORT_DOC="IMPORT_DOC",e.IMPORT_SHEET="IMPORT_SHEET",e.IMPORT_BITABLE="IMPORT_BITABLE",e.IMPORT_MINDNOTE="IMPORT_MINDNOTE",e.PUBLISH_TO_WIKI="PUBLISH_TO_WIKI",e.FOLDER_SETTING="FOLDER_SETTING",e.OPEN_IMPORT_CENTER="OPEN_IMPORT_CENTER",e.REPORT_ABUSE="REPORT_ABUSE",e.SAVE_AS_TEMPLATE="SAVE_AS_TEMPLATE",e.CONVERT_TO_TEMPLATE="CONVERT_TO_TEMPLATE",e.HIDE="HIDE",e.TRANSLATE="TRANSLATE",e.MORE="MORE",e.TRANSLATE_BACK_ORIGIN="TRANSLATE_BACK_ORIGIN",e.TRANSLATE_TO="TRANSLATE_TO",e.TRANSLATE_SETTING="TRANSLATE_SETTING",e.ONLINE_EDIT="ONLINE_EDIT",e.PUBLISH_TO_PANO="PUBLISH_TO_PANO",e.TOGGLE_SUBSCRIBE="TOGGLE_SUBSCRIBE",e.TOGGLE_SUBSCRIBE_COMMENT="TOGGLE_SUBSCRIBE_COMMENT",e.TOGGLE_VIEW_EDITORS="TOGGLE_VIEW_EDITORS",e.APPLY_EDIT_PERMISSION="APPLY_EDIT_PERMISSION",e.LEAVE_TEAM_SPACE="LEAVE_TEAM_SPACE",e.TEAM_SPACE_COVER_SETTING="TEAM_SPACE_COVER_SETTING",e.TOGGLE_BIDIRECTIONAL_LINK_LIST="TOGGLE_BIDIRECTIONAL_LINK_LIST",e.UPGRADE_BASE="UPGRADE_BASE",e.DOC_PERMISSION="DOC_PERMISSION",e.MANAGE_COLLABORATOR="MANAGE_COLLABORATOR",e.PERMISSION_SETTING="PERMISSION_SETTING",e.PERMISSION_APP_SHARE="PERMISSION_APP_SHARE",e.SWITCH_WIDTH_MODE="SWITCH_WIDTH_MODE",e.TOGGLE_PPT_MODE="TOGGLE_PPT_MODE",e.SET_SECURITY="SET_SECURITY"}(o||(o={}));var c,u=(r={},(0,i.Z)(r,o.TRANSLATE_BACK_ORIGIN,o.TRANSLATE_BACK_ORIGIN),(0,i.Z)(r,o.TRANSLATE_TO,o.TRANSLATE_TO),(0,i.Z)(r,o.TRANSLATE_SETTING,o.TRANSLATE_SETTING),r),s={TOGGLE_TO:o.TOGGLE_TO,TOGGLE_PIN:o.TOGGLE_PIN,TOGGLE_STAR:o.TOGGLE_STAR,TOGGLE_SUBSCRIBE:o.TOGGLE_SUBSCRIBE,TOGGLE_SUBSCRIBE_COMMENT:o.TOGGLE_SUBSCRIBE_COMMENT,SWITCH_WIDTH_MODE:o.SWITCH_WIDTH_MODE,TOGGLE_PPT_MODE:o.TOGGLE_PPT_MODE},_=Object.values(s),E="TOGGLE_",l=(0,i.Z)({FIND_REPLACE:o.FIND_REPLACE,TRANSLATE:o.TRANSLATE,PUBLISH_TO_WIKI:o.PUBLISH_TO_WIKI,TOGGLE_VIEW_EDITORS:o.TOGGLE_VIEW_EDITORS,SWITCH_WIDTH_MODE:o.SWITCH_WIDTH_MODE,TOGGLE_PPT_MODE:o.TOGGLE_PPT_MODE},o.TOGGLE_BIDIRECTIONAL_LINK_LIST,o.TOGGLE_BIDIRECTIONAL_LINK_LIST),f={WIKI_TOGGLE_SUBSCRIBE:o.WIKI_TOGGLE_SUBSCRIBE,WIKI_ADD_SHORTCUT_TO:o.WIKI_ADD_SHORTCUT_TO,WIKI_TOGGLE_STAR:o.WIKI_TOGGLE_STAR,WIKI_MOVE_NODE_TO:o.WIKI_MOVE_NODE_TO,WIKI_CLONE:o.WIKI_CLONE,WIKI_DELETE:o.WIKI_DELETE,WIKI_SUITE_MOVE_TO_WIKI:o.WIKI_SUITE_MOVE_TO_WIKI,WIKI_DISLIKE_RECOMMEND_FEED_ITEM:o.WIKI_DISLIKE_RECOMMEND_FEED_ITEM,WIKI_COPY_RECOMMEND_FEED_URL:o.WIKI_COPY_RECOMMEND_FEED_URL},d={PIN_STICK:o.PIN_STICK,UNPIN_STICK:o.UNPIN_STICK},T=Object.assign({OPEN_NEW_TAB:o.OPEN_NEW_TAB,COPY_LINK:o.COPY_LINK,COPY:o.COPY,ADD_SHORTCUT:o.ADD_SHORTCUT,SHARE:o.SHARE,FOLDER_SETTING:o.FOLDER_SETTING,MOVE:o.MOVE,TOGGLE_SHARED_FOLDER_VISIBLE:o.TOGGLE_SHARED_FOLDER_VISIBLE,RESTORE:o.RESTORE,DELETE:o.DELETE,REMOVE:o.REMOVE,REMOVE_RECENT_RECORD:o.REMOVE_RECENT_RECORD,REMOVE_SHARED_RECORD:o.REMOVE_SHARED_RECORD,COMPLETE_DELETE:o.COMPLETE_DELETE,TO_TRASH_RESTORE:o.TO_TRASH_RESTORE},s),p={CLONE:o.CLONE,PRINT:o.PRINT,EXPORT:o.EXPORT,EXPORT_CSV:o.EXPORT_CSV,EXPORT_XLSX:o.EXPORT_XLSX,DETAIL:o.DETAIL,DETAILV2:o.DETAILV2,OPERATION:o.OPERATION,TRANSFER_OWNER:o.TRANSFER_OWNER,HISTORY_VIEW:o.HISTORY_VIEW,HISTORY:o.HISTORY,COMMENT_HISTORY:o.COMMENT_HISTORY,ABOUT_US:o.ABOUT_US,MORE:o.MORE,PUBLISH_TO_PANO:o.PUBLISH_TO_PANO,APPLY_EDIT_PERMISSION:o.APPLY_EDIT_PERMISSION,DOC_PERMISSION:o.DOC_PERMISSION,MANAGE_COLLABORATOR:o.MANAGE_COLLABORATOR,PERMISSION_SETTING:o.PERMISSION_SETTING,PERMISSION_APP_SHARE:o.PERMISSION_APP_SHARE,SET_SECURITY:o.SET_SECURITY},S={DOWNLOAD:o.DOWNLOAD,RENAME:o.RENAME,UPLOAD:o.UPLOAD,UPLOAD_FILE:o.UPLOAD_FILE,UPLOAD_FOLDER:o.UPLOAD_FOLDER,FIND:o.FIND,ONLINE_EDIT:o.ONLINE_EDIT,HISTORY_VERSION:o.HISTORY_VERSION},I={ISV_LOADER:o.ISV_LOADER},O={ADD_FILE:o.ADD_FILE,CREATE:o.CREATE,CREATE_SUITE:o.CREATE_SUITE,CREATE_DOC:o.CREATE_DOC,CREATE_DOCX:o.CREATE_DOCX,CREATE_SHEET:o.CREATE_SHEET,CREATE_SLIDE:o.CREATE_SLIDE,CREATE_MINDNOTE:o.CREATE_MINDNOTE,CREATE_BITABLE:o.CREATE_BITABLE,CREATE_FOLDER:o.CREATE_FOLDER,CREATE_SUB_FOLDER:o.CREATE_SUB_FOLDER,CREATE_NEW_FOLDER:o.CREATE_NEW_FOLDER,CREATE_UNIFIED_FOLDER:o.CREATE_UNIFIED_FOLDER,CREATE_BY_TEMPLATE:o.CREATE_BY_TEMPLATE,CREATE_ISV:o.CREATE_ISV,IMPORT:o.IMPORT,IMPORT_DOC:o.IMPORT_DOC,IMPORT_SHEET:o.IMPORT_SHEET,IMPORT_BITABLE:o.IMPORT_BITABLE,IMPORT_MINDNOTE:o.IMPORT_MINDNOTE,OPEN_IMPORT_CENTER:o.OPEN_IMPORT_CENTER,SAVE_AS_TEMPLATE:o.SAVE_AS_TEMPLATE,CONVERT_TO_TEMPLATE:o.CONVERT_TO_TEMPLATE,TEAM_SPACE_COVER_SETTING:o.TEAM_SPACE_COVER_SETTING,LEAVE_TEAM_SPACE:o.LEAVE_TEAM_SPACE},R={REPORT_ABUSE:o.REPORT_ABUSE},m={COPY:o.COPY,SHARE:o.SHARE,DELETE_TEMPLATE:o.DELETE_TEMPLATE,HIDE:o.HIDE,TEMPLATE_EDIT:o.TEMPLATE_EDIT,TEMPLATE_IMPORT:o.TEMPLATE_IMPORT,CREATE_BLANK_TEMPLATE:o.CREATE_BLANK_TEMPLATE},A={UPGRADE_BASE:o.UPGRADE_BASE,CREATE_BITABLE_SUB_MENU:o.CREATE_BITABLE_SUB_MENU,CREATE_BITABLE_TEMPLATE:o.CREATE_BITABLE_TEMPLATE,CREATE_BITABLE_GRID:o.CREATE_BITABLE_GRID,CREATE_BITABLE_KANBAN:o.CREATE_BITABLE_KANBAN,CREATE_BITABLE_GANTT:o.CREATE_BITABLE_GANTT,CREATE_BITABLE_GALLERY:o.CREATE_BITABLE_GALLERY,CREATE_BITABLE_FORM:o.CREATE_BITABLE_FORM},C=Object.assign({___LOADER___:o.___LOADER___,___DIVIDER___:o.___DIVIDER___},l,{},f,{},d,{},T,{},p,{},S,{},O,{},R,{},m,{},u,{},I,{},A);!function(e){e.EXPLORER_GLOBAL_CONTEXT="EXPLORER_GLOBAL_CONTEXT",e.EXPLORER_FILE_DROPDOWN="EXPLORER_FILE_DROPDOWN",e.EXPLORER_FILE_CONTEXT="EXPLORER_FILE_CONTEXT",e.EXPLORER_CREATE_DROPDOWN="EXPLORER_CREATE_DROPDOWN",e.NAVIGATION_BAR_DROPDOWN="NAVIGATION_BAR_DROPDOWN",e.MULTI_SELECT_OPERATION_PANEL="MULTI_SELECT_OPERATION_PANEL",e.EXPLORER_TEMPLATE_CONTEXT="EXPLORER_TEMPLATE_CONTEXT",e.WIKI_NODE_MENU="WIKI_NODE_MENU"}(c||(c={}));var h,v,D="item",N="divider";!function(e){e.FILELIST_ITEM_STAR="FILELIST_ITEM_STAR",e.SUITE_HEADER_TITLE_STAR="SUITE_HEADER_TITLE_STAR",e.SUITE_HEADER_MENU="SUITE_HEADER_MENU",e.WIKI_NODE_STAR="WIKI_NODE_STAR"}(h||(h={})),function(e){e.Common="Common",e.MyObjectList="MyObjectList",e.RecentList="RecentList",e.Trash="Trash",e.StarList="StarList",e.SharedFolders="SharedFolders",e.SharedWithMe="SharedWithMe",e.StorageCenter="StorageCenter"}(v||(v={}));var L,y=(0,a.Bs)()?[]:[o.CREATE_SLIDE],P=[o.CREATE_DOC,o.CREATE_DOCX,o.CREATE_SHEET].concat(y,[o.CREATE_MINDNOTE,o.CREATE_BITABLE,o.CREATE_SUB_FOLDER,o.CREATE_BY_TEMPLATE,o.OPEN_IMPORT_CENTER,o.CREATE_ISV]),g=[o.CREATE_DOC,o.CREATE_DOCX,o.CREATE_SHEET].concat(y,[o.CREATE_MINDNOTE,o.CREATE_BITABLE,o.CREATE_BY_TEMPLATE,o.OPEN_IMPORT_CENTER,o.CREATE_ISV,o.ISV_LOADER]),M=[o.CREATE_SUB_FOLDER,o.CREATE_FOLDER,o.CREATE_UNIFIED_FOLDER,o.CREATE_NEW_FOLDER],b=[o.UPLOAD_FILE,o.UPLOAD_FOLDER,o.ADD_FILE],k=[o.ISV_LOADER],w=[o.CREATE_SLIDE,o.CREATE_MINDNOTE,o.CREATE_BITABLE],H=[C.TOGGLE_SUBSCRIBE,C.TOGGLE_SUBSCRIBE_COMMENT,C.TOGGLE_BIDIRECTIONAL_LINK_LIST,C.TOGGLE_VIEW_EDITORS,C.SWITCH_WIDTH_MODE,C.CONVERT_TO_TEMPLATE];!function(e){e[e.FolderTree=0]="FolderTree",e[e.List=1]="List",e[e.Grid=2]="Grid",e[e.Pin=3]="Pin",e[e.FolderList=4]="FolderList"}(L||(L={}))},672327:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});var r={GET_MODULE_LIST_START:"GetModuleListStart",GET_MODULE_LIST_END:"GetModuleListEnd"}},124060:function(e,t,n){"use strict";n.r(t),n.d(t,{DOC_RENDER:function(){return r},DOC_WHITE_SCREEN:function(){return o},SHEET_DID_RENDER:function(){return i},HTML_LOADED:function(){return a},SUITE_READY:function(){return c},SUITE_FIRST_READY:function(){return u},EXPLORER_READY:function(){return s},EXPLORER_FIRST_READY:function(){return _}});var r="client_performance_doc_render",o="client_performance_doc_white_screen",i="client_performance_sheet_did_render",a="perf_html_loaded",c="perf_suite_ready",u="perf_suite_first_ready",s="perf_explorer_ready",_="perf_explorer_first_ready"},917406:function(e,t,n){"use strict";var r,o,i,a;n.d(t,{O9:function(){return r},Op:function(){return o},pL:function(){return i}}),function(e){e[e.View=0]="View",e[e.Edit=1]="Edit",e[e.FullAccess=2]="FullAccess"}(r||(r={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.CONTAINER=1]="CONTAINER",e[e.SINGLE=2]="SINGLE"}(o||(o={})),function(e){e[e.NO_CONSTRANIT=0]="NO_CONSTRANIT",e[e.CONSTRANIT_BY_CONTAINER=1]="CONSTRANIT_BY_CONTAINER",e[e.CONSTRANIT_BY_PARENT=2]="CONSTRANIT_BY_PARENT",e[e.CONSTRAINT_BY_SELF=3]="CONSTRAINT_BY_SELF",e[e.CONSTRAINT_BY_ADMIN=4]="CONSTRAINT_BY_ADMIN"}(i||(i={})),function(e){e[e.View=0]="View",e[e.Edit=1]="Edit",e[e.FullAccess=2]="FullAccess"}(a||(a={}))},279315:function(e,t,n){"use strict";n.r(t),n.d(t,{IOS:function(){return a},ANDROID:function(){return c},PC:function(){return u},MAC:function(){return s},WINDOWS:function(){return _},IPAD:function(){return E},SUB_PLATFORM:function(){return r},OS:function(){return o},PLATFORM:function(){return i}});var r,o,i,a="ios",c="android",u="pc",s="mac",_="windows",E="ipad";!function(e){e.MOBILE_WEB="mobile_web",e.PC_WEB="pc_web",e.WECHAT="weixin_web",e.QQ="qq_web",e.WEIBO="weibo_web",e.TOUTIAO="toutiao_web",e.OTHERS="others"}(r||(r={})),function(e){e.MAC="mac",e.WINDOWS="windows",e.IPAD="iPad",e.OTHERS="others"}(o||(o={})),function(e){e.LARKDOCS="LarkDocs",e.LARK="Lark",e.WEB="web",e.OTHERS="others",e.VC_FOLLOW="vc_follow"}(i||(i={}))},796960:function(e,t,n){"use strict";var r;n.d(t,{B:function(){return r}}),function(e){e.FROM_IMPORT="fromImport",e.SHARE_OPEN="shareOpen",e.FROM_FOLDER_URL="fromFolderUrl",e.SUITE_SETTING_OPEN="suiteSettingOpen",e.PERMISSION="permission",e.MEMBER_NAME="memberName",e.MEMBER_ID="memberId",e.MEMBER_TYPE="memberType",e.OPEN_TEMPLATE_CENTER="openTemplateCenter",e.TEMPLATE_CATEGORY="categoryId",e.TEMPLATE_OBJ_TYPE="objType",e.TEMPLATE_TOPIC_ID="topicId",e.TEMPLATE_FROM_SOURCE="from",e.TEMPLATE_TARGET_TOKEN="targetToken",e.TEMPLATE_EDIT="tmpeid",e.TEMPLATE_EDIT_SOURCE="tmpesource",e.TEMPLATE_SOURCE="templateSource",e.ENTER_SOURCE="enterSource",e.OPEN_TEMPLATE_PREVIEW="openTemplatePreview",e.TEMPLATE_ID_LIST="templateIdList",e.ARTICLE_ID="article_id",e.ENTITY_ID="entity_id",e.CCM_OPEN_TYPE="ccm_open_type",e.FROM_SHARE_WITH_ME_NEW="fromShareWithMeNew"}(r||(r={}))},44226:function(e,t,n){"use strict";n.r(t),n.d(t,{PATH:function(){return s},REDIRECT_FROM_PATH:function(){return _},DEPRECATED_WIKI_PATH:function(){return E},URL:function(){return l},REDIRECT_FROM_URL:function(){return f},TEMPLATE_ROUTE:function(){return d},RouteType:function(){return i},routeModule:function(){return T},routeList:function(){return p},mapRouteURL2LogRouteName:function(){return S},returnModuleNameLookupTable:function(){return I}});var r,o,i,a=n(774561),c=n(77112),u=n(481382),s={HOME:(0,c.ux)("/home/"),QUICKACCESS:(0,c.ux)("/quickaccess/"),STORAGE:(0,c.ux)("/storage/"),HOME_RECENTS:(0,c.ux)("/home/recents/"),HOME_STAR:(0,c.ux)("/home/star/"),HOME_SHARE_FILES:(0,c.ux)("/home/share/files/"),DOC:(0,c.ux)("/doc/:token?"),DOCX:(0,c.ux)("/docx/:token?"),SHEET:(0,c.ux)("/sheet/:token?"),SLIDE:(0,c.ux)("/slide/:token?"),BITABLE:(0,c.ux)("/bitable/:token?"),MINDNOTE:(0,c.ux)("/mindnote/:token?"),TEMPLATE:(0,c.ux)("/objtmpl/"),EXPLORER:(0,c.ux)("/folder/"),ME:(0,c.ux)("/me/"),FOLDER:(0,c.ux)("/folder/:token?"),TRASH:(0,c.ux)("/trash/"),SHARE:(0,c.ux)("/share/"),SHARE_FILES:(0,c.ux)("/share/files/"),SHARE_FOLDERS:(0,c.ux)("/shared/"),PREVIOUS_SHARE_FOLDERS:(0,c.ux)("/sharedfolder/"),RECENTS:(0,c.ux)("/recents/"),ISV:(0,c.ux)("/isv/:token"),DEFAULT:(0,c.ux)("/default/"),IMPORT:(0,c.ux)("/import/:token?"),BLANK:(0,c.ux)("/blank/"),FILE:(0,c.ux)("/file/:token?"),FAVORITES:(0,c.ux)("/favorites/"),TEAM_SPACE:(0,c.ux)("/team-space/"),CREATE:(0,c.ux)("/create/"),WIKI_HOME:(0,c.ux)("/wiki/"),WIKI_SPACES:(0,c.ux)("/wiki/spaces/"),WIKI_INDEX:(0,c.ux)("/wiki/:token"),WIKI_ABANDON_PATH4:(0,c.ux)("/wiki/setting/:spaceId"),WIKI_SPACE_SETTING:(0,c.ux)("/wiki/settings/:spaceId"),WIKI_TRASH:(0,c.ux)("/wiki/trash/:spaceId"),WIKI_SPACE_OVERVIEW:(0,c.ux)("/wiki/space/:spaceId"),WIKI_HOME_V2:(0,c.ux)("/wiki-v2/"),ACCOUNT_PROFILE:(0,c.ux)("/account/profile/"),ACCOUNT_NOTIFICATIONS:(0,c.ux)("/account/notifications/"),ACCOUNT_PREFERENCES:(0,c.ux)("/account/preferences/"),DISCOVER_PAGE:(0,c.ux)("/discover/"),TOPICS:(0,c.ux)("/topics/")},_={DEPRECATED_HOME:"/home/",HOME:(0,c.Pr)("/home/"),QUICKACCESS:(0,c.Pr)("/quickaccess/"),STORAGE:(0,c.Pr)("/storage/"),HOME_RECENTS:(0,c.Pr)("/home/recents/"),HOME_STAR:(0,c.Pr)("/home/star/"),HOME_SHARE_FILES:(0,c.Pr)("/home/share/files/"),DOC:(0,c.Pr)("/doc/:token?"),DEPRECATED_DOC:"/doc/:token",DOCX:(0,c.Pr)("/docx/:token?"),SHEET:(0,c.Pr)("/sheet/:token?"),DEPRECATED_SHEET:"/sheet/:token",SLIDE:(0,c.Pr)("/slide/:token?"),DEPRECATED_SLIDE:"/slide/:token",BITABLE:(0,c.Pr)("/bitable/:token?"),DEPRECATED_BITABLE:"/bitable/:token",MINDNOTE:(0,c.Pr)("/mindnote/:token?"),DEPRECATED_MINDNOTE:"/mindnote/:token",TEMPLATE:(0,c.Pr)("/objtmpl/"),DEPRECATED_FOLDER:"/folder/",EXPLORER:(0,c.Pr)("/folder/"),ME:(0,c.Pr)("/me/"),FOLDER:(0,c.Pr)("/folder/:token?"),TRASH:(0,c.Pr)("/trash/"),SHARE:(0,c.Pr)("/share/"),SHARE_FILES:(0,c.Pr)("/share/files/"),SHARE_FOLDERS:(0,c.Pr)("/shared/"),PREVIOUS_SHARE_FOLDERS:(0,c.Pr)("/sharedfolder/"),RECENTS:(0,c.Pr)("/recents/"),ISV:(0,c.Pr)("/isv/:token"),DEFAULT:(0,c.Pr)("/default/"),IMPORT:(0,c.Pr)("/import/:token?"),BLANK:(0,c.Pr)("/blank/"),FILE:(0,c.Pr)("/file/:token?"),FAVORITES:(0,c.Pr)("/favorites/"),TEAM_SPACE:(0,c.Pr)("/team-space/"),WIKI_HOME:(0,c.Pr)("/wiki/"),CREATE:(0,c.Pr)("/create/"),WIKI_SPACES:(0,c.Pr)("/wiki/spaces/"),WIKI_INDEX:(0,c.Pr)("/wiki/:token"),WIKI_ABANDON_PATH4:(0,c.Pr)("/wiki/setting/:spaceId"),WIKI_SPACE_SETTING:(0,c.Pr)("/wiki/settings/:spaceId"),WIKI_TRASH:(0,c.Pr)("/wiki/trash/:spaceId"),WIKI_SPACE_OVERVIEW:(0,c.Pr)("/wiki/space/:spaceId"),WIKI_HOME_V2:(0,c.Pr)("/wiki-v2/"),ACCOUNT_PROFILE:(0,c.Pr)("/account/profile/"),ACCOUNT_NOTIFICATIONS:(0,c.Pr)("/account/notifications/"),ACCOUNT_PREFERENCES:(0,c.Pr)("/account/preferences/"),DISCOVER_PAGE:(0,c.Pr)("/discover/"),TOPICS:(0,c.Pr)("/topics/")},E=["/wiki/home/",(0,c.Pr)("/wiki/home/"),"/wiki_home/",(0,c.Pr)("/wiki_home/"),"/wiki_home/directory/",(0,c.Pr)("/wiki_home/directory/"),"/wiki_home/work/",(0,c.Pr)("/wiki_home/work/")],l={HOME:(0,c.ux)("/home/"),QUICKACCESS:(0,c.ux)("/quickaccess/"),STORAGE:(0,c.ux)("/storage/"),HOME_RECENTS:(0,c.ux)("/home/recents/"),HOME_STAR:(0,c.ux)("/home/star/"),HOME_SHARE_FILES:(0,c.ux)("/home/share/files/"),ME:(0,c.ux)("/me/"),DOC:(0,c.ux)("/doc/"),DOCX:(0,c.ux)("/docx/"),SHEET:(0,c.ux)("/sheet/"),SLIDE:(0,c.ux)("/slide/"),BITABLE:(0,c.ux)("/bitable/"),MINDNOTE:(0,c.ux)("/mindnote/"),TEMPLATE:(0,c.ux)("/objtmpl/"),FOLDER:(0,c.ux)("/folder/"),TRASH:(0,c.ux)("/trash/"),SHARE:(0,c.ux)("/share/"),SHARE_FILES:(0,c.ux)("/share/files/"),SHARE_FOLDERS:(0,c.ux)("/shared/"),PREVIOUS_SHARE_FOLDERS:(0,c.ux)("/sharedfolder/"),RECENTS:(0,c.ux)("/recents/"),ISV:(0,c.ux)("/isv/"),DEFAULT:(0,c.ux)("/default/"),IMPORT:(0,c.ux)("/import/"),BLANK:(0,c.ux)("/blank/"),FILE:(0,c.ux)("/file/"),FAVORITES:(0,c.ux)("/favorites/"),TEAM_SPACE:(0,c.ux)("/team-space/"),CREATE:(0,c.ux)("/create/"),WIKI_HOME:(0,c.ux)("/wiki/"),WIKI_SPACES:(0,c.ux)("/wiki/spaces/"),WIKI_INDEX:(0,c.ux)("/wiki/"),WIKI_ABANDON_PATH4:(0,c.ux)("/wiki/setting/"),WIKI_SPACE_SETTING:(0,c.ux)("/wiki/settings/"),WIKI_TRASH:(0,c.ux)("/wiki/trash/"),WIKI_SPACE_OVERVIEW:(0,c.ux)("/wiki/space/"),WIKI_HOME_V2:(0,c.ux)("/wiki-v2/"),ACCOUNT_PROFILE:(0,c.ux)("/account/profile/"),ACCOUNT_NOTIFICATIONS:(0,c.ux)("/account/notifications/"),ACCOUNT_PREFERENCES:(0,c.ux)("/account/preferences/"),DISCOVER_PAGE:(0,c.ux)("/discover/"),TOPICS:(0,c.ux)("/topics/")},f={HOME:(0,c.Pr)("/home/"),QUICKACCESS:(0,c.Pr)("/quickaccess/"),STORAGE:(0,c.Pr)("/storage/"),HOME_RECENTS:(0,c.Pr)("/home/recents/"),HOME_STAR:(0,c.Pr)("/home/star/"),HOME_SHARE_FILES:(0,c.Pr)("/home/share/files/"),ME:(0,c.Pr)("/me/"),DOC:(0,c.Pr)("/doc/"),DOCX:(0,c.Pr)("/docx/"),SHEET:(0,c.Pr)("/sheet/"),SLIDE:(0,c.Pr)("/slide/"),BITABLE:(0,c.Pr)("/bitable/"),MINDNOTE:(0,c.Pr)("/mindnote/"),TEMPLATE:(0,c.Pr)("/objtmpl/"),FOLDER:(0,c.Pr)("/folder/"),TRASH:(0,c.Pr)("/trash/"),SHARE:(0,c.Pr)("/share/"),SHARE_FILES:(0,c.Pr)("/share/files/"),SHARE_FOLDERS:(0,c.Pr)("/shared/"),PREVIOUS_SHARE_FOLDERS:(0,c.Pr)("/sharedfolder/"),RECENTS:(0,c.Pr)("/recents/"),ISV:(0,c.Pr)("/isv/"),DEFAULT:(0,c.Pr)("/default/"),IMPORT:(0,c.Pr)("/import/"),BLANK:(0,c.Pr)("/blank/"),FILE:(0,c.Pr)("/file/"),FAVORITES:(0,c.Pr)("/favorites/"),TEAM_SPACE:(0,c.Pr)("/team-space/"),CREATE:(0,c.Pr)("/create/"),WIKI_HOME:(0,c.Pr)("/wiki/"),WIKI_SPACES:(0,c.Pr)("/wiki/spaces/"),WIKI_INDEX:(0,c.Pr)("/wiki/"),WIKI_ABANDON_PATH4:(0,c.Pr)("/wiki/setting/"),WIKI_SPACE_SETTING:(0,c.Pr)("/wiki/settings/"),WIKI_TRASH:(0,c.Pr)("/wiki/trash/"),WIKI_SPACE_OVERVIEW:(0,c.Pr)("/wiki/space/"),WIKI_HOME_V2:(0,c.Pr)("/wiki-v2/"),ACCOUNT_PROFILE:(0,c.Pr)("/account/profile/"),ACCOUNT_NOTIFICATIONS:(0,c.Pr)("/account/notifications/"),ACCOUNT_PREFERENCES:(0,c.Pr)("/account/preferences/"),DISCOVER_PAGE:(0,c.Pr)("/discover/"),TOPICS:(0,c.Pr)("/topics/")},d={KEY_INVALID:"/key/invalid"};!function(e){e.FILELIST="file_list",e.SUITE="suite",e.WIKI_HOME="wiki_home",e.WIKI_SPACES="wiki_spaces",e.ACCOUNT="account",e.TOPICS="topics"}(i||(i={}));var T={DRIVE:"drive",PERSONAL:"personal",HOME:"home",STORAGE:"storage",FOLDER:"folder",PERSONAL_FOLDER:"personal_folder",SHARED_FOLDER:"shared_folder",SHARED:"shared",FAVORITES:"favorites",TEAM:"team",TRASH:"trash",ISV:"isv",URL_CREATE:"url_create",WIKI:"wiki",WIKI_HOME:"wiki_home",WORK_SPACE_HOME:"workspace_home",WORK_SPACE_WIKI:"workspace",WIKI_SPACES:"wiki_spaces",DISCOVER_PAGE:"discover",DOC:"doc",DOCX:"docx",SHEET:"sheet",SLIDE:"slide",BITABLE:"bitable",MINDNOTE:"mindnote",RECENT:"recent",DEFAULT:"default",BLANK:"blank",ACCOUNT:"account",TEMPLATE:"template",TOPICS:"topics"},p=[{routeName:"explorer",url:l.FOLDER,redirectFromUrl:f.FOLDER,query:!1,rootType:u.NUM_ROOT_META.EXPLORER,isSuite:!1,path:s.EXPLORER,module:T.PERSONAL,type:i.FILELIST},{url:l.ME,redirectFromUrl:f.ME,query:!1,rootType:u.NUM_ROOT_META.ME,isSuite:!1,path:s.ME,module:T.PERSONAL,type:i.FILELIST},{url:l.HOME,redirectFromUrl:f.HOME,query:!1,rootType:u.NUM_ROOT_META.HOME,isSuite:!1,path:s.HOME,module:T.HOME,type:i.FILELIST},{url:l.QUICKACCESS,redirectFromUrl:f.QUICKACCESS,query:!1,rootType:u.NUM_ROOT_META.HOME,isSuite:!1,path:s.QUICKACCESS,module:T.HOME,subModule:"quickaccess",type:i.FILELIST},{url:l.STORAGE,redirectFromUrl:f.STORAGE,query:!1,rootType:u.NUM_ROOT_META.STORAGE,isSuite:!1,path:s.STORAGE,module:T.STORAGE,type:i.FILELIST},{url:l.HOME_RECENTS,redirectFromUrl:f.HOME_RECENTS,query:!1,rootType:u.NUM_ROOT_META.HOME,isSuite:!1,path:s.HOME,module:T.HOME,subModule:"recent",type:i.FILELIST},{url:l.HOME_SHARE_FILES,redirectFromUrl:f.HOME_SHARE_FILES,query:!1,rootType:u.NUM_ROOT_META.HOME,isSuite:!1,path:s.HOME,module:T.HOME,subModule:"file",type:i.FILELIST},{url:l.HOME_STAR,redirectFromUrl:f.HOME_STAR,query:!1,rootType:u.NUM_ROOT_META.HOME,isSuite:!1,path:s.HOME,module:T.HOME,subModule:"star",type:i.FILELIST},{url:l.FOLDER,redirectFromUrl:f.FOLDER,query:!0,isSuite:!1,path:s.FOLDER,module:T.FOLDER,type:i.FILELIST},{url:l.SHARE,redirectFromUrl:f.SHARE,query:!1,rootType:u.NUM_ROOT_META.SHARE,isSuite:!1,path:s.SHARE,module:T.SHARED,type:i.FILELIST},{url:l.SHARE_FILES,redirectFromUrl:f.SHARE_FILES,query:!1,rootType:u.NUM_ROOT_META.SHARE_FILES,isSuite:!1,path:s.SHARE,module:T.SHARED,subModule:"file",type:i.FILELIST},{url:l.SHARE_FOLDERS,redirectFromUrl:f.SHARE_FOLDERS,query:!1,rootType:u.NUM_ROOT_META.SHARE_FOLDERS,isSuite:!1,path:s.SHARE_FOLDERS,module:T.SHARED,subModule:"sharetome",type:i.FILELIST},{routeName:"previousShareFolders",url:l.PREVIOUS_SHARE_FOLDERS,redirectFromUrl:f.PREVIOUS_SHARE_FOLDERS,query:!1,isSuite:!1,path:s.PREVIOUS_SHARE_FOLDERS,module:T.SHARED,type:i.FILELIST},{routeName:"discoverPage",url:l.DISCOVER_PAGE,redirectFromUrl:f.DISCOVER_PAGE,query:!1,isSuite:!1,path:s.DISCOVER_PAGE,module:T.DISCOVER_PAGE,type:i.FILELIST},{url:l.TRASH,redirectFromUrl:f.TRASH,query:!1,rootType:u.NUM_ROOT_META.TRASH,isSuite:!1,path:s.TRASH,module:T.TRASH,type:i.FILELIST},{url:l.DOC,redirectFromUrl:f.DOC,query:!0,suiteType:u.NUM_FILE_TYPE.DOC,isSuite:!0,path:s.DOC,module:T.DOC,type:i.SUITE},{url:l.DOCX,redirectFromUrl:f.DOCX,query:!0,suiteType:u.NUM_FILE_TYPE.DOCX,isSuite:!0,path:s.DOCX,module:T.DOCX,type:i.SUITE},{url:l.SHEET,redirectFromUrl:f.SHEET,query:!0,suiteType:u.NUM_FILE_TYPE.SHEET,isSuite:!0,path:s.SHEET,module:T.SHEET,type:i.SUITE},{url:l.SLIDE,redirectFromUrl:f.SLIDE,query:!0,suiteType:u.NUM_FILE_TYPE.SLIDE,isSuite:!0,path:s.SLIDE,module:T.SLIDE,type:i.SUITE},{url:l.BITABLE,redirectFromUrl:f.BITABLE,query:!0,suiteType:u.NUM_FILE_TYPE.BITABLE,isSuite:!0,path:s.BITABLE,module:T.BITABLE,type:i.SUITE},{url:l.MINDNOTE,redirectFromUrl:f.MINDNOTE,query:!0,suiteType:u.NUM_FILE_TYPE.MINDNOTE,isSuite:!0,path:s.MINDNOTE,module:T.MINDNOTE,type:i.SUITE},{url:l.FILE,redirectFromUrl:f.FILE,query:!0,suiteType:u.NUM_FILE_TYPE.FILE,isSuite:!0,path:s.FILE,module:T.DRIVE,type:i.SUITE},{url:l.CREATE,redirectFromUrl:f.CREATE,query:!1,isSuite:!1,path:s.CREATE,module:T.URL_CREATE,type:i.SUITE},{url:l.TEMPLATE,redirectFromUrl:f.TEMPLATE,query:!1,isSuite:!1,path:s.TEMPLATE,module:T.TEMPLATE},{url:l.RECENTS,redirectFromUrl:f.RECENTS,query:!1,isSuite:!1,path:s.RECENTS,module:T.RECENT,type:i.FILELIST},{url:l.ISV,redirectFromUrl:f.ISV,query:!0,isSuite:!1,path:s.ISV,module:T.ISV},{url:l.DEFAULT,redirectFromUrl:f.DEFAULT,query:!1,isSuite:!1,path:s.DEFAULT,module:T.DEFAULT},{url:l.IMPORT,redirectFromUrl:f.IMPORT,query:!0,isSuite:!1,path:s.IMPORT,module:"import"},{url:l.BLANK,redirectFromUrl:f.BLANK,query:!1,isSuite:!1,path:s.BLANK,module:T.BLANK},{routeName:"wikiHome",url:l.WIKI_HOME,redirectFromUrl:f.WIKI_HOME,query:!1,isSuite:!1,path:s.WIKI_HOME,module:T.WIKI_HOME,type:i.WIKI_HOME},{routeName:"wikiIndex",url:l.WIKI_INDEX,redirectFromUrl:f.WIKI_INDEX,query:!0,suiteType:u.NUM_FILE_TYPE.WIKI,isSuite:!0,path:s.WIKI_INDEX,module:T.WIKI,type:i.SUITE},{routeName:"wikiSpaces",url:l.WIKI_SPACES,redirectFromUrl:f.WIKI_SPACES,query:!1,isSuite:!1,path:s.WIKI_SPACES,module:T.WIKI_SPACES,type:i.WIKI_SPACES},{routeName:"wikiAbandonPath4",url:l.WIKI_ABANDON_PATH4,redirectFromUrl:f.WIKI_ABANDON_PATH4,query:!0,isSuite:!1,path:s.WIKI_ABANDON_PATH4,module:T.WIKI,type:i.WIKI_HOME},{routeName:"wikiSpaceSetting",url:l.WIKI_SPACE_SETTING,redirectFromUrl:f.WIKI_SPACE_SETTING,query:!0,suiteType:u.NUM_FILE_TYPE.WIKI,isSuite:!1,path:s.WIKI_SPACE_SETTING,module:T.WIKI,type:i.SUITE},{routeName:"wikiTrash",url:l.WIKI_TRASH,redirectFromUrl:f.WIKI_TRASH,query:!0,suiteType:u.NUM_FILE_TYPE.WIKI,isSuite:!1,path:s.WIKI_TRASH,module:"wiki",type:i.SUITE},{routeName:"wikiSpaceOverview",url:l.WIKI_SPACE_OVERVIEW,redirectFromUrl:f.WIKI_SPACE_OVERVIEW,query:!0,suiteType:u.NUM_FILE_TYPE.WIKI,isSuite:!1,path:s.WIKI_SPACE_OVERVIEW,module:"wiki",type:i.SUITE},{routeName:"wikiHomeV2",url:l.WIKI_HOME_V2,redirectFromUrl:f.WIKI_HOME_V2,query:!1,isSuite:!1,path:s.WIKI_HOME_V2,module:T.WORK_SPACE_HOME,type:i.WIKI_HOME},{url:l.FAVORITES,redirectFromUrl:f.FAVORITES,query:!1,isSuite:!1,path:s.FAVORITES,module:T.FAVORITES,type:i.FILELIST},{url:l.TEAM_SPACE,redirectFromUrl:f.TEAM_SPACE,query:!1,isSuite:!1,path:s.TEAM_SPACE,module:T.TEAM,type:i.FILELIST},{url:l.ACCOUNT_PROFILE,redirectFromUrl:f.ACCOUNT_PROFILE,query:!1,isSuite:!1,path:s.ACCOUNT_PROFILE,module:T.ACCOUNT,type:i.ACCOUNT},{url:l.ACCOUNT_PREFERENCES,redirectFromUrl:f.ACCOUNT_PREFERENCES,query:!1,isSuite:!1,path:s.ACCOUNT_PREFERENCES,module:T.ACCOUNT,type:i.ACCOUNT},{url:l.ACCOUNT_NOTIFICATIONS,redirectFromUrl:f.ACCOUNT_NOTIFICATIONS,query:!1,isSuite:!1,path:s.ACCOUNT_NOTIFICATIONS,module:T.ACCOUNT,type:i.ACCOUNT},{url:l.TOPICS,redirectFromUrl:f.TOPICS,query:!1,rootType:u.NUM_ROOT_META.TOPICS,isSuite:!1,path:s.TOPICS,module:T.TOPICS,type:i.TOPICS}],S=(r={},(0,a.Z)(r,l.HOME,"home"),(0,a.Z)(r,l.ME,"personal"),(0,a.Z)(r,l.SHARE_FOLDERS,"shared"),(0,a.Z)(r,l.WIKI_HOME,"wiki"),(0,a.Z)(r,l.WIKI_HOME_V2,"workspace_home"),(0,a.Z)(r,l.FAVORITES,"favorites"),(0,a.Z)(r,l.TRASH,"trash"),(0,a.Z)(r,l.WIKI_SPACES,"wiki_spaces"),(0,a.Z)(r,l.DISCOVER_PAGE,"discover"),(0,a.Z)(r,l.TOPICS,"topics"),r),I=(o={},(0,a.Z)(o,l.HOME,"home"),(0,a.Z)(o,l.ME,"personal"),(0,a.Z)(o,l.SHARE_FOLDERS,"shared"),(0,a.Z)(o,l.FAVORITES,"farovite"),(0,a.Z)(o,l.WIKI_HOME,"wiki"),(0,a.Z)(o,l.WIKI_HOME_V2,"workspace_home"),(0,a.Z)(o,l.TOPICS,"topics"),o)},109373:function(e,t,n){"use strict";n.r(t),n.d(t,{OBJ_TYPE:function(){return r},RECENT_TYPE:function(){return o},SORT_RULE:function(){return i},RECENT_MODE_SORT_RULES:function(){return s},SearchListItemType:function(){return u},OBJ_ALL_RECENT_MODE:function(){return T},OBJ_ALL:function(){return p},LIST_TYPE:function(){return _},OPEN_TIME:function(){return E},FILE_TYPE_NUM:function(){return l},CANDIDATES_TYPE_NUM:function(){return f},DEPARTMENT_TYPE_NUM:function(){return d},mapNumToFileType:function(){return I},ADVANCED_SEARCH_LOAD_TYPE:function(){return S},getGroup:function(){return A},openTimeChoices:function(){return N},ALL_WIKI_SPACE_ID:function(){return L},searchInWikiSpaces:function(){return y},RankType:function(){return O},FILTER:function(){return R},SEARCH_SOURCE:function(){return m}});var r,o,i,a=n(481382),c=n(60618);!function(e){e[e.ALL=10]="ALL",e[e.FOLDER=a.NUM_FILE_TYPE.FOLDER]="FOLDER",e[e.DOC=a.NUM_FILE_TYPE.DOC]="DOC",e[e.DOCX=a.NUM_FILE_TYPE.DOCX]="DOCX",e[e.SHEET=a.NUM_FILE_TYPE.SHEET]="SHEET",e[e.BITABLE=a.NUM_FILE_TYPE.BITABLE]="BITABLE",e[e.MINDNOTE=a.NUM_FILE_TYPE.MINDNOTE]="MINDNOTE",e[e.FILE=a.NUM_FILE_TYPE.FILE]="FILE",e[e.SLIDE=a.NUM_FILE_TYPE.SLIDE]="SLIDE",e[e.WIKI=a.NUM_FILE_TYPE.WIKI]="WIKI",e[e.WIKI_FOLDER=a.NUM_FILE_TYPE.CATALOG]="WIKI_FOLDER"}(r||(r={})),function(e){e[e.OPENED=0]="OPENED",e[e.MODIFIED=1]="MODIFIED"}(o||(o={})),function(e){e[e.RECENT_OPENED=1]="RECENT_OPENED",e[e.RECENT_MODIFIED=2]="RECENT_MODIFIED",e[e.RECENT_RELEVANT_OPENED=3]="RECENT_RELEVANT_OPENED",e[e.RECENT_RELEVANT_MODIFIED=4]="RECENT_RELEVANT_MODIFIED"}(i||(i={}));var u,s=[i.RECENT_OPENED,i.RECENT_MODIFIED,i.RECENT_RELEVANT_OPENED,i.RECENT_RELEVANT_MODIFIED];!function(e){e.HistoryItem="history-item",e.SearchItem="search-item",e.AdvancedSearch="advanced-search",e.SectionHeader="section-header",e.Divider="divider",e.RecommendItem="recommend-item"}(u||(u={}));var _,E,l,f,d,T=[r.DOC,r.SHEET,r.BITABLE,r.MINDNOTE,r.FILE,r.SLIDE,r.DOCX],p=[].concat(T,[r.FOLDER,r.WIKI_FOLDER]);!function(e){e.SEARCH="SEARCH",e.RECENT="RECENT"}(_||(_={})),function(e){e.PAST_DAY="last_day",e.PAST_WEEK="last_week",e.PAST_MONTH="last_month",e.PAST_QUARTER="last_quarter",e.ALL=""}(E||(E={})),function(e){e.FOLDER="1",e.VIDEO="2",e.AUDIO="3",e.IMAGE="4",e.PDF="5",e.OTHER="99"}(l||(l={})),function(e){e.NO_USER="0",e.USERS="1",e.TALKED_USERS="2",e.CHAT="3",e.GROUP_CHAT="5"}(f||(f={})),function(e){e.NO_DEPARTMENT="0",e.DEPARTMENT="1"}(d||(d={}));var S,I=function(e){switch(e){case l.FOLDER:return"folder";case l.VIDEO:return"video";case l.AUDIO:return"audio";case l.IMAGE:return"image";case l.PDF:return"pdf";case l.OTHER:return"other";default:return""}};!function(e){e.LOAD_MORE="loadmore",e.NORMAL="normal",e.LOAD_RELEVANT="load_relevant",e.LOAD_RELEVANT_MORE="load_relevant_more"}(S||(S={}));var O,R,m,A=function(e){switch(e){case r.ALL:return"all";case r.DOC:return"doc";case r.SHEET:return"sheet";case r.MINDNOTE:return"mindnote";case r.DOCX:return"docx";case r.BITABLE:return"bitable";case r.FOLDER:return"folder";case r.FILE:return"file";case r.SLIDE:return"slide";case r.WIKI:return"wiki";default:return""}},C=c("search.past_day"),h=c("search.past_week"),v=c("search.past_month"),D=c("search.past_quarter"),N=[{text:C,key:E.PAST_DAY},{text:h,key:E.PAST_WEEK},{text:v,key:E.PAST_MONTH},{text:D,key:E.PAST_QUARTER}],L="-1",y={id:L,name:c("search.wiki_space.all_wiki_space"),desc:""};!function(e){e[e.CreatedTime=3]="CreatedTime",e[e.OpenedTime=6]="OpenedTime",e[e.EditedTime=7]="EditedTime",e[e.AllTime=8]="AllTime"}(O||(O={})),function(e){e.CURRENT_SEARCH_CHATS="currentSearchChats",e.CURRENT_SEARCH_USERS="currentSearchUsers",e.CURRENT_SEARCH_WIKI_SPACE="currentSearchWikiSpace",e.CURRENT_SEARCH_FOLDER="currentSearchFolder"}(R||(R={})),function(e){e.INPUT="search",e.CORRECTION="correction",e.SUGGESTION="completion"}(m||(m={}))},536113:function(e,t,n){"use strict";n.d(t,{Or:function(){return r},mZ:function(){return o},uP:function(){return i},yo:function(){return a},YS:function(){return c},yv:function(){return u},$U:function(){return s},cD:function(){return _},ek:function(){return E},cG:function(){return l},Kl:function(){return f},FB:function(){return d},jn:function(){return T},V2:function(){return p}});var r="x-command",o="api.doc.token",i="api.sheet.token",a="api.slide.token",c="api.bitable.token",u="api.mindnote.token",s="api.file.token",_=("".concat(o,".create_sheet"),"api.sheet.histories.token"),E="api.sheet.update_meta",l="api.sheet.explorer.create",f="api.sheet.explorer.clone",d="api.v2.sheet.correct_formulas",T="api.v2.sheet.complement_formulas",p="api.v2.sheet.intellect_headers"},573562:function(e,t,n){"use strict";n.d(t,{QU:function(){return f},mL:function(){return d},gl:function(){return T},kE:function(){return p},u8:function(){return S},qe:function(){return u},G9:function(){return s},qn:function(){return R},iV:function(){return O},lB:function(){return A},nm:function(){return C},uw:function(){return h},g5:function(){return m},Sk:function(){return v},t$:function(){return D}});var r,o,i,a,c,u,s,_=n(774561),E=n(358376),l=n(44226),f="ccm",d="space",T="permission",p="template",S="none";!function(e){e.View="view",e.Click="click"}(u||(u={})),function(e){e.HomePage="home_page",e.PersonalPage="personal_page",e.SharedPage="shared_page",e.WikiPage="wiki_page",e.FavoritesPage="favorites_page",e.TrashPage="trash_page",e.WikiDiscoverPage="wiki_discover_page",e.DocsPage="docs_page",e.DocxPage="docx_page",e.DocsMoreMenu="docs_more_menu",e.DocsHistoryPage="docs_history_page",e.Comment="comment",e.DocFindReplacePanel="doc_find_replace_panel",e.DocTodoCenterPage="doc_todo_center_page",e.Sidebar="sidebar",e.UGBanner="banner",e.NavigationBar="navigation_bar",e.HeaderFilterFileType="header_filter_filetype",e.HeaderFilterOwner="header_filter_belonged",e.HeaderFilterbehaviour="header_filter_last_operate",e.HeaderFilterOrder="header_filter_order",e.HeaderFilterPathOrder="header_filter_path_order",e.HeaderFilterBelongToMe="header_filter_belongtome",e.HeaderFilterShareToMe="header_filter_sharetome",e.HeaderFilterFolderNameOrder="header_filter_folder_name_order",e.DocsDetails="docs_details",e.FileChoose="file_choose",e.SaveAsTemplate="save_customize_template",e.DriveRename="drive_rename",e.HeaderFilterPathShareToMeSharer="header_filter_path_sharetome_sharer",e.HeaderFilterShareToMeSharer="header_filter_sharetome_sharer",e.AddToFolder="add_to_folder",e.AddFileToCurrentFolder="add_file_to_current_folder",e.ConvertIsDelete="convert_is_delete",e.ImportDocs="import",e.Print="print",e.TemplateCenter="template_systemcenter",e.PermissionShare="permission_share",e.DeleteOrRemove="delete_or_remove",e.SaveCustomizeTemplate="usercenter_import_confirm",e.ChangeOwner="change_owner",e.AskPermissionMoveTo="ask_permission_move_to",e.AddCollaborator="add_collaborator",e.ManagementCollaborator="management_collaborator",e.PermissionReadWithoutEdit="permission_read_without_edit",e.DriveUpload="drive_upload",e.RightClickMenu="right_click_menu",e.WikiFileLocationSelect="wiki_file_location_select",e.Delete="delete",e.ListOperationPanel="list_operation_panel",e.CreateNewFolder="create_new_folder",e.CreateNew="create_new",e.UploadProgress="upload_progress",e.Folder="folder",e.ManageCollaborator="permission_management_collaborator",e.PermissionSetting="permission_set",e.TransferOwner="bulk_transfer",e.Filter="filter",e.DocsTopbar="docs_topbar",e.SearchMain="search_main",e.SettingMain="setting_main",e.PanoTagviewPage="pano_tagview_page",e.PassportSudoku="passport_sudoku",e.InMultiFolders="in_multi_folders",e.PassportWebUserSetting="passport_web_user_setting",e.FolderEdit="folder_edit",e.FileUploadImportChoose="file_upload_import_choose",e.NONE="none"}(s||(s={}));var I,O,R=[s.DocsPage,s.WikiDiscoverPage,s.WikiPage];!function(e){e.Home="home",e.WikiHome="wiki_home",e.DiscoverPage="discover",e.WikiSpaces="wiki",e.Shared="shared",e.Personal="personal",e.Favorites="favorites",e.Trash="trash",e.Doc="doc",e.DocX="docx",e.Sheet="sheet",e.Drive="drive",e.MindNote="mindnote",e.Slide="slide",e.Bitable="bitable"}(I||(I={})),function(e){e.Recent="recent",e.QuickAcces="quick_access"}(O||(O={}));var m,A=(r={},(0,_.Z)(r,l.routeModule.HOME,s.HomePage),(0,_.Z)(r,l.routeModule.PERSONAL,s.PersonalPage),(0,_.Z)(r,l.routeModule.SHARED,s.SharedPage),(0,_.Z)(r,l.routeModule.WIKI_HOME,s.WikiPage),(0,_.Z)(r,l.routeModule.FAVORITES,s.FavoritesPage),(0,_.Z)(r,l.routeModule.TRASH,s.TrashPage),(0,_.Z)(r,l.routeModule.FOLDER,s.Folder),(0,_.Z)(r,l.routeModule.SHARED_FOLDER,s.Folder),(0,_.Z)(r,l.routeModule.WIKI,s.DocsPage),(0,_.Z)(r,l.routeModule.DRIVE,s.DocsPage),(0,_.Z)(r,l.routeModule.DOC,s.DocsPage),(0,_.Z)(r,l.routeModule.DOCX,s.DocsPage),(0,_.Z)(r,l.routeModule.SHEET,s.DocsPage),(0,_.Z)(r,l.routeModule.SLIDE,s.DocsPage),(0,_.Z)(r,l.routeModule.BITABLE,s.DocsPage),(0,_.Z)(r,l.routeModule.MINDNOTE,s.DocsPage),r),C=(o={},(0,_.Z)(o,l.routeModule.HOME,I.Home),(0,_.Z)(o,l.routeModule.PERSONAL,I.Personal),(0,_.Z)(o,l.routeModule.SHARED,I.Shared),(0,_.Z)(o,l.routeModule.WIKI_HOME,I.WikiHome),(0,_.Z)(o,l.routeModule.FAVORITES,I.Favorites),(0,_.Z)(o,l.routeModule.TRASH,I.Trash),i={},(0,_.Z)(i,l.URL.HOME,s.HomePage),(0,_.Z)(i,l.URL.ME,s.PersonalPage),(0,_.Z)(i,l.URL.SHARE_FOLDERS,s.SharedPage),(0,_.Z)(i,l.URL.WIKI_INDEX,s.WikiPage),(0,_.Z)(i,l.URL.FAVORITES,s.FavoritesPage),(0,_.Z)(i,l.URL.TRASH,s.TrashPage),(0,_.Z)(i,l.URL.DISCOVER_PAGE,s.WikiDiscoverPage),i),h=(a={},(0,_.Z)(a,l.routeModule.HOME,I.Home),(0,_.Z)(a,l.routeModule.PERSONAL,I.Personal),(0,_.Z)(a,l.routeModule.SHARED,I.Shared),(0,_.Z)(a,l.routeModule.SHARED_FOLDER,I.Shared),(0,_.Z)(a,l.routeModule.WIKI_HOME,I.WikiHome),(0,_.Z)(a,l.routeModule.DISCOVER_PAGE,I.DiscoverPage),(0,_.Z)(a,l.routeModule.WIKI,I.WikiSpaces),(0,_.Z)(a,l.routeModule.FAVORITES,I.Favorites),(0,_.Z)(a,l.routeModule.TRASH,I.Trash),(0,_.Z)(a,l.routeModule.DOC,I.Doc),(0,_.Z)(a,l.routeModule.DOCX,I.DocX),(0,_.Z)(a,l.routeModule.SHEET,I.Sheet),(0,_.Z)(a,l.routeModule.DRIVE,I.Drive),(0,_.Z)(a,l.routeModule.MINDNOTE,I.MindNote),(0,_.Z)(a,l.routeModule.SLIDE,I.Slide),(0,_.Z)(a,l.routeModule.BITABLE,I.Bitable),a);!function(e){e.MODAL_CONFIRM="confirm",e.MODAL_CLOSE="close",e.FOLDER_OP_CREATE_FOLDER="create_folder",e.FOLDER_OP_RENAME="rename",e.FOLDER_OP_TICK="tick",e.FOLDER_OP_CANCEL="cancel",e.IMPORT_RESERVE="reserve",e.IMPORT_DELETE="delete",e.SHARE_FILTER_RESET_LIST="reset",e.SHARE_FILTER_DELETE_MEMBER="delete",e.SHARE_FILTER_ADD_COLLABORATOR="add_collaborator"}(m||(m={}));var v=[I.Doc,I.DocX,I.Sheet,I.Drive,I.MindNote,I.Slide,I.Bitable,I.WikiSpaces],D=(c={},(0,_.Z)(c,l.routeModule.HOME,E.Gj.HOME),(0,_.Z)(c,l.routeModule.PERSONAL,E.Gj.MY),(0,_.Z)(c,l.routeModule.SHARED,E.Gj.SHARE),(0,_.Z)(c,l.routeModule.FAVORITES,E.Gj.COLLECT),(0,_.Z)(c,l.routeModule.SHARED_FOLDER,E.Gj.SHARED_FOLDER),(0,_.Z)(c,l.routeModule.FOLDER,E.Gj.FOLDER),(0,_.Z)(c,l.routeModule.PERSONAL_FOLDER,E.Gj.PERSONAL_FOLDER),c)},809702:function(e,t,n){"use strict";n.r(t),n.d(t,{STORAGE_KEY:function(){return r}});var r={explorer:{LIST_VIEW_SETTING:"LIST_VIEW_SETTING",LIST_VIEW_VERSION_CODE:"LIST_VIEW_VERSION_CODE",RECENT_LIST_VIEW:"RECENT_LIST_VIEW",ORDERING_MAP:"ORDERING_MAP",EXPLORER_ROOT_TOKEN_MAP:"EXPLORER_ROOT_TOKEN_MAP",ENABLE_DOMAIN_RECOVERY:"ENABLE_DOMAIN_RECOVERY"},anonymous:{ANONYMOUS_EDIT_GUIDE_CONFIRM:"ANONYMOUS_EDIT_GUIDE_CONFIRM"}}},534535:function(e,t,n){"use strict";var r,o,i;n.d(t,{g3:function(){return r},sn:function(){return o},ro:function(){return i}}),function(e){e.CLIENT_FILE_CERTIFICATION="client_file_certification",e.CLIENT_FILE_CERTIFICATION_CONFIRM="client_file_certification_confirm"}(r||(r={})),function(e){e.CLICK_EDIT_RIGHT_NOW="click_edit_right_now",e.CLICK_LOGIN="click_login",e.INPUT_PHONE="input_phone",e.SEND_CODE="send_code",e.INPUT_CODE="input_code",e.CERTIFICATION_CONFILRM="certification_confilrm",e.CERTIFICATION_CANCEL="certification_cancel"}(o||(o={})),function(e){e.SUCCESS="success",e.FAIL="fail",e.ABANDON="abandon"}(i||(i={}))},121643:function(e,t,n){"use strict";var r=n(790445),o=n(941985),i=n(510286),a=null;function c(){return o.ZP.dispatch((0,i.js)())}function u(){return"visible"===document.visibilityState}function s(){u()?c().finally((function(){a=setTimeout(s,6e4)})):a=null}function _(e){u()&&(null===a&&(a=setTimeout(s)),o.ZP.dispatch((0,i.k)()).then((function(e){var t,n=e.payload,o=e.meta;t=n,window.User&&t.id!==window.User.id&&(0,r.Zg)(o.originResponse,!0)})))}function E(e){"user_logout_at"===e.key&&setTimeout(c,2e3)}t.Z=function(){a=setTimeout(s,6e4),document.addEventListener("visibilitychange",_),window.addEventListener("storage",E)}},535561:function(e,t,n){"use strict";n.d(t,{W:function(){return _}});var r=n(17262),o=n(481382),i=n(44014),a=n(943444),c=n(85181),u=[n(981960).ec];function s(e){switch(e){case r.Av.Base:return o.NUM_SUITE_TYPE.BITABLE;case o.BoxSyncSuiteType:return o.NUM_SUITE_TYPE.FILE;case o.SUITE_ENGINE_TYPE.SLIDE:if(o.ROUTE_NAME.SLIDE===(0,i.getSuiteTypeStr)())return o.NUM_SUITE_TYPE.SLIDE;break;default:return o.mapFileType2TypeNum[e.toLowerCase()]}}function _(e,t){var n=function(e,t){var n=t.entity;return{type:"",data:{obj_type:s(n.type),token:n.token,operator_id:"",revision:e,type:c._.OBJ_PERMISSION_CHANGE},token:n.token}}(e,t);(0,a.GK)(u,n)}},943444:function(e,t,n){"use strict";n.d(t,{_L:function(){return d._},ZP:function(){return C},GK:function(){return f},Nc:function(){return A},KD:function(){return l}});var r=n(919264),o=n(804175),i=n(559294),a=n(941985),c=n(474664);function u(e){return c.IO.getInstance({})}function s(e){return void 0===e&&(e=a.ZP),e.getState()}function _(e,t){return void 0===t&&(t=a.ZP),t.dispatch(e)}function E(e){return e.data}function l(){return{getIOInstance:u,dispatch:_,getReduxState:s,getMsgData:E}}function f(e,t){e.forEach((function(e){var n=e.validator,r=e.handler;!0===n(t)&&"function"==typeof r&&r(t)}))}var d=n(85181),T=n(981960),p=[T.Qi,T.ec,T.vY,T.Oh],S=null,I=function(){function e(){var t=this;(0,r.Z)(this,e),this.entity={type:"global",token:"permission"},this.allowedTypes=(0,i.Z)(d.N),this.validator=function(e){return e.type?t.allowedTypes.some((function(t){return t===e.type})):(console.warn("Message must have a type"),!1)},this.handleMessageFromServer=function(e){f(p,e)},this.io=u(),this.io.register(this.entity,{message:{handler:this.handleMessageFromServer,filter:this.validator},acceptWatchHandler:function(e){console.log("[io_sync]: permission watch accept",e)}})}return(0,o.Z)(e,[{key:"destory",value:function(){this.io&&(this.io.unRegister(this.entity),this.io.closeChannel(),this.io=null)}}],[{key:"init",value:function(){return null===S&&(S=new e),S}},{key:"destory",value:function(){S&&S.destory()}}]),e}(),O=n(774561),R=n(535561),m=n(84003);function A(){var e={interval:1,callback:function(e,t,n){console.warn(e,t),e<=t||0!==t&&(0,R.W)(e,n)}};return(0,O.Z)({},m.I,e)}var C=I},85181:function(e,t,n){"use strict";n.d(t,{N:function(){return o},_:function(){return i}});var r=n(357081),o={NOTIFY:"NOTIFY",DOC:r.y0.FILE_TYPE.DOC.toUpperCase(),DOCX:r.y0.FILE_TYPE.DOCX.toUpperCase(),SHEET:r.y0.FILE_TYPE.SHEET.toUpperCase(),BITABLE:r.y0.FILE_TYPE.BITABLE.toUpperCase(),MINDNOTE:r.y0.FILE_TYPE.MINDNOTE.toUpperCase(),SLIDE:r.y0.FILE_TYPE.SLIDE.toUpperCase(),LIKE:r.vL.LIKE_MESSAGE_TYPE,BOX:r.y0.BoxSyncSuiteType},i={PERMISSION_CHANGE:"PERMISSION_CHANGE",OBJ_PERMISSION_CHANGE:"OBJ_PERMISSION_CHANGE",UNREGISTER_DEVICE:"UNREGISTER_DEVICE",GROUP_CHANGE:"GROUP_CHANGE"}},84003:function(e,t,n){"use strict";n.d(t,{I:function(){return r}});var r="obj_permission_channel"},981960:function(e,t,n){"use strict";n.d(t,{Oh:function(){return c},Qi:function(){return R},ec:function(){return T},vY:function(){return m}});var r=n(310418),o=n(44014),i=n(943444),a=n(887035);var c={validator:function(e){var t=(0,o.isUnderSuiteView)();return e.data.type===i._L.GROUP_CHANGE&&t},handler:function(e){var t=(0,i.KD)(),n=t.dispatch,o=(0,t.getReduxState)(),c=(0,a.mx)(o),u=(0,a.Qh)(o);n((0,r.fetchUserPermissionOnSuite)(u,c,!0))}},u=n(857720),s=n(357081),_=n(215661),E=n(893835),l=n(614275),f=n(84003),d=_.Z.mobile;var T={validator:function(e){var t=(0,o.isUnderFileListView)();return e.data.type===i._L.OBJ_PERMISSION_CHANGE&&!t},handler:function(e){var t,n,o=(0,i.KD)(),c=o.getIOInstance,_=o.dispatch,T=o.getReduxState,p=o.getMsgData,S=c(),I=p(e),O=I.obj_type,R=I.operator_id,m=I.token,A=I.revision,C=I.ignore,h=T(),v=(0,a.Qh)(h),D=(0,a.bJ)(h).get("owner_id"),N=window.User.id===D,L=window.User.id===R,y=m===v,P={type:(t=O,n=s.y0.mapTypeNumToFileType[t],n?n.toUpperCase():""),token:m};if("number"==typeof A&&P.type)S.setHeartbeatVersion(P,f.I,A);else{console.error("Revision or entity type is missing");var g=new Error("Revision or entity type is missing");(0,E.Tb)(g,{extras:e}),u.ZP.error(g,e)}"1"!==C&&(!y||N||L||v&&O&&(d?_((0,r.fetchUserPermissionOnSuite)(v,O,!0)):(_((0,r.fetchUserPermissionOnSuite)(m,O,!0)),_((0,l.CD)(m,O)),_((0,r.fetchSuitePublicPermission)(m,O)))))}},p=n(235724),S=n(526289),I=n(808926),O=_.Z.mobile;var R={validator:function(e){var t=(0,i.KD)(),n=t.getMsgData,r=(0,t.getReduxState)(),a=n(e),c=a&&a.action,u=(0,o.isUnderFileListView)(),_=(0,S.To)("userPermissionOnSuite")(r);return c===i._L.PERMISSION_CHANGE&&!u&&_&&_.get("code")===s.vU.STATUS_CODE.FORBIDDEN},handler:function(e){var t=(0,i.KD)(),n=t.dispatch,o=t.getReduxState,c=(0,t.getMsgData)(e).payload,u=c.obj_type,s=c.operator_id,_=c.obj_token,E=o(),f=(0,I.HF)(E),d=(0,a.Qh)(E);!(0,p.isCurrentUser)(f,s)&&_===d&&(O?n((0,r.fetchUserPermissionOnSuite)(d,u,!0)):(n((0,l.CD)(_,u)),n((0,r.fetchUserPermissionOnSuite)(_,u,!0))))}};var m={validator:function(e){return(0,(0,i.KD)().getMsgData)(e).action===i._L.UNREGISTER_DEVICE},handler:function(e){(0,(0,i.KD)().getIOInstance)().closeChannel()}}},731484:function(e,t,n){"use strict";n.d(t,{LC:function(){return r},KE:function(){return d}});var r,o=n(919264),i=n(804175),a=n(359980),c=n(981387),u=n(554266),s=n(746986),_=n(242759),E=n(294759),l="@GLOBAL/visibilitychange";!function(e){e.Visible="visible",e.Hidden="hidden"}(r||(r={}));var f=function(){function e(t){var n=this;(0,o.Z)(this,e),this.useLarkDeprecatedEvent=!c.cC&&E,this.handlePageVisible=function(){(0,s.default)("page_visibility_change",{visibility:r.Visible}),n._visibilityState=r.Visible,n.eventEmitterInstance.emit(l,r.Visible),(0,c.BY)()},this.handlePageNotVisible=function(){(0,s.default)("page_visibility_change",{visibility:r.Hidden}),n._visibilityState=r.Hidden,n.eventEmitterInstance.emit(l,r.Hidden)},this.handleVisibilityChange=function(){var e=document.visibilityState;(0,s.default)("page_visibility_change",{visibility:e}),n._visibilityState=e,n.eventEmitterInstance.emit(l,e),"hidden"===e?u.o.onHidden():u.o.onVisible()},this.on=function(e){n.checkWatching();var t=Array.isArray(e)?e:[e];n.eventEmitterInstance.addListeners(l,t)},this.off=function(e){var t=Array.isArray(e)?e:[e];n.eventEmitterInstance.removeListeners(l,t)},this.eventEmitterInstance=t;var i=this.useLarkDeprecatedEvent?this.getStateFromLarkStatus():document.visibilityState;this._visibilityState=i}return(0,i.Z)(e,[{key:"getStateFromLarkStatus",value:function(){return"started"===(0,a.default)(window,"__APPLICATION__STATUS__")?r.Visible:r.Hidden}},{key:"watch",value:function(){this.useLarkDeprecatedEvent?(window.addEventListener("application-stop",this.handlePageNotVisible),window.addEventListener("application-start",this.handlePageVisible)):document.addEventListener("visibilitychange",this.handleVisibilityChange),this._isWatching=!0}},{key:"unwatch",value:function(){this.useLarkDeprecatedEvent?(window.removeEventListener("application-stop",this.handlePageNotVisible),window.removeEventListener("application-start",this.handlePageVisible)):document.removeEventListener("visibilitychange",this.handleVisibilityChange),this._isWatching=!1}},{key:"checkWatching",value:function(){if(!this._isWatching)throw Error("VisibilityWatcher was not initialized")}},{key:"isVisible",get:function(){return this._visibilityState===r.Visible}},{key:"isWatching",get:function(){return this._isWatching}}]),e}();f.channel=l;var d=function(e,t){return function(n){n===r.Hidden?t():n===r.Visible&&e()}},T=new f(_.Z);t.ZP=T},76398:function(e,t,n){"use strict";n.d(t,{wt:function(){return a},Wm:function(){return c},P0:function(){return u}});var r=n(534535),o=n(481382),i=n(746986);function a(e){(0,i.collectSuiteEvent)(r.g3.CLIENT_FILE_CERTIFICATION,{action:e,type:"pcweb"})}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,i.collectSuiteEvent)(r.g3.CLIENT_FILE_CERTIFICATION_CONFIRM,{result:e,reason:t,type:"pcweb"})}function u(e,t){return o.isAnonymousAccess,e}},73019:function(e,t,n){"use strict";n.d(t,{OG:function(){return o},n1:function(){return i},oS:function(){return a}});var r=n(614795),o=function(e){return"".concat(r.POST_RCE_MESSAGE,"?member_id=").concat(e.memberId)},i=function(){return r.FETCH_BLOCKS_SPREADSHEET_V2},a=function(e){return"".concat(r.GET_BITABLE).concat(e,"/client_vars/")}},180135:function(e,t,n){"use strict";n.d(t,{fz:function(){return E},l5:function(){return l},jj:function(){return f},oB:function(){return d},ue:function(){return I},Z6:function(){return O},Lq:function(){return r},gp:function(){return R}});n(367017);var r,o=n(913867),i=n(846775),a=n(382108),c=n(359980),u=n(284113),s=n(509962),_=n(581034),E=(n(981387),function(){return(0,s.getAppNameFromConfig)()}),l=function(){return((0,c.default)(window,"materialConfig.brand_docs_home_logo")||(0,c.default)((0,u.k8)(),"brand.logo","")).replace(/https?\:/,"")},f=function(){return(0,c.default)((0,u.k8)(),"brand.name_".concat((0,_.G3)()),"")},d=function(){return((0,c.default)(window,"materialConfig.brand_docs_browser_tap_logo")||(0,c.default)((0,u.k8)(),"brand.ico","")).replace(/https?\:/,"")},T="undefined"==typeof window?n.g:window,p=(0,c.default)(T,"globalKaConfig",{}),S="globalKaNativeConfig",I=function(e){var t=(0,c.default)(T,"".concat(S,".getFeatureSwitchFromNative")),n=(0,i.default)(t)?t(e):(0,c.default)(p,"fs[".concat(e,"]"));return!(0,a.Z)(n)||n},O=function(e){try{var t=(0,c.default)(T,"".concat(S,".getResourceFromNative")),n=(0,i.default)(t)?t(e):(0,c.default)(p,"resources[".concat(e,"][0]"));return(0,o.Z)(n)?n:""}catch(e){return""}};!function(e){e.CCMWEB_ECM_HOME_LOGO="app_logo_32",e.CCMWEB_COMMON_CONTACT_CUSTOMER="suite_help_service_doc",e.CCMWEB_COMMON_FAVICON="app_logo_32",e.CCMWEB_COMMON_HELP_CENTER="suite_help_service_doc",e.CCMWEB_TEMPLATE_ENTERPRISE_GUIDE="ccmWeb_template_enterprise_guide",e.CCMWEB_PERMISSION_SHARE_LARK_ICON="app_logo_20",e.CCMWEB_DOC_AUTH_CONNECT_LOGO="app_logo_40",e.CCMWEB_COMMON_UPLOAD_LOG="suite_help_service_doc"}(r||(r={}));var R=function(){var e={};return Object.keys(r).forEach((function(t){var n=r[t];e[n]=O(n)})),e}},107925:function(e,t,n){"use strict";n.d(t,{k7:function(){return p},DZ:function(){return S},TS:function(){return A}});var r=n(212795),o=n(165235),i=n(910894),a=n(215661),c=n(746986),u=n(60618),s=58,_=15.15063,E=0,l=9.6,f=0,d=0,T=12.1,p=function(){return!a.Z.isIECompatibleMode&&(a.Z.isPrimaryChrome||a.Z.isEdge||a.Z.isSougou||a.Z.isQQ||a.Z.is360||a.Z.is360Fast||a.Z.isSafari||a.Z.isIPad)},S=function(){var e=parseFloat(String(a.Z.version));return!!a.Z.isIPad||e&&(a.Z.isPrimaryChrome&&e>=s||a.Z.isEdge&&e>=_||a.Z.isSougou&&e>=E||a.Z.isQQ&&e>=l||a.Z.is360&&e>=f||a.Z.is360Fast&&e>=d||a.Z.isSafari&&e>=T)},I='<span class="link">\n                        <a href="'.concat(i.bR,'" target="_blank">').concat((0,r.Z)(u("guide.help_doc")),"</a>\n                      </span>");function O(e){var t="";switch(e){case"UnSupportBrowser":t="banner_not_supported";break;case"UnSupportVersion":t="banner_low_version"}(0,c.default)("click_help_center",{action:"click",source:t})}var R=function(){return o.createElement("span",{className:"text",onClick:function(){return O("UnSupportBrowser")},dangerouslySetInnerHTML:{__html:u("CreationDoc_Docs_UnsupportedBrowser_Toast",I)}})},m=function(){return o.createElement("span",{className:"text",onClick:function(){return O("UnSupportVersion")},dangerouslySetInnerHTML:{__html:u("CreationDoc_Docs_LowBrowserVersion_Toast",I)}})};function A(){var e=p(),t=S();return e&&t?null:((0,c.default)("browser_tips",{browser_name:a.Z.name,browser_version:String(a.Z.version),tips_type:e?"banner_low_version":"banner_not_supported"}),e?o.createElement(m,null):o.createElement(R,null))}},215661:function(e,t,n){"use strict";var r=n(399643);t.Z=r.default},362281:function(e,t,n){"use strict";function r(){if(!window.performance.getEntriesByType)return null;var e=window.performance.getEntriesByType("resource"),t=window.performance.timing.navigationStart,n=i(e,"app"),r=i(e,"merge_app--business_tools_chunk"),o=i(e,"merge_app--framework_chunk");if(!n&&!r&&!o)return null;var a=Math.min(s(r),s(o)),c=Math.min(s(n),a),u=Math.max(_(n),Math.max(_(r),_(o)));function s(e){return e?e.startTime:1/0}function _(e){return e?e.startTime+e.duration:0}return{startTime:Math.round(t+c),endTime:Math.round(t+u)}}function o(){if(!window.performance.getEntriesByType)return null;var e=window.performance.getEntriesByType("resource"),t=window.performance.timing.navigationStart,n=i(e,"doc_index");return n?{startTime:Math.round(t+n.startTime),endTime:Math.round(t+n.startTime+n.duration)}:null}function i(e,t){return e.find((function(e){return e.name.includes("/resource/bear/js/".concat(t,"."))||e.name.endsWith("/js/".concat(t,".[dev].js"))}))}n.d(t,{dU:function(){return r},Vk:function(){return o},Ne:function(){return i}})},157684:function(e,t,n){"use strict";n.d(t,{o:function(){return c},A:function(){return u}});var r=n(912767),o=n(941985),i=!1,a=[],c=function(){return new Promise((function(e){var t=function(){e((0,r.Kn)(o.ZP.getState()).translateContentCompare?"both":"only")};i?t():a.push(t)}))},u=function(){i=!0,a.forEach((function(e){return e()}))}},630252:function(e,t,n){"use strict";n.d(t,{B:function(){return o},$:function(){return i}});var r={2:"DOC"};function o(e,t,n){var o=e.parentType||"",i=e.parentToken;return o||(o=r[t]||""),i||(i=n),{serviceType:o,serviceToken:i}}function i(e,t,n){return n?"".concat(e,"-").concat(t,"-").concat(n):"".concat(e,"-").concat(t)}},316983:function(e,t,n){"use strict";n.d(t,{GK:function(){return a},Px:function(){return c},sv:function(){return u},OH:function(){return s}});var r=n(382108),o=n(359980),i=(0,n(360851).cY)("ccm_gpe_dev_settings")||{dev_settings:!1,toggle_branch:!1},a=function(){return!("1"!==(0,o.default)(window,"User.tenantId")||!(0,r.Z)(i.dev_settings))&&i.dev_settings},c=function(){return!!(0,r.Z)(i.toggle_branch)&&i.toggle_branch},u=function(){var e=window.localStorage.getItem("dev_settings_pre_mark_visible");return!e||JSON.parse(e)},s=function(){var e=window.localStorage.getItem("dev_settings");if(!e)return[];for(var t=JSON.parse(e),n=[],r=0,o=Object.keys(t);r<o.length;r++){var i=o[r];t[i]&&n.push(i)}return n}},672452:function(e,t,n){"use strict";n.d(t,{CI:function(){return E},A4:function(){return l},b_:function(){return d}});var r=n(693631),o=n(461402),i=n(212020),a=n(330009),c=n(991903),u=n(617494),s=new r.xQ,_=new r.xQ;function E(e){return s.next(e)}function l(){_.next()}var f=new o.t(1);s.pipe((0,i.p)(1e3,void 0,{leading:!0,trailing:!0})).subscribe(f),_.pipe((0,a.O)(),(0,c.h)(null)).subscribe(f);var d=f.pipe((0,u.h)((function(e){return null!==e})))},77112:function(e,t,n){"use strict";n.d(t,{Ky:function(){return p},Jt:function(){return S},An:function(){return r},Dz:function(){return I},X:function(){return O},ZL:function(){return R},zr:function(){return m},rm:function(){return A},rK:function(){return N},Pr:function(){return L},ux:function(){return y},C6:function(){return P},uY:function(){return g},qS:function(){return M},O_:function(){return b},wT:function(){return k},oO:function(){return w},Nk:function(){return H},Yy:function(){return U},k$:function(){return F},wf:function(){return Z},m0:function(){return E.m0},yj:function(){return E.yj},R8:function(){return E.R8},kf:function(){return E.kf},mb:function(){return E.mb},WG:function(){return E.WG}});var r,o=n(298652),i=n(940969),a=n(913867),c=n(359980),u=n(742097),s=n(886365),_=n.n(s),E=n(284113),l=n(481382),f=n(360851),d=n(732023),T=n(671914),p=F(E.rt).host,S=F(E.CI).host;!function(e){e.LARK_API="lark_api",e.LARK_FILE="lark_file",e.SPACE_API="space_api",e.DRIVE_API="drive_api",e.STATIC="static"}(r||(r={}));var I="backup_domain";function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.SPACE_API;if(/^(https|http)\:/.test(e))return e;var n="";if(t===r.LARK_API){var o=U("domain").lark_api;n="https://".concat(o)}else if(t===r.LARK_FILE){var i=U("domain").lark_file;n="https://".concat(i)}else{if(t===r.DRIVE_API)return R(e);if((0,E.R8)()){var a={NODE_ENV:"production",CDN_URL:navigator.cdn_host+"/ccm/pc/web/resource/bear",FASTER_TEST:void 0,LARK_ENV:"web",LARK:!0}.NODE_SERVER?(0,E.y8)():E.rt;n="".concat(a,"/space")}else n=(0,E.vo)("docsLocation.origin","")}var c=/^\//.test(e)?"":"/";return"".concat(n).concat(c).concat(e)}function R(e,t){if(/^(https|http)\:/.test(e))return e;var n="";if(t){var r=(0,E.PE)();n="https://".concat(t,".").concat(r)}else if((0,E.R8)()){var o={NODE_ENV:"production",CDN_URL:navigator.cdn_host+"/ccm/pc/web/resource/bear",FASTER_TEST:void 0,LARK_ENV:"web",LARK:!0}.NODE_SERVER?(0,E.LR)():E.CI;n="".concat(o,"/space")}else n=(0,E.vo)("docsLocation.origin","");var i=/^\//.test(e)?"":"/";return"".concat(n).concat(i).concat(e)}function m(e){if(/^(https|http)\:/.test(e))return e;var t;t=(0,E.R8)()?E.rt:(0,E.vo)("docsLocation.origin","");var n=/^\//.test(e)?"":"/";return"".concat(t).concat(n).concat(e)}function A(){return(0,E.R8)()?"".concat(E.rt,"/space"):u.Z.origin}var C=new RegExp("^/(".concat(Array.from(new Set([].concat(["file","wiki","default","blank","wiki_home","isv"],(0,o.Z)(Object.keys(d.N)),(0,o.Z)(Object.values(d.N))))).join("|"),")")),h=new RegExp("^/(".concat(Object.keys(d.N).join("|"),")/")),v=new RegExp("^/(".concat(Object.keys(d.v).join("|"),")/"));function D(e){return/^\//.test(e)||(e="/".concat(e)),new RegExp("^/space|drive/").test(e)&&(e=e.replace(/(space|drive)\//,"")),"string"==typeof e&&(e=e.replace(/^\/component/,"")),e}function N(e){return/^\/component/.test(location.pathname)&&e.includes(":token")&&(e="/component".concat(e)),e}function L(e){return function(e){if(e=D(e),!(0,E.R8)())return e;var t=v.exec(e);if(t){var n=t[1],r=d.v[n];e=e.replace(new RegExp("^/".concat(n)),"/".concat(r))}return e=N(e),"/space".concat(e)}(e)}function y(e){return function(e){if(e=D(e),!(0,E.R8)())return e;if("/"===e||C.test(e)){var t=h.exec(e);if(t){var n=t[1],r=d.N[n];e=e.replace(new RegExp("^/".concat(n)),"/".concat(r))}return N(e)}return"/drive".concat(e)}(e)}function P(e){var t=new(_())(e);return t.set("pathname",y(t.pathname)),t.toString()}function g(e){return/docs\.bytedance\.net/.test(e)}function M(e){var t=y("/");return t.includes("space/")?"".concat(t,"help/").concat(e):"".concat(t,"space/help/").concat(e)}function b(e){var t=(0,E.TI)();return new RegExp("^(https?:\\/\\/)?([^/]+\\.)?(".concat(t.map((function(e){return"(".concat(e,")").replace(/\./g,"\\.")})).join("|"),")($|\\/)")).test(e)}function k(e){var t=document.createElement("a");t.href=e;var n=/^\/[^/]*/.exec(t.pathname);return n?n[0].slice(1):null}function w(e){if(e=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=e.trim(),/^\.*\/|^(?!localhost)\w+:/.test(e)?e:e.replace(/^(?!(?:\w+:)?\/\/)/,t?"https://":"http://")}(e),!b(e))return!1;var t=k(e);return t&&l.ROUTE_NAME_ARRAY.includes(t)}function H(e){if(void 0!==e){var t=u.Z.hostname,n=(0,E.vo)("User.domain"),r=f.BG||(0,c.default)(e,"state.disableDomainCorrection")||n&&n===t;if(f.Ef&&!r){var o=t.split(".");n.split(".").filter((function(e){return o.includes(e)})).join(".")===n&&(r=!0)}var s=function(e){var t="";if((0,a.Z)(e))t=e;else if(e.pathname){var n=e.pathname,r=e.search,o=e.hash,c=(0,i.Z)(r,"?"),u=(0,i.Z)(o,"#");t="".concat(n).concat(c?"?".concat(c):"").concat(u?"#".concat(u):"")}return t}(e);if(!s)return e;var _,l=/^\//.test(s),d=(0,T.nT)(s,!0),p=d.hostname,S=d.pathname,I=d.search,O=d.hash,R=(0,a.Z)(e)?"":e.state;return _=l?r?t:n:p,E.PP&&(/^\//.test(s)||p===n)&&(_=t),{domain:_,pathname:S,search:I,hash:O,state:R}}}function U(e){var t=(0,E.k8)();switch(e){case"tea":case"slardar":case"sentry":case"domain":case"secLink":case"metrics":return t[e]||{};case"frontier":return t[e];case"mina":if(t&&t.mina){var n=t.mina,r=n.domain,o=n.pathName,i=n.appId,a=n.version;return{url:"https://".concat(r).concat(o),appId:i,version:a}}return{};case"garrMina":if((0,E.yj)()&&E.ki&&"false"!==(0,T.on)("garrlocal"))return{url:"/garr/modules/list",appId:0,version:"0"};if(t&&t.garrMina){var c=t.garrMina,u=c.domain,s=c.pathName,_=c.appId,l=c.version;return{url:"https://".concat(u).concat(s),appId:_,version:l}}return{};default:return{}}}function F(e){var t=e.match(/^(https?\:)?(\/\/)?(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);if(t)return{href:e,protocol:t[1],backslash:t[2],host:t[3],hostname:t[4],port:t[5],pathname:t[6],search:t[7],hash:t[8]}}var Z=function(){var e=window.location.hostname,t=e.split("."),n=t.length,r=n>=2?"".concat(t[n-2],".").concat(t[n-1]):e;return".".concat(r)}},987993:function(e,t,n){"use strict";n.d(t,{x4:function(){return _},Gn:function(){return E},fX:function(){return l},Nv:function(){return f},XT:function(){return d}});var r=n(742097),o=n(284113),i=n(481382),a=n(533613),c=n(77112),u=n(216343),s=n(671914);function _(e){var t=(0,a.Fl)(),n=o.rt;t&&(n="https://".concat((0,o.W0)()[0]));var r=(0,s.nT)(e,!0),i=r.pathname,u=r.search,_=r.hash;if(((0,o.R8)()||t)&&(0,c.uY)(e)){var E="/api".concat(i).concat(u).concat(_),l="/space".concat(E);return"".concat(n).concat(l)}if((0,c.O_)(e)){var f="".concat(i).concat(u).concat(_);return"".concat(n).concat(f)}return e}function E(e){var t=e.type,n=e.objToken,r=void 0===n?"":n,o="/".concat(i.FILE_TYPE_URL_MAP[t],"/").concat(r);return(0,c.ux)(o)}function l(e){var t=(0,s.nT)(e,!0),n=t.protocol,r=t.hostname,o=t.port,i=t.pathname,a=t.search,u=t.hash,_=(0,c.ux)(i),E=o?":".concat(o):"";return"".concat(n,"://").concat(r).concat(E).concat(_).concat(a).concat(u)}function f(e){var t=e.type,n=e.objToken,r=e.url,i=e.isGetFullUrl,a=E({type:t,objToken:n}),c=i?"".concat((0,o.s2)().larkHome).concat(a.slice(1)):a;return!u.r8&&(0,o.R8)()&&r?l(r):c}function d(e){e=decodeURIComponent(e);var t=(0,s.nT)(e,!0),n=t.type,o=t.token,i=t.hash,a=(0,s.nT)(r.Z.href,!0),u=a.type,_=a.token,E=i.slice(1),l=(0,c.O_)(e)&&n===u&&o===_;return{isCurDocAnchor:Boolean(l&&E),guid:E}}},422399:function(e,t,n){"use strict";var r=n(811967),o=n(359980),i={},a={getRecord:function(e){return i[e]},registerRecord:function(e,t){i[e]=t},countRecord:function(e){var t=(0,o.default)(i,e,void 0);void 0!==t&&(0,r.Z)(i,e,t+1)}};t.Z=a,window.$e2e$=a},175247:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});var r=n(806501);function o(e){if(e.tags=e.tags||{},!e.tags.file_type)try{e.tags.file_type=(0,r.JB)()}catch(e){console.log("enhanceSlardarEvent file_type error",e)}return e}},216343:function(e,t,n){"use strict";n.d(t,{r8:function(){return c},lG:function(){return u},cC:function(){return s},d:function(){return _},g7:function(){return E}});var r=n(215661),o=n(533613),i=n(790538),a=n(754703),c=!1,u=function(){return(0,i.p)()||(0,o.Fl)()||(0,a.T)()},s=r.Z.isLark&&!/electron/i.test(navigator.userAgent),_=/electron/i.test(navigator.userAgent),E="wiki"===window.larkTabName},655821:function(e,t,n){"use strict";n.d(t,{ec:function(){return s},O8:function(){return _},cg:function(){return E}});var r=n(284113),o=n(481382),i=n(41240),a=n(215661),c=n(60618),u=(a.Z.isInVC||!a.Z.isLark)&&Boolean((0,r.l7)().fileSecureMode);function s(){return u}function _(e){return e===o.NUM_SUITE_TYPE.FILE&&s()}function E(){i.Z.info({content:c("common.file_security_restrict_download_action_general_message"),closable:!0,key:"securityRestrictDownload"})}},625161:function(e,t,n){"use strict";n.d(t,{S:function(){return o}});var r=n(893835);function o(e){var t=window.getSelection();if(!e||!t||0===t.rangeCount)return"";try{var n=e.getSelectedHTML();return(new DOMParser).parseFromString(n,"text/html").body.textContent||""}catch(e){return(0,r.Tb)(e),""}}},517903:function(e,t,n){"use strict";n.d(t,{ET:function(){return S},k$:function(){return I},WB:function(){return O}});var r=n(774561),o=n(768133),i=n(359980),a=n(614795),c=n(536113),u=n(73019),s=n(501455),_=n(261736),E=n(564897),l=n(806501),f=n(406005),d=n(360851),T=n(941985),p=n(887035),S=function(e){return e?[a.GET_SHEET_HISTORY_FIRST_V2,(0,u.n1)()].includes(e)?(0,r.Z)({},c.Or,(0,_.n)(e)):e.startsWith(a.GET_SHEET_HISTORY_LIST)?(0,r.Z)({},c.Or,c.cD):{}:{}},I=function(){var e=(0,p.VY)(T.ZP.getState());return e?{"docs-host-type":"Wiki","docs-host-id":e}:{}},O=function(e){var t,n=function(e){return e&&e.requestId?e.requestId:(0,s.Y)()}(e),a=function(e){return e&&e.logId?e.logId:(0,o.M)()}(e),u={request_id:n,os:l.Zj,app_version:l.Sf,os_version:l.IQ,platform:l.V};return Object.assign({},(0,d.Jw)()?{"X-TT-Trace":"1"}:{},{},function(e){if(!e||!e.url)return null;var t=(0,i.default)(e,["headers","x-command"]);return void 0!==t?(0,r.Z)({},c.Or,t):null}(e),{},(0,E.Go)()?{"X-Request-Source":"report_micro_app"}:{},{},window.parent!==window?{"X-Request-Label":"iframe"}:{},{"Request-Id":n,"X-Request-Id":n,"X-TT-LOGID":a,"x-tt-trace-id":n,"X-CSRFToken":(0,f.ej)("_csrf_token")||"","F-Version":window&&window.rv_rev||"",Context:(t=u,Object.keys(t).map((function(e){var n="";return n="function"==typeof t[e]?t[e]():t[e],"".concat(e,"=").concat(n)})).join(";"))})}},501455:function(e,t,n){"use strict";n.d(t,{Y:function(){return s}});var r=n(742097),o=n(613066),i=n(284113),a=n(217376),c=n(671914),u=null,s=function(){var e="",t="";return u||(u=(0,c.Mo)(r.Z.href)),u.side_car&&(e="#".concat(u.side_car)),(0,i.yj)()&&!(0,i.mb)()&&(t="$online_debug"),"".concat((0,a.zs)(12),"-").concat((0,o.p)(window.User.id)).concat(t).concat(e)}},832009:function(e,t,n){"use strict";n.d(t,{nz:function(){return u}});var r=n(359980),o=n(746986),i=/[0-9A-Za-z]{15,}/g,a={doc:"doc",docs:"doc",sheet:"sheet",sheets:"sheet",slide:"slide",slides:"slide",mindnote:"mindnote",mindnotes:"mindnote",bitable:"bitable",base:"bitable",file:"drive",wiki:"wiki"};function c(e){try{"img"===(0,r.default)(e,"target.nodeName","").toLowserCase()&&function(e){var t,n=location,r=n.host,c=n.pathname,u=e.target,s=(u.dataset.src||u.src).replace(i,"$");try{var _=c.replace(/^\/(?:space|drive)/,"").match(/\/([^\/]+)/)[1];t=a[_]||"space"}catch(e){t="space"}(0,o.default)("client_img_load_err",{host:r,product:t,url_path:s})}(e)}catch(e){}}function u(){window.addEventListener("error",c)}},682460:function(e,t,n){"use strict";n.d(t,{G:function(){return ht},j:function(){return vt}});var r,o,i,a,c,u,s=n(774561),_=n(198224),E=n(336133),l=n.n(E),f=n(576134),d=n.n(f),T=n(619214),p=n.n(T),S=n(33630),I=n.n(S),O=n(273231),R=n.n(O),m=n(541303),A=n.n(m),C=n(518778),h=n.n(C),v=n(896625),D=n.n(v),N=n(257169),L=n.n(N),y=n(468342),P=n.n(y),g=n(576743),M=n.n(g),b=n(3584),k=n.n(b),w=n(72452),H=n.n(w),U=n(380524),F=n.n(U),Z=n(343320),x=n.n(Z),B=n(182994),W=n.n(B),G=n(288326),K=n.n(G),V=n(851456),j=n.n(V),Y=n(829226),J=n.n(Y),X=n(883199),q=n.n(X),Q=n(180906),z=n.n(Q),$=n(56237),ee=n.n($),te=n(727999),ne=n.n(te),re=n(848556),oe=n.n(re),ie=n(322122),ae=n.n(ie),ce=n(98131),ue=n.n(ce),se=n(182253),_e=n.n(se),Ee=n(508976),le=n.n(Ee),fe=n(243190),de=n.n(fe),Te=n(764557),pe=n.n(Te),Se=n(27032),Ie=n.n(Se),Oe=n(630415),Re=n.n(Oe),me=n(771669),Ae=n.n(me),Ce=n(466092),he=n.n(Ce),ve=n(1726),De=n.n(ve),Ne=n(766180),Le=n.n(Ne),ye=n(883009),Pe=n.n(ye),ge=n(47940),Me=n.n(ge),be=n(459690),ke=n.n(be),we=n(772796),He=n.n(we),Ue=n(30254),Fe=n.n(Ue),Ze=n(811417),xe=n.n(Ze),Be=n(220498),We=n.n(Be),Ge=n(691786),Ke=n.n(Ge),Ve=n(494568),je=n.n(Ve),Ye=n(586751),Je=n.n(Ye),Xe=n(175574),qe=n.n(Xe),Qe=n(207973),ze=n.n(Qe),$e=n(985523),et=n.n($e),tt=n(604388),nt=n.n(tt),rt=n(482246),ot=n.n(rt),it=n(321471),at=n.n(it),ct=n(721121),ut=n.n(ct),st=n(114991),_t=n.n(st),Et=n(481382),lt=n(180135),ft=n(44014),dt=n(360851),Tt=n(941985),pt=n(484826),St=n(294759),It=(r={},(0,s.Z)(r,Et.FILE_TYPE.BITABLE,P()),(0,s.Z)(r,Et.FILE_TYPE.DOC,F()),(0,s.Z)(r,Et.FILE_TYPE.DOCX,F()),(0,s.Z)(r,Et.FILE_TYPE.SHEET,he()),(0,s.Z)(r,Et.FILE_TYPE.MINDNOTE,ee()),(0,s.Z)(r,Et.FILE_TYPE.SLIDE,Me()),r),Ot=(o={},(0,s.Z)(o,Et.FILE_TYPE.BITABLE,L()),(0,s.Z)(o,Et.FILE_TYPE.DOC,H()),(0,s.Z)(o,Et.FILE_TYPE.DOCX,H()),(0,s.Z)(o,Et.FILE_TYPE.SHEET,Ae()),(0,s.Z)(o,Et.FILE_TYPE.MINDNOTE,z()),(0,s.Z)(o,Et.FILE_TYPE.SLIDE,Pe()),o),Rt=function(e,t){var n={};return e.forEach((function(e){return n[e]=t})),n},mt=Object.assign({},Rt(_.s,j()),{},Rt(_.t,Ke()),{},Rt(_.u,D()),{},Rt(_.v,He()),{},Rt(_.w,Je()),{},Rt(_.f,W()),{},Rt(_.x,pe()),{},Rt(_.y,ze()),{},Rt(_.r,k()),(i={},(0,s.Z)(i,_.k.PDF,le()),(0,s.Z)(i,_.k.AE,d()),(0,s.Z)(i,_.k.AI,I()),(0,s.Z)(i,_.k.PSD,Re()),(0,s.Z)(i,_.k.PSB,Re()),(0,s.Z)(i,_.k.APK,A()),(0,s.Z)(i,_.k.KEY,q()),(0,s.Z)(i,_.k.NUMBERS,oe()),(0,s.Z)(i,_.k.PAGES,ue()),(0,s.Z)(i,_.k.SKETCH,Le()),i)),At=Object.assign({},Rt(_.s,K()),{},Rt(_.t,We()),{},Rt(_.u,h()),{},Rt(_.v,ke()),{},Rt(_.w,je()),{},Rt(_.f,x()),{},Rt(_.x,de()),{},Rt(_.y,qe()),{},Rt(_.r,M()),(a={},(0,s.Z)(a,_.k.PDF,_e()),(0,s.Z)(a,_.k.AE,l()),(0,s.Z)(a,_.k.AI,p()),(0,s.Z)(a,_.k.PSD,Ie()),(0,s.Z)(a,_.k.PSB,Ie()),(0,s.Z)(a,_.k.APK,R()),(0,s.Z)(a,_.k.KEY,J()),(0,s.Z)(a,_.k.NUMBERS,ne()),(0,s.Z)(a,_.k.PAGES,ae()),(0,s.Z)(a,_.k.SKETCH,De()),a));function Ct(e,t){switch(t){case 256:return At[e.toLowerCase()]||Fe();case 32:return mt[e.toLowerCase()]||xe()}}function ht(){if(!St)if((0,ft.isUnderWikiIndex)())vt({src32:_t(),src256:ut()});else if((0,ft.isUnderSuiteView)()){var e=(0,ft.getSuiteTypeStr)();if((0,ft.getSuiteTypeStr)()===Et.FILE_TYPE.FILE)setTimeout((function(){var e=(0,pt.GM)(Tt.ZP.getState());e&&vt({src32:Ct(e.type||"",32),src256:Ct(e.type||"",256)})}),0);else vt({src32:It[e]||Nt(32),src256:Ot[e]||Nt(256)})}else vt({src32:Nt(32),src256:Nt(256)})}function vt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.src32,n=e.src256,r=window.document.querySelector('[rel="icon"][sizes="32x32"]');r&&(r.href=t||Nt(32));var o=window.document.querySelector('[rel="icon"][sizes="256x256"]');o&&(o.href=n||Nt(256))}function Dt(){return(0,lt.Z6)(lt.Lq.CCMWEB_COMMON_FAVICON)||(0,lt.oB)()}function Nt(e){switch(e){case 256:return u||(u=Dt()||((0,dt.VF)()?ot():et())),u;case 32:return c||(c=Dt()||((0,dt.VF)()?at():nt())),c}}},785624:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new Image;t.src=e}n.d(t,{b:function(){return r}})},590846:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(235724);function o(e){(0,r.setStore)(e)}},51473:function(e,t,n){"use strict";n.d(t,{O:function(){return c}});var r=n(44226),o=n(44014),i=n(242759),a=n(234472);function c(){(0,o.isUnderWiki)()?i.Z.emit(a.Z.PC.WIKI.SET_SECRET_KEY_DELETE,!0):location.href=r.TEMPLATE_ROUTE.KEY_INVALID}},192490:function(e,t,n){"use strict";n.d(t,{Cs:function(){return S},CD:function(){return m}});var r=n(919264),o=n(804175),i=n(193035),a=n(573455),c=n(112064),u=n(822462),s=n(359980),_=n(206746),E=n.n(_),l=n(215661),f=n(294759);function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var S,I,O;function R(){return Math.random().toString(36).substr(2)}!function(e){e.ViewSyncStatus="ViewSyncStatus",e.LookupNativeApps="LookupNativeApps",e.OpenFileByNativeApp="OpenFileByNativeApp",e.GetGlobalSyncStatus="GetGlobalSyncStatus",e.GetFolderSyncStatus="GetFolderSyncStatus",e.GetNodeSyncStatus="GetNodeSyncStatus",e.SetFolderSync="SetFolderSync",e.RetrySyncFolder="RetrySyncFolder",e.OpenLocalFolder="OpenLocalFolder",e.NodeSyncStatusUpdate="NodeSyncStatusUpdate",e.GetSyncCoreVersionInfo="GetSyncCoreVersionInfo",e.SyncdiskOnboardingStart="SyncdiskOnboardingStart",e.SyncdiskOnboardingProgressUpdate="SyncdiskOnboardingProgressUpdate",e.RequqestExplorerApi="RequqestExplorerApi",e.ShowWindow="ShowWindow",e.GetIsSyncdiskInstalled="GetIsSyncdiskInstalled",e.SetIsSyncdiskInstalled="SetIsSyncdiskInstalled",e.DownloadSyncdiskInstaller="DownloadSyncdiskInstaller",e.SyncdiskInstallerSetup="SyncdiskInstallerSetup",e.SyncdiskInstallerSetupV2="SyncdiskInstallerSetupV2",e.SyncdiskInstallerRetryV2="SyncdiskInstallerRetryV2",e.StartupSyncDisk="StartupSyncDisk",e.GetSyncDiskLaunchInfo="GetSyncDiskLaunchInfo",e.SyncDiskStatusChange="SyncDiskStatusChange",e.GetSyncdiskStatus="GetSyncdiskStatus",e.CheckSyncDiskUpdate="CheckSyncDiskUpdate",e.GetSyncDiskOnboardingState="GetSyncDiskOnboardingState",e.CancelSyncDiskOnboarding="CancelSyncDiskOnboarding",e.OpenSwitchAccountModal="OpenSwitchAccountModal",e.OpenPathChooseModal="OpenPathChooseModal",e.DownloadPathChanged="DownloadPathChanged",e.DownloadSpeedChanged="DownloadSpeedChanged",e.DownloadTasksAdded="DownloadTasksAdded",e.DownloadTasksRemoved="DownloadTasksRemoved",e.DownloadTasksChanged="DownloadTasksChanged",e.ShowLocalDownloadedFileFailed="ShowLocalDownloadedFileFailed",e.SetIsProcessingInvokeTasks="SetIsProcessingInvokeTasks",e.DownloadFolderSubtaskFailed="DownloadFolderSubtaskFailed",e.ShowDownloadTips="ShowDownloadTips",e.InvokeLocalDownloadPathSelector="InvokeLocalDownloadPathSelector",e.CancelDownloadPathChoose="CancelDownloadPathChoose",e.ConfirmDownloadPathChoose="ConfirmDownloadPathChoose",e.PrepareToDownloadFile="PrepareToDownloadFile",e.GetInitialDownloadData="GetInitialDownloadData",e.ClearAllDownloadTasks="ClearAllDownloadTasks",e.RetryAllFailedDownloadTasks="RetryAllFailedDownloadTasks",e.RetryAllPausedDownloadTasks="RetryAllPausedDownloadTasks",e.PauseAllDownloadTasks="PauseAllDownloadTasks",e.RetryDownloadTask="RetryDownloadTask",e.GetFolderDownloadErrorDetail="GetFolderDownloadErrorDetail",e.OpenDownloadedFileLocalFolder="OpenDownloadedFileLocalFolder",e.PauseDownloadTask="PauseDownloadTask",e.SetProgressViewerReadyStatus="SetProgressViewerReadyStatus",e.UploadSpeedChanged="UploadSpeedChanged",e.UploadTasksAdded="UploadTasksAdded",e.UploadTasksRemoved="UploadTasksRemoved",e.UploadTasksChanged="UploadTasksChanged",e.ShowUploadTips="ShowUploadTips",e.UploadFolderSubtaskFailed="UploadFolderSubtaskFailed",e.InvokeUploadFileSelector="InvokeUploadFileSelector",e.InvokeImportFileSelector="InvokeImportFileSelector",e.InvokeUploadByPaths="InvokeUploadByPaths",e.GetInitialUploadData="GetInitialUploadData",e.SetUploadProgressViewerReadyStatus="SetUploadProgressViewerReadyStatus",e.RetryAllFailedUploadTasks="RetryAllFailedUploadTasks",e.PauseAllUploadTasks="PauseAllUploadTasks",e.RetryAllPausedUploadTasks="RetryAllPausedUploadTasks",e.RetryUploadTask="RetryUploadTask",e.PauseUploadTask="PauseUploadTask",e.GetFolderUploadErrorDetail="GetFolderUploadErrorDetail",e.ClearAllUploadTasks="ClearAllUploadTasks",e.ShowOpenDialog="ShowOpenDialog"}(S||(S={})),function(e){e[e.UNINIT=1]="UNINIT",e[e.TIMEOUT=2]="TIMEOUT",e[e.LARK_EXTENSION_ERR=3]="LARK_EXTENSION_ERR",e[e.SYNC_CORE_ERR=4]="SYNC_CORE_ERR"}(I||(I={}));var m=function(e){(0,a.Z)(c,e);var t=p(c);function c(){var e;(0,r.Z)(this,c),(e=t.call(this)).sendedMsgMap=new Map,e.messageTimer=null,e.isInited=!1;var o=(0,i.Z)(e),a=window.LarkExtensionUI;if(a&&(f||l.Z.isLarkWindow))try{a.initialize({lifecycle:{onCreate:function(){},onStart:function(){e.launchTime=Date.now(),Promise.resolve().then(n.bind(n,746986)).then((function(t){(0,t.default)("launch_web",{subsource:"lark",launchTime:e.launchTime})}))},onStop:function(){if(e.launchTime){var t=Date.now()-e.launchTime,r=e.launchTime;e.launchTime=0,Promise.resolve().then(n.bind(n,746986)).then((function(e){(0,e.default)("launch_duration",{session_duration:Math.floor(t/1e3),subsource:"lark",preDuration:r})}))}}},channel:{onMessage:function(e){var t=o.sendedMsgMap.get(e.id);e.id&&t?(o.removeMessage(e.id),t.resolve(e)):o.emit(e.type,e)}}}),e.isInited=!0}catch(e){console.error("LarkExtensionUI initialize error: ",e)}var u=(0,s.default)(window,"LARKAPI.runtime.sendExtensionReady");return u&&u(),e}return(0,o.Z)(c,[{key:"addMessage",value:function(e,t){this.sendedMsgMap.set(e,t),this.messageTimer||this.startMessageTimer()}},{key:"removeMessage",value:function(e){this.sendedMsgMap.delete(e),0===this.sendedMsgMap.size&&this.stopMessageTimer()}},{key:"startMessageTimer",value:function(){var e=this;this.messageTimer=window.setInterval((function(){var t,n=Date.now(),r=[],o=d(e.sendedMsgMap);try{for(o.s();!(t=o.n()).done;){var i=t.value;i[1].expireTime<n&&r.push(i[0])}}catch(e){o.e(e)}finally{o.f()}r.forEach((function(t){var n=e.sendedMsgMap.get(t);e.removeMessage(t),n.message.err=!0,n.message.errType=I.TIMEOUT,n.reject(n.message)}))}),1e3)}},{key:"stopMessageTimer",value:function(){this.messageTimer&&(clearInterval(this.messageTimer),this.messageTimer=null)}},{key:"postMessage",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:120,r=R();e.id=r;var o=window,i=o.LarkExtensionUI;return this.isInited&&i&&i.channel&&i.channel.postMessage?new Promise((function(o,i){try{window.LarkExtensionUI.channel.postMessage(e),t.addMessage(r,{message:e,resolve:o,reject:i,expireTime:Date.now()+1e3*n})}catch(t){return e.err=!0,e.errType=I.LARK_EXTENSION_ERR,i(e)}})):(e.err=!0,e.errType=I.UNINIT,Promise.reject(e))}}],[{key:"getInstance",value:function(){return O||(O=new c)}}]),c}(E())},223737:function(e,t,n){"use strict";n.d(t,{H:function(){return c},K:function(){return s}});var r=n(693631),o=n(461402),i=n(212020),a=new r.xQ;function c(e){return a.next(e)}var u=new o.t(1);a.pipe((0,i.p)(1e3,void 0,{leading:!0,trailing:!0})).subscribe(u);var s=u.asObservable()},945237:function(e,t,n){"use strict";n.d(t,{c:function(){return f}});var r=n(189443),o=n(496863),i=n(693631),a=n(273181),c=n(339668),u=n(617494),s=n(893835),_=n(746986);function E(e){try{var t=new WeakSet;return JSON.stringify(e,(function(e,n){return(0,r.Z)(n)?t.has(n)?"[Circular]":(t.add(n),(0,o.Z)(n)?n.message:n):n}))}catch(e){return(0,s.Tb)(e),"error during safeJSONStringify"}}var l=new i.xQ;function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;window.User.showLimiterLog&&(r=console).log.apply(r,["[limiter]"].concat(t));l.next(t)}l.pipe((0,a.f)(l.pipe((0,c.b)(1e3))),(0,u.h)((function(e){return e.length>0}))).subscribe((function(e){var t=1===e.length?e[0]:e;(0,_.default)("limit_edit_mode_quantity",{args:JSON.parse(E(t)),__disable_storage__:1})}))},819870:function(e,t,n){"use strict";n.d(t,{pz:function(){return M},jp:function(){return b},Cf:function(){return k},fJ:function(){return w},mo:function(){return F},D1:function(){return Z},vc:function(){return x},XL:function(){return B}});var r,o=n(846775),i=n(531403),a=n(972429),c=n(521469),u=n(886982),s=n(913867),_=n(189443),E=n(742097),l=n(443431),f=(n(216343),n(791670)),d=n(366),T=n(360851),p=n(916061),S=n(764963),I=n(44226),O=n(959341),R=(n(53781),n(782293)),m=n(284113),A=(0,O.j)("LinkHelper"),C="fromEntries"in Object&&(0,o.default)(Object.fromEntries)?Object.fromEntries:function(e){return(0,i.Z)(Array.from(e))},h=function(){return E.Z===location?new URL(location):new URL(E.Z.href)},v=function(e){return(0,_.Z)(e)&&e instanceof URL?e:new URL(e,E.Z.href)},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h();return Object.assign(t,e)}(r?Object.assign({},r,{host:(0,p.vo)("User.domain"),port:""}):{host:(0,p.vo)("User.domain"),port:""}),N=location.hostname.startsWith("local"),L=function(e){return E.Z.origin!==e.origin},y=[I.URL.HOME,I.URL.ME,I.URL.SHARE_FOLDERS,I.URL.FAVORITES,I.URL.WIKI_HOME,I.URL.WIKI_HOME_V2,I.URL.DISCOVER_PAGE],P=(0,c.Z)((function(e){return!e||(!!y.includes(e)||!!(e.startsWith(I.URL.WIKI_SPACE_OVERVIEW)||e.startsWith(I.URL.WIKI_SPACE_SETTING)||e.startsWith(I.URL.WIKI_TRASH)))})),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,d.Nv)()&&(t=Object.assign(t,{forceReload:!0,openInNewTab:!1}));var n=t,r=n.ctrlKey,o=n.metaKey;return(r||o)&&(t=Object.assign(t,{openInNewTab:!0})),!S.Z.isLark&&t.openInNewTab&&(t=Object.assign(t,{forceReload:!0})),T.Q9&&(t=Object.assign(t,{isolatedProcess:!0})),t.isolatedProcess&&S.Z.isSafari&&(t=Object.assign(t,{isolatedProcess:!1})),(t.afterPrepareOptions||[]).reduce((function(t,n){return(0,_.Z)(t)?n(e,t):null}),t)},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};A.debug("openURL",e,t);var n=v(e);N&&(n.protocol=location.protocol,n.host=location.host);var r=g(n,t);if(!r)return!1;var o,i=r.forceReload,a=r.openInNewTab,c=r.overrideHistory,s=r.isolatedProcess,_=r.onlyHistoryState,l=L(n);return i||l?(a?(o=(0,R.C)(n.toString(),"_blank",s?"noopener":void 0),A.debug("window.open",n)):(E.Z.href=n.toString(),A.debug("docsLocation.href",n.toString())),o&&(o.opener=null),o||!0):((c?f.ZP.replace:f.ZP.push)(Object.assign({},(0,u.Z)(n,["pathname","search"]),{state:_})),A.debug(c?"history.replace":"history.push",n.toString()),!0)},b=function(e){return new URL(e,P(e)?D:E.Z.href)},k=function(e,t){return M(b(e),t)},w=function(e){return C(e.entries())},H=["v","vdx","oversea","side_car","vs","vw","vsh","vb","vbt","vtc"];function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.search,r=t.source,o=E.Z.search,i=(0,u.Z)(C(new URLSearchParams(o).entries()),H),a=Object.assign(n||{},r?{from:(0,s.Z)(r)?r:(0,l.b$)()}:void 0);return Object.assign(e,i,a)}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n=v(e),r=n.searchParams,o=U(w(r),t);return"boolean"==typeof t.source&&(t.onlyHistoryState=Object.assign(t.onlyHistoryState||{},{from:o.from})||void 0),n.search=new URLSearchParams(o).toString(),M(n,t)}catch(n){return"boolean"==typeof t.source&&delete t.source,M(e,t)}}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return F(b(e),t)}function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,a.default)(t)?Z((0,o.default)(e)?e():e,n):F(t,n)}function B(e){return!!e&&(T.Ef&&!(0,m.zY)(e))}},750028:function(e,t,n){"use strict";n.d(t,{QZ:function(){return E},si:function(){return l},bz:function(){return f},p_:function(){return d},of:function(){return T},hs:function(){return p}});var r=n(746986),o="mention_show_authorization_popover",i="mention_authorization_ok",a="mention_authorization_cancel",c="profile_click_authorization",u="profile_click_ask_owner",s="profile_authorization_failed",_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.default)(e,Object.assign({},t||{}))},E=function(e){_(o,e)},l=function(e){_(i,e)},f=function(e){_(a,e)},d=function(e){_(c,e)},T=function(e){_(u,e)},p=function(e){_(s,e)}},116072:function(e,t,n){"use strict";n.d(t,{VG:function(){return o},I5:function(){return i},b7:function(){return a}});var r=n(481382);function o(e,t){return"".concat(e,":").concat(t)}var i=function(e){return e.type===r.NUM_FILE_TYPE.WIKI},a=function(e,t){return e.filter((function(e){return!!t[e]}))}},98001:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var r=function(){return!!window.isTest}},978083:function(e,t,n){"use strict";n.d(t,{Gg:function(){return a},ku:function(){return c},cz:function(){return u}});var r=n(746986),o=n(941985),i=n(133573),a=function(){var e=o.ZP.getState();if(!window.__NETWORK_STATE__){try{(0,r.default)("client_network_state_empty",{user_agent:window.navigator.userAgent,is_online:window.navigator.onLine})}catch(e){}return window.navigator.onLine}return(0,i.L)(e)},c="online",u="offline"},45179:function(e,t,n){"use strict";n.d(t,{n:function(){return a}});var r=n(922081),o=n(545145);function i(e){return e?o._[e]||e:""}function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t){var o="\n      请使用'$helpers/suiteHelper'中的getToken\n      因为url形式多样, 如:\n        doc/docXXX\n        wiki/wikXXX\n      你的组件可能需要docXXX而不是wikXXX\n      如果你确认需要解析传入url的token, 请为parseOriginUrl第二个参数传入true\n      如果需要支持请联系 @kuanglijun @zhangraoli\n    ";console.error(o)}var a=/(?:([A-Za-z]+):\/\/)/,u=/(?:([.\-\w]+))/,s=/(?::(\d+))/,_=/(\/[^?#\s\u2E80-\u9FFF]*)/,E=/(\?[^#\s]*)/,l=/(#[^\s]*)/,f=/([\s\S]*)/,d=function(e){return e.map((function(e){return e.source})).join("?")},T=new RegExp("^".concat(d([a,u,s,_,E,l,f]),"?$")),p="",S="";try{p=decodeURIComponent(e)}catch(t){p=unescape(e)}if(!n){var I=c(p);p=I.urlWithRest,S=I.preText}var O=T.exec(p)||[],R=(0,r.Z)(O,8),m=R[1],A=void 0===m?"":m,C=R[2],h=void 0===C?"":C,v=R[3],D=void 0===v?"":v,N=R[4],L=void 0===N?"":N,y=R[5],P=void 0===y?"":y,g=R[6],M=void 0===g?"":g,b=R[7],k=void 0===b?"":b,w=/(?:\/)?(?:space\/|drive\/)?(?:component\/)?([a-zA-Z-_]+)?(?:\/([\w]*))/.exec(L)||[],H={protocol:A,hostname:h,port:D,pathname:L,type:i(w[1]),token:w[2]||"",search:P,hash:M};return n||(H.restText=k,H.preText=S),H}function c(e){var t=e.match(/^((?!https?).|\s)*/);if(t){var n=t[0];return{urlWithRest:e.substring(n.length),preText:n}}return{urlWithRest:e,preText:""}}},261736:function(e,t,n){"use strict";n.d(t,{n:function(){return r}});n(758809);function r(e){return e.replace(/(^\/)|(\/$)/g,"").replace(/\//g,".")}},723111:function(e,t,n){"use strict";n.d(t,{x:function(){return o},M:function(){return r}});var r,o={DOCX_JS_LOADED:1,FETCH_DOCX_CLIENTVARS_START:2,FETCH_DOCX_CLIENTVARS_SUCCESS:3,RENDER_DOCX_ALLOW_EDIT:4,RENDER_DOCX_HEADER_SUCCESS:5,FETCH_DOCX_CATALOGUE_SUCCESS:6,RENDER_DOCX_CATALOGUE_SUCCESS:7,FETCH_DOCX_COMMENT_SUCCESS:8,RENDER_DOCX_COMMENT_SUCCESS:9,RENDER_DOCX_FIRST_SCREEN_SUCCESS:10,RENDER_DOCX_CLIENTVARS_ALL_DONE:11,WORKER_FETCH_DOCX_CLIENTVAR_FINISH:12,WORKER_FETCH_DOCX_CLIENTVAR_TO_MAIN_FINISH:13,RENDER_DOCX_FIRST_CLIENTVAR_SUCCESS:14,RENDER_DOCX_ALLOW_EDIT_WITH_SSR_CLEAN:15};!function(e){e.HTML_DOWNLOAD_END="HTML_DOWNLOAD_END",e.HTML_CSS_START="HTML_CSS_START",e.HTML_CSS_END="HTML_CSS_END",e.HTML_SSR_PARSE_START="HTML_SSR_PARSE_START",e.HTML_SSR_PARSE_SUCESS="HTML_SSR_PARSE_SUCESS",e.HTML_PARSE_END="HTML_PARSE_END",e.APP_JS_DOWNLOAD_END="APP_JS_DOWNLOAD_END",e.APP_JS_AFTER_IMPORT="APP_JS_AFTER_IMPORT",e.APP_JS_EXEC_END="APP_JS_EXEC_END",e.FILE_JS_LOADED_SUCCESS="FILE_JS_LOADED_SUCCESS",e.FILE_ENTRY_LOAD_IMPORT_TIME="FILE_ENTRY_LOAD_IMPORT_TIME",e.FETCH_FILE_CLIENTVARS_START="FETCH_FILE_CLIENTVARS_START",e.FETCH_FILE_CLIENTVARS_SUCCESS="FETCH_FILE_CLIENTVARS_SUCCESS",e.RENDER_FILE_ALLOW_EDIT="RENDER_FILE_ALLOW_EDIT",e.RENDER_FILE_HEADER_START="RENDER_FILE_HEADER_START",e.RENDER_FILE_HEADER_SUCCESS="RENDER_FILE_HEADER_SUCCESS",e.FETCH_FILE_CATALOGUE_SUCCESS="FETCH_FILE_CATALOGUE_SUCCESS",e.RENDER_FILE_CATALOGUE_START="RENDER_FILE_CATALOGUE_START",e.RENDER_FILE_CATALOGUE_SUCCESS="RENDER_FILE_CATALOGUE_SUCCESS",e.FETCH_FILE_COMMENT_START="FETCH_FILE_COMMENT_START",e.FETCH_FILE_COMMENT_SUCCESS="FETCH_FILE_COMMENT_SUCCESS",e.RENDER_FILE_COMMENT_START="RENDER_FILE_COMMENT_START",e.RENDER_FILE_COMMENT_SUCCESS="RENDER_FILE_COMMENT_SUCCESS",e.RENDER_FILE_FIRST_SCREEN_BLOCK_START="RENDER_FILE_FIRST_SCREEN_BLOCK_START",e.RENDER_FILE_FIRST_SCREEN_BLOCK_SUCCESS="RENDER_FILE_FIRST_SCREEN_BLOCK_SUCCESS",e.RENDER_FILE_FIRST_SCREEN_START="RENDER_FILE_FIRST_SCREEN_START",e.RENDER_FILE_FIRST_SCREEN_SUCCESS="RENDER_FILE_FIRST_SCREEN_SUCCESS"}(r||(r={}))},508108:function(e,t,n){"use strict";n.d(t,{s:function(){return r}});var r={NAVIGATION_BAR_SUCCESS:1,BOX_RIGHT_BAR_SUCCESS:2,PREVIEW_BOX_SUCCESS:3}},542218:function(e,t,n){"use strict";n.d(t,{B:function(){return r}});var r={JS_LOADED:1,FETCH_CLIENTVARS_START:2,FETCH_CLIENTVARS_SUCCESS:3,EDITOR_LOADED:4,COMMENT_LOADED:5}},626147:function(e,t,n){"use strict";n.d(t,{P:function(){return r}});var r={SHEET_JS_LOADED:1,FETCH_SHEET_CLIENTVARS_START:2,FETCH_SHEET_CLIENTVARS_SUCCESS:3,SHEET_APPLY_SNAPSHOT_SUCCESS:4,SHEET_FASTER_RENDER_SUCCESS:5,FETCH_SHEET_SUB_BLOCK_START:6,FETCH_SHEET_SUB_BLOCK_COMPLETE:7,SHEET_PLUGIN_LOAD_SUCCESS:8,SHEET_COMMENT_LOAD_SUCCESS:9,FIRST_SHEET_LOADED:10}},88619:function(e,t,n){"use strict";n.d(t,{Cy:function(){return S},h7:function(){return I},wg:function(){return p}});var r,o,i,a=n(742097),c=n(399643),u=n(359980),s=n(189443),_=n(913867),E=n(357081),l=n(893835),f=n(746986),d=["/api/bitable/update_meta/","/api/comment/add/","/api/comment/all/","/api/comment/get/","/api/comment/reply/add/","/api/comment/reply/delete/","/api/comment/reply/mget/","/api/comment/reply/update/","/api/comment/update/","/api/comment/whole/get/","/api/experiment/usermodify/","/api/experiment/userquery/","/api/explorer/create/","/api/explorer/clone/","/api/explorer/copy_by_obj_token/","/api/explorer/delete/","/api/explorer/get/","/api/explorer/get_recent/","/api/explorer/get_token_info/","/api/explorer/move/","/api/explorer/obj/delete/","/api/explorer/path_stack/","/api/explorer/pin/add/","/api/explorer/pin/get/","/api/explorer/pin/remove/","/api/explorer/recent/report/","/api/explorer/rename/","/api/explorer/root/","/api/explorer/root/get/","/api/explorer/share/create/","/api/explorer/share/dismiss/","/api/explorer/share/folder/","/api/explorer/share/folder/hide/","/api/explorer/share/folder/update/","/api/explorer/share/home/","/api/explorer/share/object/","/api/explorer/space/add/","/api/explorer/space/apply_permission/","/api/explorer/space/mget/","/api/explorer/space/remove/","/api/explorer/star/add/","/api/explorer/star/get/","/api/explorer/star/remove/","/api/explorer/trash/delete/","/api/explorer/trash/restore/","/api/like/count/","/api/like/data/","/api/like/dislike/","/api/like/like/","/api/mention/chatid/","/api/message/get_message/","/api/message/join_on_call_chat/","/api/message/read/","/api/message/read_all/","/api/obj_template/create_obj/","/api/obj_template/list/","/api/obj_recommend/get/","/api/parser/export/","/api/parser/getresult/","/api/parser/get_export_result/","/api/parser/get_export_result","/api/parser/export","/api/passport/heartbeat/","/api/passport/ws_ticket/","/api/rce/messages/CLIENT_VARS","/api/rce/messages/ENGAGEMENT_CURSOR","/api/rce/messages/GET_EDITMODE_QUANTITY","/api/rce/messages/MESSAGE_CHANNEL","/api/rce/messages/NEW_CHANGES","/api/rce/messages/REQUEST_EDIT","/api/rce/messages/UNWATCH","/api/rce/messages/USER_CHANGES","/api/rce/messages/USER_COMMENT","/api/rce/messages/USER_HEARTBEAT","/api/rce/messages/WATCH","/api/resource_package/get_info/","/api/sheet/","/api/search/obj/","/api/search/permission_candidates/","/api/suite/permission/apply_permission/","/api/suite/permission/members/","/api/suite/permission/members/create/","/api/suite/permission/members/delete/","/api/suite/permission/members/transfer/","/api/suite/permission/members/update/","/api/suite/permission/user/","/api/suite/permission.v2/public/","/api/suite/permission.v2/public/update/","/api/suite/permission.v2/user/","/api/survey/pull/","/api/user/","/api/user/detail","/api/user/get_et","/api/user/setting/","/api/user/setting/update","/api/user_guide/done/","/api/user_guide/get/","/api/user_guide/update/","/api/v2/sheet/first_block","/api/v2/sheet/sub_block","/api/mindnote/v2/user_changes","/api/mindnote/v2/new_changes","/api/mindnote/v2/client_vars","/api/v2/sheet/import_range_meta/"],T=n(294759),p=function(e){var t=e.url,n=e.data;if(performance.getEntriesByType&&t.startsWith("/api/")){var r=performance.getEntriesByType("resource").filter((function(e){return e.name.includes(t)}));if(r&&r.length){if(t.includes("?")&&(t=t.substr(0,t.lastIndexOf("?"))),(t.startsWith("/api/sheet/")||t.startsWith("/api/doc/")||t.startsWith("/api/bitable/")||t.startsWith("/api/suite/")||t.startsWith("/api/parser/import/")||t.startsWith("/api/parser/larkimport/"))&&t.endsWith("/"))t=t.substr(0,t.lastIndexOf("/",t.lastIndexOf("/")-1)+1);else if(t.startsWith("/api/sheet/histories/")||t.startsWith("/api/sheet/cs_range/"))t=t.substr(0,t.lastIndexOf("/")+1);else if(/\/api\/bitable\/\w+\/version\//.test(t))t="/api/bitable/version/";else if(!d.includes(t))return;var o=r[r.length-1],i=o.secureConnectionStart;i||(i=o.connectEnd);var a="";if(t==="".concat(E.mb.POST_RCE_MESSAGE)&&n){var c=n.data;(0,s.Z)(c)&&"type"in c?a="/".concat(c.type):(0,_.Z)(c)&&(c=JSON.parse(c),a="/".concat(c&&c.data&&c.data.type))}var u={url:t+a,stalled_queueing_time:Math.round(100*(o.requestStart-o.connectEnd))/100,dns_lookup_time:Math.round(100*(o.domainLookupEnd-o.domainLookupStart))/100,initial_connection_time:Math.round(100*(i-o.connectStart))/100,ssl_connect_time:Math.round(100*(o.connectEnd-i))/100,waiting_time:Math.round(100*(o.responseStart-o.requestStart))/100,content_download_time:Math.round(100*(o.responseEnd-o.responseStart))/100,api_duration:Math.round(100*o.duration)/100,request_id:n.request_id,log_id:n.log_id,code:n.code};(0,f.collectSuiteEvent)("client_performance_api_url",u)}}},S=(r=1,o=0,i=0,{setIsSsd:function(){r=0},setLoadStartTime:function(){o=Number(new Date)},getLoadStartTime:function(){return o},setBlockCount:function(e){if(i=0,e)for(var t=e.sheets||{},n=0,r=Object.values(t);n<r.length;n++){var o=r[n].blocks||[];i+=o.length}},collectData:function(e,t){if(e.getActiveSheet()){var n=o;if(r&&!(n=performance.timing.navigationStart))return;var a={time_cost:Number(new Date)-n,is_ssd:r,block_count:i};(0,f.collectSuiteEvent)(t,a)}}}),I=function(e){if(window.performance&&window.performance.mark&&!(0,u.default)(window,"__DOCS_PERF_FLAG_MAP__.firstReady")){window.__DOCS_PERF_FLAG_MAP__.firstReady=!0;try{var t="perf_".concat(e.moduleName,"_first_ready"),n="perf_".concat(e.moduleName,"_ready");performance.mark(n),performance.measure(t,E.Sv.HTML_LOADED,n);var r=performance.getEntriesByName(t)[0],o="web";T?o="file:"===location.protocol?"spacetab_offline":"spacetab_online":c.default.isLarkWindow?o="lark_window":c.default.isFeed&&(o="lark_feed"),(0,f.collectSuiteEvent)(t,Object.assign({startTime:r.startTime,duration:r.duration,name:r.name},e.params,{isStaging:a.Z.href.includes("staging"),source:o})),console.log(t,r.duration/1e3),e.callback&&"function"==typeof e.callback&&e.callback(r)}catch(e){(0,l.Tb)(e)}}}},718361:function(e,t,n){"use strict";n.d(t,{bv:function(){return r},Du:function(){return i},LZ:function(){return a},sX:function(){return c}});var r,o=n(746986);!function(e){e.Share_Menu_Open="Share_Menu_Open",e.Invite_Member="Invite_Member",e.Unauth="unauth"}(r||(r={}));var i={shareMenuOpenStartTime:-1,inviteMemberStartTime:-1};function a(){i.shareMenuOpenStartTime=Date.now()}function c(e){(0,o.default)("perm_performance_stage",Object.assign({},e))}},412840:function(e,t,n){"use strict";n.d(t,{CP:function(){return B},lg:function(){return W},dM:function(){return G},$A:function(){return K},_b:function(){return V},OT:function(){return j},Ow:function(){return Y},WO:function(){return J},ZT:function(){return X},Vl:function(){return q},OP:function(){return Q},Mf:function(){return z},Nk:function(){return $},O6:function(){return re},u6:function(){return oe},w4:function(){return ie},d8:function(){return ae},uZ:function(){return ce},IP:function(){return ue},aF:function(){return se},n3:function(){return _e},bU:function(){return Ee},$h:function(){return le},zy:function(){return de},Ol:function(){return pe},H5:function(){return Se},LY:function(){return me},J5:function(){return Ae},TG:function(){return Ce},so:function(){return he},yV:function(){return ve},gA:function(){return De},nf:function(){return Ne},O$:function(){return Le},f7:function(){return ye},ay:function(){return Pe},f6:function(){return ge},xV:function(){return Me},e9:function(){return ke},Le:function(){return He},kT:function(){return Ue},hy:function(){return Ke},XI:function(){return Ve},EQ:function(){return je},w2:function(){return Ye},GP:function(){return Je},$2:function(){return Xe},OE:function(){return qe},Ey:function(){return Qe},h9:function(){return ze},A4:function(){return $e},vR:function(){return et},X$:function(){return tt},hI:function(){return nt},in:function(){return rt},aT:function(){return ot},Zc:function(){return it},Q8:function(){return ct},Ls:function(){return ut},lJ:function(){return st},Q0:function(){return _t},iT:function(){return Et}});var r,o,i,a,c,u,s,_,E,l=n(922081),f=n(774561),d=n(298652),T=n(654313),p=n(770302),S=n(336615),I=n(829033),O=n(222023),R=n(359980),m=n(742097),A=n(455982),C=n(812083),h=n(481382),v=n(917406),D=n(76398),N=n(671914),L=n(702115),y=n(442086),P=n(941985),g=n(60618),M=g("common.separator_1"),b=h.PERMISSION.SHAREABLE,k=h.PERMISSION.EDITABLE,w=h.PERMISSION.COMMENTABLE,H=h.PERMISSION.READABLE,U=h.PERMISSION.ANYONE_READABLE,F=h.PERMISSION.ANYONE_EDITABLE,Z=[h.PERMISSION.PRIVATE,H,w,k,b,h.PERMISSION.FULL_ACCESS].concat((0,d.Z)(h.OTHER_PERMISSIONS)),x=(r={},(0,f.Z)(r,w,g("permission.commentable_1")),(0,f.Z)(r,-w,g("permission.notcommentable_1")),(0,f.Z)(r,b,g("permission.shareable_1")),(0,f.Z)(r,-b,g("permission.not_sharable_1")),(0,f.Z)(r,k,g("permission.link_editable_2")),(0,f.Z)(r,H,g("permission.link_redable_2")),(0,f.Z)(r,-H,g("permission.link_not_accessible_1")),(0,f.Z)(r,U,g("permission.link_redable_anyone")),(0,f.Z)(r,F,g("permission.link_editable_anyone")),{prefix:"",suffix:"",separator:M});function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},x,{},t),r=n.prefix,o=n.suffix,i=n.separator;return r+e.join(i)+o}function W(e){var t=e.slice(0,-1),n=e[e.length-1],r="";return e.length&&(r="I can ".concat(t.join(", ")),r+="".concat(t.length?" and ":"").concat(n,".")),r}var G=function(e){return Boolean(e&h.PERMISSION.EDITABLE)},K=function(e,t){if(void 0===e||0===e.length)return[];var n=e.filter((function(e){return e<=h.PERMISSION.SHAREABLE})),r=function(e){return-1===e.indexOf(h.PERMISSION.COMMENTABLE)&&-1===e.indexOf(h.PERMISSION.EDITABLE)}(n),o=n.every((function(e){return e<h.PERMISSION.COMMENTABLE}));return(t?n.filter(t):n).filter((function(e){return r||o?e:e!==h.PERMISSION.READABLE})).map((function(e){return h.VISITOR_PERMISSION_SETTINGS[e]})).filter((function(e){return!(0,I.default)(e)}))};function V(e){var t=Number(e);return{readable:Boolean(1&t),commentable:Boolean(2&t),editable:Boolean(4&t),shareable:Boolean(8&t)}}function j(e,t){return(0,S.Z)(e.filter((function(e){return t&e})))||0}function Y(e){var t=Number(e);return j(h.PERMISSIONS,t)}function J(e){return e&&e.get("linkShareEntity")}function X(e){var t=Z.map((function(t){return e&t})).filter((function(e){return 0!==e}));return t.length?t:t.concat([0])}function q(e){return(0,p.Z)(e)}function Q(e){return!(!e||0===e.length)&&e.indexOf(h.PERMISSION.READABLE)>-1}function z(e){return!(!e||0===e.length)&&e.indexOf(h.PERMISSION.COMMENTABLE)>-1}function $(e){return!(!e||0===e.length)&&e.indexOf(h.PERMISSION.EDITABLE)>-1}var ee,te,ne=function(e){return!(!e||0===e.length)};function re(e){return ne(e)&&e.indexOf(h.PERMISSION.SHAREABLE)>-1}function oe(e){return ne(e)&&e.indexOf(h.OTHER_PERMISSION.COPY)>-1}function ie(e){return ne(e)&&e.indexOf(h.OTHER_PERMISSION.EXPORT)>-1}function ae(e){return ne(e)&&e.indexOf(h.OTHER_PERMISSION.PRINT)>-1}function ce(){return P.ZP?Ie((0,L.xr)(P.ZP.getState())):0}function ue(){return P.ZP?(0,L.uQ)(P.ZP.getState()):""}function se(){return P.ZP?(0,L.j0)(P.ZP.getState()):""}function _e(){return P.ZP?(0,L.pQ)(P.ZP.getState()):0}function Ee(){return P.ZP?(0,L.uh)(P.ZP.getState()):""}function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{readable:Q(e),commentable:z(e),editable:$(e),shareable:re(e)}}var fe={};function de(e){var t=Symbol(e);return fe[t]=e,ee?e(te):ee=Te(),function(){delete fe[t]}}function Te(){return function(e,t){var n;function r(){var r=e(P.ZP.getState());r===n||(0,O.default)(r,n)||t(n=r)}var o=P.ZP.subscribe(r);return r(),o}(L.xr,(function(e){te=e&&e.toJS()||[],Object.getOwnPropertySymbols(fe).forEach((function(e){setTimeout((function(){var t=fe[e];t&&t(te)}),0)}))}))}function pe(){return ee||(ee=Te()),z(te)}function Se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=[];return Object.values(h.PUBLIC_PERMISSION).forEach((function(n){n.includes(e)&&(t=n)})),t}function Ie(e){return e.reduce((function(e,t){return e+t}),0)}var Oe=(o={},(0,f.Z)(o,h.OWNER_TYPE.NORMAL,h.OWNER_TYPE_UNDER_SHARE_FOLDER.USER),(0,f.Z)(o,h.OWNER_TYPE.LARK,h.OWNER_TYPE_UNDER_SHARE_FOLDER.USER),(0,f.Z)(o,h.OWNER_TYPE.LARK_CHAT_GROUP,h.OWNER_TYPE_UNDER_SHARE_FOLDER.GROUP),(0,f.Z)(o,h.OWNER_TYPE.UN_REGISTER,h.OWNER_TYPE_UNDER_SHARE_FOLDER.UN_REGISTER),(0,f.Z)(o,h.OWNER_TYPE.DEPARTMENT,h.OWNER_TYPE_UNDER_SHARE_FOLDER.DEPARTMENT),o),Re=Object.assign({},Oe,(0,f.Z)({},h.OWNER_TYPE.LARK_CHAT_GROUP,h.OWNER_TYPE_UNDER_SHARE_FOLDER.FOLDER_V3_GROUP));function me(e,t){var n=t?Re[e]:Oe[e];return void 0!==n?n:e}function Ae(e){return e===h.OWNER_TYPE.LARK?h.OWNER_TYPE.NORMAL:e}function Ce(e){return e===h.OWNER_TYPE.NORMAL?"user":"chat"}function he(e,t,n,r){var o=e.getIn(["".concat(r,":").concat(n),"members"]);return o?o.toJS().map((function(e){if(e.owner_type!==h.OWNER_TYPE.NORMAL)return e;var n=t.get(e.owner_id);return n?Object.assign({},e,n.toJS()):e})):[]}function ve(e,t,n){return e.getIn(["".concat(n,":").concat(t),"permission"])}function De(e,t){return e.getIn([t,"singleContainerFolderUserActions"])}function Ne(e){return e?(0,y.jI)():(0,y.wD)()}function Le(e){return Ne(e)?g("permission.link_sharing_btn_text"):g("common.share")}function ye(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[];return e&h.PERMISSION.READABLE&&n.push(h.LINK_SHARE_PERMISSION.READABLE,h.LINK_SHARE_PERMISSION.ANYONE_READABLE),t&&e&h.PERMISSION.EDITABLE&&n.push(h.LINK_SHARE_PERMISSION.EDITABLE,h.LINK_SHARE_PERMISSION.ANYONE_EDITABLE),n}function Pe(e){var t=[];return Object.values(h.NEW_PUBLIC_PERMISSION).forEach((function(n){n.includes(e)&&(t=n)})),t}function ge(e){return[h.LINK_SHARE_PERMISSION.ANYONE_READABLE,h.LINK_SHARE_PERMISSION.ANYONE_EDITABLE].includes(e)}function Me(e){return[h.FOLDER_PUBLIC_PERMISSION.ANYONE_READABLE,h.FOLDER_PUBLIC_PERMISSION.SINGLE_CONTAINER_FOLDER_ANYONE_READABLE].includes(e)}var be=(i={},(0,f.Z)(i,h.FOLDER_PUBLIC_PERMISSION.PRIVATE,h.LINK_SHARE_PERMISSION.PRIVATE),(0,f.Z)(i,h.FOLDER_PUBLIC_PERMISSION.READABLE,h.LINK_SHARE_PERMISSION.READABLE),(0,f.Z)(i,h.FOLDER_PUBLIC_PERMISSION.EDITABLE,h.LINK_SHARE_PERMISSION.EDITABLE),(0,f.Z)(i,h.FOLDER_PUBLIC_PERMISSION.SINGLE_CONTAINER_FOLDER_ANYONE_READABLE,h.LINK_SHARE_PERMISSION.ANYONE_READABLE),(0,f.Z)(i,h.FOLDER_PUBLIC_PERMISSION.ANYONE_READABLE,h.LINK_SHARE_PERMISSION.ANYONE_READABLE),i);function ke(e){return be[e]}var we=(a={},(0,f.Z)(a,h.LINK_SHARE_PERMISSION.PRIVATE,h.FOLDER_PUBLIC_PERMISSION.PRIVATE),(0,f.Z)(a,h.LINK_SHARE_PERMISSION.READABLE,h.FOLDER_PUBLIC_PERMISSION.READABLE),(0,f.Z)(a,h.LINK_SHARE_PERMISSION.EDITABLE,h.FOLDER_PUBLIC_PERMISSION.EDITABLE),(0,f.Z)(a,h.LINK_SHARE_PERMISSION.ANYONE_READABLE,h.FOLDER_PUBLIC_PERMISSION.ANYONE_READABLE),a);function He(e){return we[e]}var Ue=[h.LINK_SHARE_PERMISSION.READABLE,h.LINK_SHARE_PERMISSION.EDITABLE,h.LINK_SHARE_PERMISSION.ANYONE_READABLE,h.LINK_SHARE_PERMISSION.ANYONE_EDITABLE],Fe=[h.PERMISSION.FULL_ACCESS,h.PERMISSION.EDITABLE,h.PERMISSION.READABLE,h.PERMISSION.PRIVATE],Ze=[h.FOLDER_PERMISSION.FULL_ACCESS,h.FOLDER_PERMISSION.EDITABLE,h.FOLDER_PERMISSION.READABLE],xe=(c={},(0,f.Z)(c,h.COMMENT_PERMISSION.EDITABLE,g("permission.notcommentable_1")),(0,f.Z)(c,h.COMMENT_PERMISSION.READABLE,g("permission.commentable_1")),c),Be=(u={},(0,f.Z)(u,h.SHARE_PERMISSION.ANYONE_SHAREABLE,g("permission.shareable_1")),(0,f.Z)(u,h.SHARE_PERMISSION.TANENT_SHAREABLE,g("permission.shareable_1")),(0,f.Z)(u,h.SHARE_PERMISSION.PRIVATE,g("permission.not_sharable_1")),u),We=(s={},(0,f.Z)(s,h.LINK_SHARE_PERMISSION.EDITABLE,g("permission.link_editable_2")),(0,f.Z)(s,h.LINK_SHARE_PERMISSION.READABLE,g("permission.link_redable_2")),(0,f.Z)(s,h.LINK_SHARE_PERMISSION.PRIVATE,g("permission.link_not_accessible_1")),(0,f.Z)(s,h.LINK_SHARE_PERMISSION.ANYONE_READABLE,g("permission.link_redable_anyone")),(0,f.Z)(s,h.LINK_SHARE_PERMISSION.ANYONE_EDITABLE,g("permission.link_editable_anyone")),s),Ge=(_={},(0,f.Z)(_,h.PUBLIC_PERMISSION_TYPE.COMMENT_ENTITY,xe),(0,f.Z)(_,h.PUBLIC_PERMISSION_TYPE.SHARE_ENTITY,Be),(0,f.Z)(_,h.PUBLIC_PERMISSION_TYPE.LINK_SHARE_ENTITY,We),_),Ke=function(e){return e?Fe:[h.PERMISSION.EDITABLE,h.PERMISSION.READABLE]},Ve=function(e){return e?Ze:[h.FOLDER_PERMISSION.EDITABLE,h.FOLDER_PERMISSION.READABLE]},je=function(e){var t=Object.entries(Ge).map((function(t){var n=(0,l.Z)(t,2),r=n[0],o=n[1],i=e.get(r);return(0,I.default)(i)?"":o[i]}));return t=t.filter((function(e){return""!==e&&!(0,I.default)(e)}))},Ye=function(e,t){var n=(0,N.mB)(m.Z.search).readonlyMode;return"true"===(void 0===n?"false":n)?Boolean(e&h.PERMISSION.EDITABLE)?h.PERMISSION.READABLE:e:h.isAnonymousAccess?(0,D.P0)(e,t):e},Je=function(e){var t=(0,A.I1)(e)?e.toJS():e,n=t.collaborator_id,r=t.collaborator_type,o=t.collaborator_name,i=Object.assign({owner_id:n,owner_type:r,owner_name:o},t);return(0,A.I1)(e)?(0,A.D5)(i):i},Xe=function(e,t){return e&&e.get(t)},qe=function(e){var t,n=(t={},(0,f.Z)(t,h.PERM_ACTION_TYPE.INVITE_CAN_VIEW,h.FOLDER_PERMISSION.READABLE),(0,f.Z)(t,h.PERM_ACTION_TYPE.INVITE_CAN_EDIT,h.FOLDER_PERMISSION.EDITABLE),(0,f.Z)(t,h.PERM_ACTION_TYPE.INVITE_FULL_ACCESS,h.FOLDER_PERMISSION.FULL_ACCESS),t),r=[];return Object.keys(n).forEach((function(t){Xe(e,t)!==h.FOLDER_V3_PERMISSION.ALLOW&&r.push(n[t])})),r},Qe=function(e,t,n){var r,o=t&&t.get("id")===n.get("id"),i=t&&t.get("tenant_id")===n.get("tenant_id"),a=null;if(e===h.FOLDER_PERMISSION.EDITABLE||o)r={},(0,f.Z)(r,h.PERM_ACTION_TYPE.VIEW,h.FOLDER_V3_PERMISSION.ALLOW),(0,f.Z)(r,h.PERM_ACTION_TYPE.EDIT,h.FOLDER_V3_PERMISSION.ALLOW),(0,f.Z)(r,h.PERM_ACTION_TYPE.DOWNLOAD,h.FOLDER_V3_PERMISSION.ALLOW),(0,f.Z)(r,h.PERM_ACTION_TYPE.CREATE_SUB_NODE,h.FOLDER_V3_PERMISSION.ALLOW),(0,f.Z)(r,h.PERM_ACTION_TYPE.BE_MOVED,h.FOLDER_V3_PERMISSION.ALLOW),(0,f.Z)(r,h.PERM_ACTION_TYPE.MOVE_FROM,h.FOLDER_V3_PERMISSION.ALLOW),(0,f.Z)(r,h.PERM_ACTION_TYPE.MANAGE_COLLABORATOR,i?h.FOLDER_V3_PERMISSION.ALLOW:h.FOLDER_V3_PERMISSION.FORBIDDEN),(0,f.Z)(r,h.PERM_ACTION_TYPE.MANAGE_META,o?h.FOLDER_V3_PERMISSION.ALLOW:h.FOLDER_V3_PERMISSION.FORBIDDEN),(0,f.Z)(r,h.PERM_ACTION_TYPE.INVITE_FULL_ACCESS,h.FOLDER_V3_PERMISSION.FORBIDDEN),(0,f.Z)(r,h.PERM_ACTION_TYPE.INVITE_CAN_EDIT,h.FOLDER_V3_PERMISSION.ALLOW),(0,f.Z)(r,h.PERM_ACTION_TYPE.INVITE_CAN_VIEW,h.FOLDER_V3_PERMISSION.ALLOW),a=r;else if(e===h.FOLDER_PERMISSION.READABLE){var c;c={},(0,f.Z)(c,h.PERM_ACTION_TYPE.VIEW,h.FOLDER_V3_PERMISSION.ALLOW),(0,f.Z)(c,h.PERM_ACTION_TYPE.EDIT,h.FOLDER_V3_PERMISSION.FORBIDDEN),(0,f.Z)(c,h.PERM_ACTION_TYPE.DOWNLOAD,h.FOLDER_V3_PERMISSION.ALLOW),(0,f.Z)(c,h.PERM_ACTION_TYPE.CREATE_SUB_NODE,h.FOLDER_V3_PERMISSION.FORBIDDEN),(0,f.Z)(c,h.PERM_ACTION_TYPE.BE_MOVED,h.FOLDER_V3_PERMISSION.ALLOW),(0,f.Z)(c,h.PERM_ACTION_TYPE.MOVE_FROM,h.FOLDER_V3_PERMISSION.FORBIDDEN),(0,f.Z)(c,h.PERM_ACTION_TYPE.MANAGE_COLLABORATOR,i?h.FOLDER_V3_PERMISSION.ALLOW:h.FOLDER_V3_PERMISSION.FORBIDDEN),(0,f.Z)(c,h.PERM_ACTION_TYPE.MANAGE_META,h.FOLDER_V3_PERMISSION.FORBIDDEN),(0,f.Z)(c,h.PERM_ACTION_TYPE.INVITE_FULL_ACCESS,h.FOLDER_V3_PERMISSION.FORBIDDEN),(0,f.Z)(c,h.PERM_ACTION_TYPE.INVITE_CAN_EDIT,h.FOLDER_V3_PERMISSION.FORBIDDEN),(0,f.Z)(c,h.PERM_ACTION_TYPE.INVITE_CAN_VIEW,h.FOLDER_V3_PERMISSION.FORBIDDEN),a=c}return a&&(0,A.D5)(a)},ze=function(){var e;return e={},(0,f.Z)(e,h.PERM_ACTION_TYPE.VIEW,h.FOLDER_V3_PERMISSION.ALLOW),(0,f.Z)(e,h.PERM_ACTION_TYPE.EDIT,h.FOLDER_V3_PERMISSION.ALLOW),(0,f.Z)(e,h.PERM_ACTION_TYPE.DOWNLOAD,h.FOLDER_V3_PERMISSION.ALLOW),(0,f.Z)(e,h.PERM_ACTION_TYPE.CREATE_SUB_NODE,h.FOLDER_V3_PERMISSION.ALLOW),(0,f.Z)(e,h.PERM_ACTION_TYPE.BE_MOVED,h.FOLDER_V3_PERMISSION.ALLOW),(0,f.Z)(e,h.PERM_ACTION_TYPE.MOVE_FROM,h.FOLDER_V3_PERMISSION.ALLOW),e},$e=function(e){var t;return(t={},(0,f.Z)(t,h.DELETE,"remove"),(0,f.Z)(t,h.OWNER_TRANSFER,"set_owner"),(0,f.Z)(t,h.PERMISSION.READABLE,"read"),(0,f.Z)(t,h.PERMISSION.EDITABLE,"edit"),(0,f.Z)(t,h.PERMISSION.FULL_ACCESS,"full_access"),t)[e]},et=function(e){var t=(0,R.default)(e,"error.code");return t===C.BITABLE_UPGRADE_FORBIDDEN?C.ERROR_CODE_MAP[C.BITABLE_UPGRADE_FORBIDDEN].description:t===C.PERMISSION_SINGLE_CONTAINER_UPGRADE?g("CreationDoc_DataUpgrade_Locked_toast"):""},tt=function(e){var t="";return e?e.token&&e.type?e.token.length<20&&(t="error_token_length"):t="empty_token_or_type":t="embed_object_empty",{isValid:!t,logParams:{reason:t,childTokenLen:e&&e.token&&e.token.length,childType:e&&e.type}}},nt=function(e){return e-1};function rt(e){return(0,A.I1)(e)||A.WV.isRecord(e)?e.toJS():e}var ot=function(e,t){return!!e&&function(e,t){return(rt(e)||{})[t]}(rt(e),t)===h.FOLDER_V3_PERMISSION.ALLOW},it=function(e,t){if(!e)return!1;var n=rt(e);return Array.isArray(t)?t.some((function(e){return ot(n,e)})):ot(n,t)},at=(E={},(0,f.Z)(E,h.PERMISSION.READABLE,h.PERM_ACTION_TYPE.VIEW),(0,f.Z)(E,h.PERMISSION.COMMENTABLE,h.PERM_ACTION_TYPE.COMMENT),(0,f.Z)(E,h.PERMISSION.EDITABLE,h.PERM_ACTION_TYPE.EDIT),(0,f.Z)(E,h.PERMISSION.SHAREABLE,h.PERM_ACTION_TYPE.MANAGE_COLLABORATOR),(0,f.Z)(E,h.PERMISSION.FULL_ACCESS,h.PERM_ACTION_TYPE.MANAGE_META),(0,f.Z)(E,h.OTHER_PERMISSION.COPY,h.PERM_ACTION_TYPE.COPY),(0,f.Z)(E,h.OTHER_PERMISSION.EXPORT,h.PERM_ACTION_TYPE.EXPORT),(0,f.Z)(E,h.OTHER_PERMISSION.PRINT,h.PERM_ACTION_TYPE.PRINT),E),ct=function(e){var t=[];return Object.keys(at).forEach((function(n){var r=Number(n);(function(e,t){if(!e)return!1;var n=rt(e);return Array.isArray(t)?t.every((function(e){return ot(n,e)})):ot(n,t)})(e,at[r])&&(t=t.concat(X(r)))})),q((0,T.Z)(t))},ut=function(){var e=P.ZP.getState();return(0,L.Yg)(h.PERM_ACTION_TYPE.INVITE_CAN_VIEW)(e)?v.Op.CONTAINER:v.Op.SINGLE},st=function(e,t){return e&&e.find((function(e){return e.value===t}))},_t=function(){var e=P.ZP.getState();return(0,L.Yg)(h.PERM_ACTION_TYPE.VISIT_SECRET_LEVEL)(e)},Et=function(){var e=P.ZP.getState();return(0,L.Yg)(h.PERM_ACTION_TYPE.MODIFY_SECRET_LEVEL)(e)}},782293:function(e,t,n){"use strict";n.d(t,{C:function(){return s}});var r=n(4374),o=n(215661),i=n(339956),a=n(671914),c=n(521543);function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_blank",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=document.createElement("a");r.href=(null==e?void 0:e.toString())||"",r.target=t,r.rel=n,r.click()}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_blank",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=null,_=!1,E=n,l={},f="_blank"===t,d=/\bopener\b/.test(n),T=/\bnoopener\b/.test(n),p=(0,c.q)(),S=p.noopener_tab_limit,I=void 0===S?0:S,O=p.mock_safari_open,R=void 0!==O&&O;if(R&&o.Z.isSafari&&(!o.Z.version||parseFloat(String(o.Z.version))>=15.4)&&(u(e,t,E),_=!0),!_&&!d&&f&&!T&&r.Ry.isProcessing){var m=r.Ry.getTabCount();m>=I&&(u(e,t,E=n?"".concat(n," noopener"):"noopener"),_=!0),l={total_tab_count:m}}return _||(s=window.open(e,t,E)),l=Object.assign({open_file_type:(0,i.pv)(e),open_target:t||"none",open_features:E||"none",open_from:(0,a.PF)(e)||"none",noopener_tab_limit:I},l),window.collectEvent&&window.collectEvent("window_open",l),s}},564897:function(e,t,n){"use strict";n.d(t,{ws:function(){return i},C:function(){return a},ms:function(){return c},g7:function(){return u},c0:function(){return s},iJ:function(){return _},Ce:function(){return E},KI:function(){return l},OF:function(){return f},Zf:function(){return d},xM:function(){return T},Rm:function(){return p},a6:function(){return S},pB:function(){return I},My:function(){return O},VA:function(){return R},wU:function(){return m},Go:function(){return A}});var r=n(742097),o=n(671914);function i(){var e=(0,o.mB)(window.location.search).hideHeader;return"true"===e||"1"===e}function a(){var e=(0,o.mB)(window.location.search).hideSider;return"true"===e||"1"===e}function c(){return"true"===(0,o.mB)(window.location.search).hideDirectory}function u(){return"true"===(0,o.mB)(window.location.search).noPinDirectory}function s(){return"true"===(0,o.mB)(window.location.search).shwm}function _(){return(0,o.mB)(window.location.search).mode}function E(){return"true"===(0,o.mB)(window.location.search).hideHelpBtn}function l(){var e=(0,o.mB)(window.location.search),t=e.open_type,n=e.sub_type;return"report"===t&&"template"===n}function f(){return/hideTitle=true/.test(r.Z.search)}function d(){return"true"===(0,o.mB)(window.location.search).hideCommentBtn}function T(){return"true"===(0,o.mB)(window.location.search).hideGlobalCommentBtn}function p(){return"true"===(0,o.mB)(window.location.search).hideGlobalLike}function S(){return"true"===(0,o.mB)(window.location.search).hideGlobalComment}function I(){return"true"===(0,o.mB)(window.location.search).blockMentionUser}function O(){return"true"===(0,o.mB)(window.location.search).hideBidirectionalLink}function R(){var e=(0,o.mB)(window.location.search),t=e.open_type,n=e.sub_type;return"report"===t&&"read"===n}function m(){return/mode=wide/.test(r.Z.search)}function A(){return/open_type=report/.test(r.Z.search)}},539828:function(e,t,n){"use strict";n.r(t),n.d(t,{showReLoginModal:function(){return E}});var r=n(165235),o=n(129108),i=n(746986),a=n(215661),c=n(79120),u=n(474664),s=n(60618),_=!1;function E(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!_&&!a.Z.isOpendoc){var n=u.IO.getInstance();n.closeChannel();var E=e.config,l=E.x_command,f=E.requestId,d=E.logId;(0,i.default)("client_login_required",{x_command:l,requestId:f,logId:d,isNotOriginUser:t});var T=document.createElement("div");document.body.appendChild(T),o.render(r.createElement(c.Z,{contentText:s("not_authorized.login_status_error")}),T,(function(){_=!0}))}}},55157:function(e,t,n){"use strict";n.d(t,{R:function(){return c}});var r=n(367017),o=n.n(r),i=n(335067),a={max:10,factor:0,interval:1e3};function c(e,t){var n=Object.assign({},a,t),r=n.max,c=n.interval,u=n.factor,s=n.onRetry,_=n.shouldRetry,E=0;return function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return new Promise((function(t,a){var l=function(){var f=(0,i.Z)(o().mark((function i(){var f,d;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return f=function(e){var t=Math.pow(E++,u)*c;(!_||_(e))&&setTimeout((function(){s&&s(E,e),l()}),t)},o.prev=1,o.next=4,e.apply(null,n);case 4:if(d=o.sent,!_||!_(d)){o.next=11;break}if(!(E<r)){o.next=8;break}return o.abrupt("return",f(d));case 8:a({code:"50010",payload:d}),o.next=12;break;case 11:t({code:0,payload:d});case 12:o.next=17;break;case 14:o.prev=14,o.t0=o.catch(1),E<r&&(!_||_(o.t0))?f(o.t0):a({code:"50010",payload:o.t0});case 17:case"end":return o.stop()}}),i,null,[[1,14]])})));return function(){return f.apply(this,arguments)}}();l()}))}}},44014:function(e,t,n){"use strict";n.r(t),n.d(t,{_getKey:function(){return A},_isMatchRoute:function(){return C},locateRoute:function(){return k},isUnderRootRoute:function(){return H},isUnderSpaceRootRoute:function(){return U},isUnderFileListView:function(){return F},isUnderSuiteView:function(){return Z},isUnderWikiSpaces:function(){return x},isUnderWikiHome:function(){return B},isUnderWikiIndex:function(){return W},isUnderWiki:function(){return G},isUnderISV:function(){return K},isUnderShareRoute:function(){return V},isUnderHomeRoute:function(){return j},isUnderBoxRoute:function(){return Y},isUnderFolderRoute:function(){return J},isUnderMeRoute:function(){return X},isUnderShareFolderHomeRoute:function(){return q},isUnderQuickAccessRoute:function(){return Q},isUnderTrashRoute:function(){return z},getPath:function(){return $},getFolderTokenFromPathname:function(){return ee},getParentNodeTokenByBackUrl:function(){return te},mapCurrentLocationTo:function(){return ne},getSuiteTypeStr:function(){return oe},getFileTypeStr:function(){return ie},getCurrentRouteObj:function(){return ae},getSrcModuleParams:function(){return ce},forUnitTest:function(){return ue}});var r=n(774561),o=n(664712),i=n(359980),a=n(225896),c=n(794760),u=n(758837),s=n(742097),_=n(613066),E=n(481382),l=n(44226),f=n(732023),d=n(77112),T=n(987993),p=n(957600),S=l.routeList,I={},O={},R={prefix:"is"},m=Object.keys(f.v);function A(e,t,n){var r=n.prefix,o=void 0===r?"":r,i=n.suffix,a=void 0===i?"":i,c=n.separator,s=void 0===c?"-":c,_=o+s+(e||t).split("/drive/").filter((function(e){return""!==e})).map((function(e){var t=m.find((function(t){return e.includes(t)}));return t?e.replace(t,f.v[t]):e})).join(s)+s+a;return(0,u.Z)(_)}function C(e,t,n){var r="^".concat(e).concat(t?".+":"","$");return new RegExp(r,"g").test(n)}function h(e,t){var n=e||{},o=n.routeName,i=void 0===o?"":o,a=n.url,c=void 0===a?"":a,u=n.redirectFromUrl,s=void 0===u?"":u,_=n.query,E=void 0!==_&&_;if(!c)return null;var l=A(i,c,{prefix:R.prefix}),f=C("(?:".concat(c,"|").concat(s,")"),E,t.replace(/^\/component/,""));return(0,r.Z)({},l,f)}function v(e){return S.map((function(t){return h(t,e)}))}function D(){var e=Object.keys(k()).find((function(e){return!0===k()[e]}));return e?e.replace(R.prefix,"").toUpperCase():""}var N=function(e){return e.type===l.RouteType.FILELIST},L=function(e){return e.type===l.RouteType.SUITE},y=function(e){return e.type===l.RouteType.WIKI_HOME},P=function(e){return e.type===l.RouteType.WIKI_SPACES},g=function(e){var t=e.type,n=e.module;return t===l.RouteType.SUITE&&n===E.FILE_TYPE.WIKI},M=function(e){var t=e.type,n=e.module;return t===l.RouteType.WIKI_HOME||t===l.RouteType.WIKI_SPACES||n===E.FILE_TYPE.WIKI},b=function(e){var t=e.url;return[l.PATH.HOME,l.PATH.ME,l.PATH.FOLDER,l.PATH.SHARE_FOLDERS,l.PATH.WIKI_HOME,l.PATH.WIKI_SPACES,l.PATH.WIKI_HOME_V2,l.PATH.FAVORITES,l.PATH.TEAM_SPACE,l.PATH.TRASH,l.PATH.DISCOVER_PAGE].includes(t)};function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.Z.pathname;if(e in I)return I[e];var t={},n=v(e);return t=n.reduce((function(e,t){return Object.assign({},e,{},t)}),t),I[e]=t,t}function w(e,t){return S.filter((function(t){return e(t)})).map((function(e){return A(e.routeName,e.url,{prefix:R.prefix})})).map((function(e){return t[e]})).some((function(e){return!0===e}))}function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k();return w((function(e){return!e.query}),e)}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k();return w(b,e)}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k();return w(N,e)}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k();return w(L,e)}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k();return w(P,e)}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k();return w(y,e)}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k();return w(g,e)}function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k();return w(M,e)}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k();return w((function(e){return e.url===l.URL.ISV}),e)}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k();return w((function(e){return e.path.indexOf("share")>-1}),e)}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k();return w((function(e){return e.path.indexOf("home")>-1}),e)}function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k();return w((function(e){return e.url===l.URL.FILE}),e)}function J(){return s.Z.pathname===l.URL.FOLDER}function X(){return s.Z.pathname===l.URL.ME}function q(){arguments.length>0&&void 0!==arguments[0]||k();return s.Z.pathname===l.URL.SHARE_FOLDERS}function Q(){return s.Z.pathname===l.PATH.QUICKACCESS}function z(){return s.Z.pathname===l.PATH.TRASH}function $(){var e,t=s.Z.pathname.match(/^\/(.+)?\//);return t?(e=t[1],"/".concat(e,"/")):""}function ee(){var e=/\/folder\/(\w+)/.exec(s.Z.pathname);return null===e?null:e[1]}function te(e){var t="",n=/folder\/(\S+)\/*/.exec(e);return n&&(t=n[1].replace(/\/*$/,"")),t}function ne(e){return e[D()]||""}function re(e){var t=(0,o.Z)((e||"").replace("is","")).toUpperCase();return E.FILE_TYPE[t]||""}function oe(){if(!Z())return"";var e=k();return re((0,a.Z)(e,(function(e){return!0===e})))}function ie(){var e=k(),t=re((0,a.Z)(e,(function(e){return!0===e})));return"file"===t?"drive":t}function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.Z.pathname;if((e=/^(?:https?|drive|file):\/\//.test(e)?(0,T.fX)(e):(0,d.ux)(e))in O)return O[e];var t=e.match(/\/(([a-zA-Z-_|(wiki\-v2)]+\/)+)([a-zA-Z0-9]+)?/);if(!t)return null;var n=t[1],r=!!t[3];if(!n)return null;var o=(0,c.Z)(S,(function(e){var t=e.url,o=e.query;return t.replace(/\//g,"")===n.replace(/\//g,"")&&o===r})),i=/\/folder\/(\w+)/.exec(e),a=i?i[1]:null,u=(0,p.RC)(o,a);return O[e]=u,u}function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"src_obj_id",t={},n=/pre_pathname=(.+)&?/.exec(s.Z.href),r=n?decodeURIComponent(n[1]):"";r?(0,p.uz)():r=(0,i.default)(window,["teaMap","prePathname"],"");var o=/\/(?:folder|file|sheets|docs|mindnotes|base)\/(\w+)/.exec(r),a=o?o[1]:null;return t[e]=a?(0,_.p)(a):"",t}var ue=null},717333:function(e,t,n){"use strict";n.d(t,{B:function(){return u},A:function(){return s}});var r=n(367017),o=n.n(r),i=n(139928),a=n(893835),c=o().mark(s),u=function(e){return o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,i.call)(e);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),console.error("Worker saga failed:",t.t0),(0,a.Tb)(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,5]])}))};function s(e,t){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.all)(e.map((function(e){return(0,i.spawn)(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=1,n.next=4,(0,i.call)(e);case 4:return n.abrupt("break",13);case 7:n.prev=7,n.t0=n.catch(1),console.error(n.t0),t&&t(n.t0);case 11:n.next=0;break;case 13:case"end":return n.stop()}}),n,null,[[1,7]])})))})));case 2:case"end":return n.stop()}}),c)}},197023:function(e,t,n){"use strict";n.d(t,{S:function(){return f}});var r=n(367017),o=n.n(r),i=n(335067),a=n(359980),c=n(346300),u=n(77112),s=n(982131),_=n(746986),E=n(411767);function l(){return(0,u.Yy)("secLink").domain||""}function f(){return d.apply(this,arguments)}function d(){return(d=(0,i.Z)(o().mark((function e(){var t,n,r,i,u,f,d,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n=(0,a.default)(window,"User.settingsConfig"))){e.next=6;break}t=n,e.next=9;break;case 6:return e.next=8,(0,s.yn)();case 8:t=e.sent;case 9:if(r=l(),i=r||(0,a.default)(t,"biz_domain_config.suite_security_link.0",""),u=(0,a.default)(t,"domain_manage_policy.sec_link_whitelist",[".*\\.fei-shu\\.cn$",".*\\.larksuite\\.com$",".*\\.feishu-pre\\.cn$",".*\\.larksuite-pre\\.com$","^larksuite\\.help$","^getfeishu\\.cn$"]),t&&i){e.next=16;break}return(0,_.default)("secure_link_config_error",{source:"empty_config"}),c.config({enable:!1}),e.abrupt("return");case 16:f="https://".concat(i,"/link/safety"),d=E.EA,p=[T],c.config({enable:d,baseUrl:f,whiteList:u,interceptors:p}),e.next=27;break;case 22:e.prev=22,e.t0=e.catch(0),console.error("配置安全链接失败",e.t0),(0,_.default)("secure_link_config_error",{source:"request_failed"}),c.config({enable:!1});case 27:case"end":return e.stop()}}),e,null,[[0,22]])})))).apply(this,arguments)}function T(e){return function(e){if("string"!=typeof e||!e)return!1;var t="https://".concat(e.replace(/^(https?:)?\/\//,""));return p.some((function(e){return t.startsWith(e)}))}(e)?function(e){var t="https://".concat(e.replace(/^(https?:)?\/\//,"")),n=(0,u.X)("/api/parser/wiki/redirect_new_wiki/");return"".concat(n,"?old_url=").concat(encodeURIComponent(t))}(e):null}var p=["https://wiki.bytedance.net/pages/viewpage.action"]},404436:function(e,t,n){"use strict";n.d(t,{Ly:function(){return T},C1:function(){return p},vH:function(){return d},YK:function(){return m},BU:function(){return C},l$:function(){return h},cn:function(){return v},gm:function(){return D},hd:function(){return l},Df:function(){return E},xt:function(){return s}});var r,o=n(367017),i=n.n(o),a=n(335067),c=n(347253),u=n(284113);function s(){return _.apply(this,arguments)}function _(){return _=(0,a.Z)(i().mark((function e(){var t,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(43781),n.e(74478)]).then(n.bind(n,830037));case 2:return t=e.sent,o=t.getSecurityAudit,e.next=6,o();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function E(){return r}function l(){return f.apply(this,arguments)}function f(){return(f=(0,a.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=3;break}return e.next=3,s();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d,T,p,S=n(481382),I=n(746986);!function(e){e[e.PERMISSION_TYPE_UNKNOWN=0]="PERMISSION_TYPE_UNKNOWN",e[e.FILE_UPLOAD=1]="FILE_UPLOAD",e[e.FILE_IMPORT=2]="FILE_IMPORT",e[e.FILE_DOWNLOAD=3]="FILE_DOWNLOAD",e[e.FILE_EXPORT=4]="FILE_EXPORT",e[e.FILE_PRINT=5]="FILE_PRINT",e[e.FILE_APP_OPEN=6]="FILE_APP_OPEN",e[e.FILE_ACCESS_FOLDER=7]="FILE_ACCESS_FOLDER",e[e.FILE_READ=8]="FILE_READ",e[e.FILE_EDIT=9]="FILE_EDIT",e[e.FILE_COMMENT=10]="FILE_COMMENT",e[e.FILE_COPY=11]="FILE_COPY",e[e.FILE_DELETE=12]="FILE_DELETE",e[e.FILE_SHARE=13]="FILE_SHARE",e[e.SEARCH=14]="SEARCH"}(d||(d={})),function(e){e[e.ALLOW=0]="ALLOW",e[e.DENY=1]="DENY",e[e.UNKNOW=2]="UNKNOW"}(T||(T={})),function(e){e[e.Allow=0]="Allow",e[e.Deny=1]="Deny",e[e.Null=2]="Null",e[e.Error=3]="Error"}(p||(p={}));var O=(0,c.default)((function(){var e=E();e?e.updateAuthorityInfo():console.log("[lark-security-audit] security-audit is not inited!")}),5e3),R=function(e,t,n,r){[p.Deny,p.Error].includes(n)&&(0,I.default)("ccm_permission_check_authority_dev",{code:n,action:e,permission_type:t,is_mobile:"false",err_msg:r||(n===p.Deny?"Deny":n===p.Error?"Error":"Unknown")})};function m(e){return A.apply(this,arguments)}function A(){return A=(0,a.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S.isAnonymousAccess){e.next=2;break}return e.abrupt("return",new Promise((function(e){e(T.UNKNOW)})));case 2:if(n=E()){e.next=7;break}return e.next=6,s();case 6:n=e.sent;case 7:return e.abrupt("return",new Promise(function(){var e=(0,a.Z)(i().mark((function e(r,o){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.updateAuthorityInfo();case 3:return e.next=5,n.checkAuthority({perm_type:t});case 5:a=e.sent,console.log("[lark-security-audit] checkAuthority, permType: ".concat(t,", code: ").concat(a.code,", message: ").concat(a.message)),R("checkAuthority",t,a.code,a.message),a.code===p.Allow?r(T.ALLOW):a.code===p.Deny?r(T.DENY):(0,u.r8)()||a.code!==p.Error?r(T.UNKNOW):r(T.DENY),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),o(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()));case 8:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}function C(e){if(S.isAnonymousAccess)return T.UNKNOW;var t=E();if(!t)return console.log("[lark-security-audit] security-audit is not inited!"),s(),T.UNKNOW;O();try{var n=t.checkAuthoritySync({perm_type:e});return console.log("[lark-security-audit] checkAuthoritySync, permType: ".concat(e,", code: ").concat(n.code,", message: ").concat(n.message)),R("checkAuthoritySync",e,n.code,n.message),n.code===p.Allow?T.ALLOW:n.code===p.Deny?T.DENY:((0,u.r8)()||(n.code,p.Error),T.UNKNOW)}catch(e){return console.log(e),T.UNKNOW}}function h(e){return e!==T.DENY}function v(e){return C(e)!==T.DENY}function D(e){return N.apply(this,arguments)}function N(){return(N=(0,a.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:return n=e.sent,e.abrupt("return",n!==T.DENY);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},982131:function(e,t,n){"use strict";n.d(t,{yU:function(){return l},ws:function(){return d},yn:function(){return S}});var r=n(367017),o=n.n(r),i=n(335067),a=n(922081),c=n(913867),u=n(359980),s=n(785120),_=n.n(s),E=n(77112);function l(){var e=f(),t=(0,E.Yy)("tea");return e.app_id=t.config.appId.doc,e}function f(){var e;return{version:d((0,u.default)(window,"scm.version","0")),user_id:window.User?window.User.id:void 0,app:"docs",app_id:(0,E.Yy)("secLink").appId,platform:"web",domain:(e=(0,E.Yy)("domain"),"https://".concat(e.setting))}}function d(e){var t="1.0.0";if(!(0,c.Z)(e))return t;var n=e.split(".");if(4!==n.length)return t;var r=(0,a.Z)(n,4),o=r[0],i=r[1],u=r[2],s=r[3];return[o,Number(i+u),s].join(".")}var T=new(_()),p=f();function S(){return I.apply(this,arguments)}function I(){return(I=(0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.getSettings();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}T.init(p)},893835:function(e,t,n){"use strict";n.d(t,{BP:function(){return c},sB:function(){return u},Pn:function(){return s},_e:function(){return _},WM:function(){return E},d0:function(){return l},G:function(){return f},h6:function(){return d},Tb:function(){return p},uT:function(){return S},IY:function(){return I},mI:function(){return D}});var r=n(26278),o=n(613066),i=["logCategory"],a=["logCategory"];function c(){return window.BearWebSlardarWeb}function u(){return window.Slardar}function s(){return u()?"browser":c()?"web":"none"}function _(e){var t=c();t&&t("context.merge",e)}function E(e,t){var n=c();if(n){var r=e;"string"==typeof e&&(r=new Error(e));var o=t||{};n("captureException",r,o.extra,o.react)}}function l(e){var t=c();if(t){var n=e.logCategory,o=(0,r.Z)(e,i);o.extra=o.extra||{},o.extra.logCategory=n||o.name,t("sendCustomPerfMetric",o)}}function f(e){var t=c();if(t){var n=e.logCategory,o=(0,r.Z)(e,a);o.extra=o.extra||{},o.extra.logCategory=n,t("sendLog",o)}}function d(e){var t=c();if(t){var n=e.name,r=e.logCategory,o=e.extra,i=e.categories,a=void 0===i?{}:i,u=e.metrics,s=void 0===u?{}:u;a.logCategory=r||n,o&&Object.keys(o).forEach((function(e){var t=o[e];"string"==typeof t&&t?a[e]=t:"number"==typeof t&&(s[e]=t)})),t("sendEvent",{name:n,categories:a,metrics:s})}}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n=u();if(n){var r=e;"string"==typeof e&&(r=new Error(e)),n("Sentry",(function(e){e.withScope((function(n){var o=t.level,i=t.tags,a=t.extras;o&&n.setLevel(o),i&&n.setTags(i),a&&n.setExtras(a),e.captureException(r)}))}))}}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(u())T(e,t);else if(c()){var n=t.level,r=void 0===n?"error":n,o=t.tags,i=t.extras,a=Object.assign({level:r},o,{},i),s=a.logCategory||"uncategorized";E(e,{extra:a,logCategory:s})}}function S(e){u()?function(e){console.warn(e);var t=u();t&&t("Sentry",(function(t){t.captureMessage(e)}))}(e):c()&&E(e,{extra:{level:"warn"},logCategory:"uncategorized"})}function I(e,t,n){u()?function(e,t,n){var r=u();r&&r("emit","log",{value:e,level:t,tags:n})}(e,t,n):c()&&f({content:e,level:t,extra:n,logCategory:"uncategorized"})}var O=/^(\d+)\.(\d+)\.(\d+)\.(\d+):(\d+)$/;function R(){return function(){var e=window.location;return e.host.indexOf("localhost")>-1||O.test(e.host)}()?"local":window.globalConfig.common.env||"online"}var m=/(\bfile:\/\/|\b[a-zA-Z]:\\|\s\/).+(([\\/][^\\/]+?){3}\.[a-zA-Z]{2,4}([^\\/.\w]|$))/g,A="$1***$2";var C=/(?:\/)?(?:space\/|drive\/)?(?:component\/)?([a-zA-Z-_]+)?(?:\/([\w]*))/;function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.pathname,t=e.split("/").filter((function(e){return e}));if(!(t.length<2)){var n=C.exec(e);return null==n?void 0:n[2]}}var v=!1;function D(e){var t,n,r,i;if(!v){v=!0;var a=c();if(a){var u,s,E,l=null===(u=window)||void 0===u||null===(s=u.globalConfig)||void 0===s||null===(E=s.common)||void 0===E?void 0:E.slardarWeb;if(l){var f=h(),d=Object.assign({},e,{scmBranch:null===(t=window)||void 0===t||null===(n=t.scm)||void 0===n?void 0:n.branch,scmVersion:null===(r=window)||void 0===r||null===(i=r.scm)||void 0===i?void 0:i.version});f&&(d.eToken=(0,o.p)(f)),window.User.domain&&(d.domain=window.User.domain),_(d),a("on","beforeSend",(function(e){var t,n;e.common&&f&&(t=e.common,n=f,Object.keys(t).forEach((function(e){var r=t[e];"string"==typeof r&&-1!==r.indexOf(n)&&(t[e]=t[e].replace(n,"***"))})));var r,o,i,a,c,u=function(){var e,t=null===(e=window.__ENV_PLUGIN__)||void 0===e?void 0:e.currentEnv;if(t&&"ppe"===t.envType)return t.envName}();return u&&(e.common.context?e.common.context.ppeEnv=u:e.common.context={ppeEnv:u}),"http"===e.ev_type?function(e){var t=e.request,n=e.response,r=JSON.stringify(t),o=window.User.id,i=o.slice(0,3)+"****"+o.slice(-3),a=!1;-1!==r.indexOf(o)&&(e.request=JSON.parse(r.replaceAll(o,i)),a=!0);var c=JSON.stringify(n);-1!==c.indexOf(o)&&(e.response=JSON.parse(c.replaceAll(o,i)),a=!0),a&&(e.extra=Object.assign({},e.extra,{sensitiveInfo:"userid"}))}(e.payload):"js_error"===e.ev_type&&(r=e.payload,i=r.error,a=!1,c=i.message.replace(m,A),i.stack&&(o=i.stack.replace(m,A)),c!==i.message&&(i.message=c,a=!0),o!==i.stack&&(i.stack=o,a=!0),a&&(r.extra=Object.assign({},r.extra,{sensitiveInfo:"filepath"}))),e})),a("init",{bid:l.bid,userId:(0,o.p)(window.User.id),pid:T(),env:R(),release:window.scm?window.scm.branch+"@"+window.scm.version:"local",plugins:{pageview:{extractPid:function(){var e=h();return e!==f&&(a("context.set","eToken",(0,o.p)(e)),f=e),T()}},ajax:{ignoreUrls:l.ignoreUrls},fetch:{ignoreUrls:l.ignoreUrls},fmp:!1,performance:{fp:!0,fcp:!0,fid:!0,mpfid:!1,lcp:!0,cls:!0,longtask:!0}}}),a("start")}}}function T(){var e=window.location.pathname;if("/wiki/"===e)return"/wiki/index";var t=e.split("/").filter((function(e){return e}));return"space"===t[0]||"drive"===t[0]||"component"===t[0]?"/".concat(t[0],"/").concat(t[1],"/"):"/".concat(t[0],"/")}}},74709:function(e,t,n){"use strict";function r(){return document.cookie.length}n.d(t,{Nx:function(){return r},LT:function(){return i},$o:function(){return a},qQ:function(){return c}});var o=0;function i(){if(!window.localStorage)return console.log("浏览器不支持localStorage"),o;if(o)return o;for(var e in window.localStorage)Object.prototype.hasOwnProperty.call(window.localStorage,e)&&"string"==typeof window.localStorage[e]&&(o+=window.localStorage.getItem(e).length);return o}function a(e){try{return localStorage.getItem(e)}catch(e){return console.error(e),null}}function c(e,t){try{return localStorage.setItem(e,t)}catch(e){console.error(e)}}},4374:function(e,t,n){"use strict";n.d(t,{Ry:function(){return l}});var r,o=n(919264),i=n(804175),a=n(93649),c=n(521543),u="tabManager",s=/^tabManager_/;!function(e){e.TabCountChange="TabCountChange"}(r||(r={}));var _,E=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.Z)(this,e),this._id=this._generateUniqId(),this._beatTimer=0,this._updateTimer=0,this._tabCount=1,this._isProcessing=!1,this._listener=new Map,this._initEvent=function(){window.addEventListener("beforeunload",t._onUnload),document.addEventListener("visibilitychange",t._onVisibilityChange),window.addEventListener("storage",t._onStorageChange)},this._onStorageChange=function(){var e=t.getTabCount();if(e!==t._tabCount){var n=t._listener.get(r.TabCountChange);n&&n.forEach((function(e){return e()})),t._updateTabCount(e)}},this._onLoad=function(){var e=Date.now();t._updateCurTab({activateTime:e}),t._heartbeat(),"visible"===document.visibilityState&&t.checkStatus()},this._onUnload=function(){t.removeTabItem(t._id),t.destroy()},this._onVisibilityChange=function(){if("visible"===document.visibilityState){var e=Date.now();t._updateCurTab({activateTime:e}),t.checkStatus()}else window.clearTimeout(t._beatTimer)},this._heartbeat=function(){t._updateTimer=window.setInterval((function(){t._updateCurTab({activateTime:Date.now()})}),t._beatTime)},this._updateCurTab=function(e){var n=t.getTabItem(t._id)||{};if(e.activateTime&&(n.activateTime=e.activateTime),n.activateTime)try{t.setTabItem(t._id,n)}catch(e){t.removeTabItem(t._id),console.log("TabManager: set localStorage error, clearData")}},this.init=function(){t._initEvent(),t._onLoad(),t._isProcessing=!0},this.checkStatus=function(){window.clearInterval(t._beatTimer),t._beatTimer=window.setInterval((function(){var e=t.getAllTabItems(),n=Object.keys(e),r=Date.now();n.forEach((function(n){var o=e[n].activateTime;(!o||r-o>t._disabledTime)&&localStorage.removeItem(n)}))}),t._beatTime)},this.addListener=function(e,n){var r=t._listener.get(e);r||(r=[],t._listener.set(e,r)),r.push(n)},this.removeListener=function(e,n){if(t._listener.has(e)){var r=t._listener.get(e),o=r.indexOf(n);-1!==o&&r.splice(o,1)}},this.destroy=function(){t._listener.clear(),window.clearTimeout(t._beatTimer),window.clearTimeout(t._updateTimer),document.removeEventListener("visibilitychange",t._onVisibilityChange),window.removeEventListener("beforeunload",t._onUnload),window.removeEventListener("storage",t._onStorageChange),t._isProcessing=!1};var i=(0,c.q)();this._beatTime=n.beatTime||i.tab_manager_beat_time||5e3,this._disabledTime=n.disabledTime||i.tab_manager_disabled_time||12e3}return(0,i.Z)(e,[{key:"getTabItem",value:function(e){return a.Z.getItem("".concat(u,"_").concat(e))}},{key:"setTabItem",value:function(e,t){a.Z.setItem("".concat(u,"_").concat(e),t)}},{key:"removeTabItem",value:function(e){localStorage.removeItem("".concat(u,"_").concat(e))}},{key:"getAllTabItems",value:function(){var e={};return Object.keys(localStorage).forEach((function(t){s.test(t)&&(e[t]=a.Z.getItem(t))})),e}},{key:"_generateUniqId",value:function(){return"".concat(~~(1e9*Math.random()))}},{key:"_updateTabCount",value:function(e){this._tabCount=e}},{key:"getTabCount",value:function(){var e=0;return Object.keys(localStorage).forEach((function(t){s.test(t)&&e++})),e}},{key:"isProcessing",get:function(){return this._isProcessing}}]),e}(),l=new function(){return _||(_=new E)}},73014:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(481382);function o(e,t,n){try{if(e===r.EXPLORER_URL_TYPE.V2&&t){var o=n.node_list,i=n.entities,a=o[0];return i.nodes[a]}}catch(e){console.error("transform creata api v2 data error",e)}return n}},93569:function(e,t,n){"use strict";var r=n(919264),o=n(804175),i=n(359980),a=n(357081),c=n(215661),u=n(581034),s=n(465857),_=n(15458),E=n(60618),l={supported_target_langs:["zh","en","ja","th"],langs:{zh:{name:E("common.language_name.zh"),desc:"简体中文",translation_preview:"你好，朋友"},en:{name:E("common.language_name.en"),desc:"English",translation_preview:"Hello Friend"},ja:{name:E("common.language_name.ja"),desc:"日本語",translation_preview:"こんにちは"},th:{name:E("common.language_name.th"),desc:"ไทย",translation_preview:"สวัสดีเพื่อน!"}}},f=new(function(){function e(){(0,r.Z)(this,e),this.hasInit=!1,this.initPromise=null,this.setLangsConfig(l)}return(0,o.Z)(e,[{key:"init",value:function(){var e=this;this.initPromise=new Promise((function(t,n){if((0,s.hI)()||(0,s.jX)()){var r="".concat(a.mb.GET_TRANSLATE_LANGS).concat(c.Z.isOpendoc?"?req_lang=".concat((0,u.G3)()):"");(0,_.WY)({url:r,method:a.mb.METHOD.GET}).then((function(n){e.setLangsConfig(n.data),e.hasInit=!0,t()})).catch((function(t){console.log("get translate lang error",t),e.hasInit=!0,n()}))}else console.log("not support to get translate lang"),e.hasInit=!0,t()}))}},{key:"getText",value:function(e){return(0,i.default)(this.langDetails,"".concat(e,".name"),E("common.language_name.other"))}},{key:"getDesc",value:function(e){return(0,i.default)(this.langDetails,"".concat(e,".desc"),E("common.language_name.other"))}},{key:"getPreview",value:function(e){return(0,i.default)(this.langDetails,"".concat(e,".translation_preview"),l.langs.en.translation_preview)}},{key:"getMenuType",value:function(e){return"".concat("TRANSLATE","_").concat(e)}},{key:"extractLangFromMenuType",value:function(e){return e.split("_")[1]}},{key:"setLangsConfig",value:function(e){var t=this,n=e.supported_target_langs,r=e.langs;!n||!r||n.length<1||(this.langs=n,this.langDetails=r,this.langOptions=this.langs.map((function(e){return{value:e,name:t.getText(e),visible:!0}})))}}]),e}());t.Z=f},671914:function(e,t,n){"use strict";n.d(t,{nT:function(){return _.n},Zp:function(){return E},x9:function(){return f},CN:function(){return T},ZH:function(){return p},on:function(){return S},WN:function(){return I},j4:function(){return O},PF:function(){return R},Mo:function(){return m},en:function(){return a.en},mB:function(){return a.mB}});var r=n(922081),o=n(521469),i=n(742097),a=n(700789),c=n(196629),u=n.n(c),s=n(670025),_=n(45179);function E(e){if(!e)return"";var t="";try{t=decodeURIComponent(e)}catch(e){console.error("decodeURIComponent url error")}return t}function l(e,t){return e?"".concat(t).concat(e):""}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s.stringify(e);return l(t,"?")}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s.stringify(e);return l(t,"#")}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{search:"",hash:""},n=t.search,r=t.hash,o=u()(n)?f(n):n,i=u()(r)?d(r):r;return"".concat(e.replace(/\?.*/,"")).concat(o).concat(i)}function p(e){return"".concat(i.Z.origin).concat(e)}function S(e){var t=(0,a.en)(i.Z.href).search;if(!t)return"";var n="";return t.slice(1).split("&").find((function(t){var o=t.split("="),i=(0,r.Z)(o,2),a=i[0],c=i[1];return a===e&&(n=c,!0)})),n}function I(e){var t=document.createElement("a");return t.href=e,t.href}function O(e,t,n){try{var r=new URL(e);return r.searchParams.set(t,n),r.toString()}catch(t){return e}}var R=(0,o.Z)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.href;return(0,a.mB)(e).from||""}));function m(e){var t=decodeURIComponent,n=e?e.split("?")[1]:i.Z.search.slice(1),r={};if(n)for(var o=(n=n.split("#")[0]).split("&"),a=0;a<o.length;a+=1){var c=o[a].split("="),u=void 0,s=c[0].replace(/\[\d*\]/,(function(e){return u=e.slice(1,-1),""})),_=void 0===c[1]||c[1];Object.prototype.hasOwnProperty.call(r,s)?("string"==typeof r[s]&&(r[s]=[r[s]]),void 0===u?r[s].push(t(_)):r[s][u]=t(_)):r[s]=t(_)}return r}},126793:function(e,t,n){"use strict";n.d(t,{N:function(){return a},z:function(){return c}});var r=n(359980),o=n(215661),i=n(671914),a=o.Z.isInVC&&(o.Z.isFeishuRooms||/VC\/\d+\.\d+\.\d+[^ ]* Apollyon\/\d+/.test(navigator.userAgent)||/IronWebview\//.test(navigator.userAgent)),c=a&&"1"===(0,r.default)((0,i.mB)(location.search),"vcWaterMark")},765461:function(e,t,n){"use strict";n.d(t,{H:function(){return u}});var r,o=n(919264),i=n(804175),a=n(362229),c=function(){function e(t){(0,o.Z)(this,e),this.eventName=t,this.content={}}return(0,i.Z)(e,[{key:"push",value:function(e){return this.content=Object.assign({},this.content,{},e),this}},{key:"get",value:function(e){return this.content[e]}},{key:"report",value:function(e){return this.reportWithoutClear(e),this.clear(),this}},{key:"reportWithoutClear",value:function(e){return this.content=Object.assign({},this.content,{},e),(0,a.LN)(this.eventName,this.content),this}},{key:"clear",value:function(){return this.content={},this}}]),e}(),u=(r=new Map,function(e){if(r.has(e))return r.get(e);var t=new c(e);return r.set(e,t),t})},218526:function(e,t,n){"use strict";n.d(t,{y1:function(){return g},vi:function(){return b},BR:function(){return L}});var r=n(367017),o=n.n(r),i=n(335067),a=n(29856),c=n(613066),u=n(66528),s=n.n(u),_=n(44014),E=n(339956),l=n(77112),f=n(298652),d=n(919264),T=n(804175),p=function(){function e(t){(0,d.Z)(this,e),this.options=t||{numberOfSamples:5}}return(0,T.Z)(e,[{key:"check",value:function(){return{localStorage:this.checkLocalStorageStatus()}}},{key:"checkLocalStorageStatus",value:function(){if(!window.localStorage)return null;var e=this.checkIOSpeed({read:function(e){return localStorage.getItem(e)},write:function(e,t){return localStorage.setItem(e,t)},remove:function(e){return localStorage.removeItem(e)}}),t=this.getLocalStorageSize();return Object.assign({},e,{size:t})}},{key:"getLocalStorageSize",value:function(){var e="";for(var t in window.localStorage)Object.prototype.hasOwnProperty.call(window.localStorage,t)&&(e+=window.localStorage[t]);return e?3+16*e.length/8:0}},{key:"measureSpeed",value:function(e,t){var n=performance.now();return e.apply(void 0,(0,f.Z)(t)),performance.now()-n}},{key:"toDecimal",value:function(e){return Number(e.toFixed(4))}},{key:"checkIOSpeed",value:function(e){var t=e.read,n=e.write,r=e.remove,o=this.options.numberOfSamples,i="CHECK_IO",a=0,c=0;try{for(var u=0;u<=o;u++)a+=this.measureSpeed(n,[i,i]),c+=this.measureSpeed(t,[i]),r(i);return{writeCost:this.toDecimal(a/o),readCost:this.toDecimal(c/o)}}catch(e){return{exception:e}}}}]),e}(),S=n(893835),I=n(235724),O=n(406005),R=n(941985),m=n(391360),A=n(887035),C=n(474664),h="CUSTOM_LOG_MESSAGE",v=[],D=null,N=null,L={setOfflineTime:function(){D||(D=new Date)},addRecord:function(){D&&(N=new Date,10===v.length&&v.shift(),v.push("OffineTime: ".concat(s()(D).format()," -- ").concat(s()(N).format())),D=null)}},y={engineSyncLog:[],vcLog:[]},P={engineSyncLog:100,vcLog:100},g=function(e,t){var n=y[e];n&&(n.length===P[e]&&n.shift(),n.push({event:t,time:s()().format()}))},M=function(e,t){return e?function(e,t){var n=e.getSheetIds(),r=e.getSheetCount(),o=t?t.baseRev:"",i=0,a=0,c="",u=e.getActiveSheet();u&&(i=u.getRowCount(),a=u.getColumnCount(),c=u.id());var s=R.ZP.getState();return{activeSheetId:c,activeSheetRowCount:i,activeSheetColumnCount:a,sheetCount:r,sheetIds:n,sheetRevision:o,ssid:(0,A._o)(s)}}(e,t):function(){var e=window.embedSheetManagers;if(e&&Object.keys(e).length){var t=Object.keys(e)[0],n=e[t];if(n&&n.sheetSpreads){var r=Object.keys(n.sheetSpreads),o=r.length;if(o){var i=n.engine?n.engine.baseRev:"",a=0,u=0,s="",_=R.ZP.getState().sheet.activeSpread;if(_){var E=_.getActiveSheet();E&&(a=E.getRowCount(),u=E.getColumnCount(),s=E.id())}return{sheetToken:t?(0,c.p)(t):"",activeSheetId:s,activeSheetRowCount:a,activeSheetColumnCount:u,sheetCount:o,sheetIds:r,sheetRevision:i}}}}return{}}()},b=function(){var e=(0,i.Z)(o().mark((function e(){var t,n,r,i,u,s,f,d,T,A,D,N,L,P,g,b,k,w,H,U=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=U.length>0&&void 0!==U[0]?U[0]:{},i=window,(0,S.uT)(h),u=new p({numberOfSamples:10}),s=(0,l.Yy)("tea"),f=(0,l.Yy)("slardar"),d=(0,l.Yy)("sentry"),T=i.performance&&i.performance.memory||{},A=(0,c.p)((0,E.LP)()),D=(0,E.W4)(),N=C.IO.getInstance().getMemberId(),L=i.teaMap&&i.teaMap.sessionId||"unknown",P=Object.assign({},r,{token:A,fileType:D,memberId:N,teaSessionId:L,en:i.User.language,env:null===(t=i.globalConfig)||void 0===t||null===(n=t.common)||void 0===n?void 0:n.env,scm:i.scm,userId:i.User.id,ua:i.User&&i.User.userAgent||navigator.userAgent||"",members:(0,a.Z)((0,m.CT)(R.ZP.getState()),I.isSameUser).length,memory:{jsHeapSizeLimit:T.jsHeapSizeLimit,totalJSHeapSize:T.totalJSHeapSize,usedJSHeapSize:T.usedJSHeapSize},timezone:-(new Date).getTimezoneOffset()/60,offlineMsg:v,io:u.check(),otherMsg:y,heartbeatRequestStatus:i.__HEARTBEAT_STATUS__}),g={},!(0,_.locateRoute)().isBitable&&i.Spread&&(g=M(i.spread,i.Spread.engine)),b=(0,O.ej)("SLARDAR_WEB_ID"),k={},w={},H={},b&&f.open&&(k.slardar="https://".concat(f.domain,"/node/browser_detail/logquery?bid=").concat(f.config.bid.docs_pc,"&region=").concat(f.region,"&slardar_web_id=").concat((0,c.p)(b))),s.open&&(w.tea="https://".concat(s.domain,"/app/").concat(s.productId.doc,"/behavior-detail/").concat((0,c.p)(i.User.id))+"?activeEventId=0_1&app_name=docs&curDevice=%E5%85%B6%E4%BB%96&eventParamsType=open&isShowFiltered=false&query_type=user_unique_id&selectedShowEventList=limit_edit_mode_quantity&selectedShowEventList=client_performance_fps&"+"selectedShowEventList=launch_duration&timestamp=".concat(Date.now())),d.open&&(H.sentry="https://".concat(d.domain,"/").concat(d.organizationSlug,"/").concat(d.projectSlug.doc,"/?query=eToken%3A").concat(A,"+user%3Aid%3A").concat(i.User.id)),e.abrupt("return",JSON.stringify(Object.assign({},P,g,w,H,k),null,2));case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},605826:function(e,t,n){"use strict";n.d(t,{W:function(){return p},f:function(){return S}});var r=n(742097),o=n(978733),i=n(671914),a=n(481382),c=n(44014),u=n(958608),s=n(189735),_=n(346530),E=n(941985),l=n(484826),f=n(808926),d=n(887035),T=n(885463);function p(){var e={file_type:"",file_id:"",file_tenant_id:"",file_is_cross_tenant:"",is_shortcut:"false",shortcut_id:""},t="",n=E.ZP.getState(),l=(0,c.isUnderFileListView)(),p=(0,f.HF)(n).get("tenant_id")||"",S=(0,T.M)(n);if(l){var I=(0,u.KT)(n),O=I.first();if(O)t=I.getIn([0,"owner_id"],""),e.file_type=a.mapTypeNumToTeaLogFileType[I.getIn([0,"type"],"")],e.file_id=I.getIn([0,"token"],"")||I.getIn([0,"obj_token"],""),(0,o.HX)(O)&&(e.shortcut_id=O.get("token")||"",e.is_shortcut="true");else e.file_id=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.Z.href;return(0,i.nT)(e,!0).token}(),e.file_type=(0,c.getFileTypeStr)()}else{var R=(0,_.z)(r.Z.pathname),m=R&&(0,s.tU)(R)||(0,d.bJ)(n);t=m?m.get("owner_id"):"",e.file_type=m?a.mapTypeNumToTeaLogFileType[m.get("type")]:"",e.file_id=m?m.get("obj_token"):""}var A=S.getIn([t,"tenant_id"],""),C=String(p!==A);return e.file_tenant_id=A,e.file_is_cross_tenant=C,e}function S(){var e=E.ZP.getState();return(0,l.GM)(e)}},554266:function(e,t,n){"use strict";n.d(t,{o:function(){return _}});var r=n(919264),o=n(804175),i=n(806501),a=n(746986),c=n(217376),u="ac_stay_",s=u+(0,c.zs)(6),_=new(function(){function e(){var t=this;(0,r.Z)(this,e),this.activeDuration=0,this.isRunning=!1,this.tryCollectFromStorage=function(){try{for(var e=0;e<window.localStorage.length;e++){var n=window.localStorage.key(e);if(n&&n.includes(u)){var r=window.localStorage.getItem(n);if(!r)continue;window.localStorage.removeItem(n);var o=JSON.parse(r),i=o.startTime,c=o.endTime,s=o.activeDuration,_=o.route,E=o.sessionId,l=-1!==i?c-i+s:s;t.collect({route:_,time:l}),(0,a.default)("Doc_tab_quit_dev",{doc_session_id:E})}}}catch(e){console.error("Failed to collect stay log from storage. ",e)}},this.exit=function(){if(t.isRunning)try{window.localStorage.setItem(s,JSON.stringify({startTime:t.startTime,endTime:Date.now(),activeDuration:t.activeDuration,route:t.route,sessionId:t.sessionId})),t.timer&&clearTimeout(t.timer)}catch(e){console.error(e)}};try{this.initEvents(),this.timer=setTimeout(this.tryCollectFromStorage,this.randomTimeout())}catch(e){console.error(e)}}return(0,o.Z)(e,[{key:"initEvents",value:function(){window.addEventListener("beforeunload",this.exit)}},{key:"collect",value:function(e){(0,a.default)("page_active_stay_time",e)}},{key:"randomTimeout",value:function(){return 100*Math.floor(30*Math.random()+0)}},{key:"onHidden",value:function(){this.isRunning&&((0,a.default)("Doc_tab_switch_dev",{doc_session_id:this.sessionId}),this.activeDuration+=Date.now()-this.startTime,this.startTime=-1)}},{key:"onVisible",value:function(){this.isRunning&&(this.startTime=Date.now())}},{key:"onRouteWatchStart",value:function(){if(!this.isRunning){this.isRunning=!0,this.startTime=Date.now(),this.sessionId=(0,c.zs)(),this.route=this.currentRoute;var e=(0,i.HS)();this.from=e.from,"from_lark_index_search"===this.from&&(0,a.default)("Doc_open_by_lark_search_dev",{search_id:e.search_id,doc_session_id:this.sessionId})}}},{key:"onRouteUpdate",value:function(){this.isRunning&&(this.collect({time:Date.now()-this.startTime+this.activeDuration,route:this.route}),(0,a.default)("Doc_tab_quit_dev",{doc_session_id:this.sessionId}),this.activeDuration=0,this.startTime=Date.now(),this.sessionId=(0,c.zs)(),this.route=this.currentRoute)}},{key:"currentRoute",get:function(){return(0,i.C2)()}}]),e}())},139315:function(e,t,n){"use strict";n.d(t,{_:function(){return s}});var r,o=n(742097),i=n(242759),a=n(791670),c=n(806501),u=n(126368),s="@TEA/LOCATION_CHANGE";function _(){var e=o.Z.pathname;if(r!==e){var t=Date.now();u.Z.batchMarkComputeContext(["enterPathTime"],(function(){return{enterPathTime:t}}));var n=r;u.Z.batchMark(["module","sub_module","src_module","src_sub_module"],(function(){var t=(0,c.rT)(e,n);return{module:t.module,sub_module:t.sub_module,src_module:t.src_module,src_sub_module:t.src_sub_module}}),!0),u.Z.batchMark(["page_token","page_type","path"],(function(){return{page_token:(0,c.BH)(),page_type:(0,c.C2)(),path:(0,c.DW)()}}),!0),u.Z.batchMark(["file_id","file_type","owner_id","create_time","create_date","file_tenant_id"],(function(){return{file_id:(0,c.g9)(),file_type:(0,c.JB)(),owner_id:"",create_time:"",create_date:void 0,file_tenant_id:""}}),!0),i.Z.emit(s),r=e}}a.ZP.listen(_),_()},126368:function(e,t,n){"use strict";n.d(t,{Z:function(){return L}});var r=n(922081),o=n(919264),i=n(804175),a=n(474664),c=n(806501),u=n(284113),s=n(613066),_=(0,s.p)(""),E=(0,s.p)(void 0);function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=["from_new_tea_common_params","use_new_tea_common_params","navigation_start_to_now","open_current_path_to_now","jsHeapSizeLimit","totalJSHeapSize","usedJSHeapSize"];function T(e){return e?1:0}var p=n(230708),S=n(697486),I=n(17649),O=n(991541),R=function(){function e(t){(0,o.Z)(this,e),this.dirty=new Map,this.params=t}return(0,i.Z)(e,[{key:"batchMark",value:function(e,t,n){var r=this;e.forEach((function(e){r.dirty.set(e,t)})),n&&e.forEach((function(e){return r.get(e)}))}},{key:"get",value:function(e){var t=this,n=this.dirty.get(e);if(n){var r=n();r&&Object.keys(r).forEach((function(e){t.dirty.get(e)===n&&(t.params[e]=r[e],t.dirty.delete(e))}))}return this.params[e]}}]),e}(),m=n(443431);function A(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=(0,O.H8)().new_tea_common_params,v=h&&h.compare_new_tea_common_params_enabled,D=h&&h.use_new_tea_common_params_enabled,N=h&&h.max_mismatch_event_upload_count||100,L=new(function(){function e(){(0,o.Z)(this,e),this.params=new R({session_id:(0,S.d)(),member_id:String(a.IO&&a.IO.getInstance().getMemberId()),from_new_tea_common_params:T(!!h),use_new_tea_common_params:T(!!D),product:(0,c.rC)(),is_pre_env:(0,u.op)()?1:0,has_pre_cookie:"1"===(0,u.He)()?1:0}),this.computeContext=new R({currentUserId:(0,s.p)(window.User.suid),currentUserTenantId:""}),this.mismatchEventUploadCount=0}return(0,i.Z)(e,[{key:"_batchGet",value:function(e){var t,n={},r=A(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=void 0;switch(o){case"navigation_start_to_now":i=Date.now()-window.performance.timing.navigationStart;break;case"from_create_date":var a=this.params.get("create_time");if(a){var u=(new Date).getTime();i=Math.floor((u-1e3*Number(a))/864e5)}break;case"open_current_path_to_now":var s=this.computeContext.get("enterPathTime");s&&(i=Date.now()-s);break;case"jsHeapSizeLimit":case"totalJSHeapSize":case"usedJSHeapSize":window.performance.memory&&(i=window.performance.memory[o]);break;case"chat_id":var _=(0,c.tN)();_&&(i=_);break;case"loc_file_id":i=this.params.get("file_id");break;case"loc_file_type":i=this.params.get("file_type");break;case"file_is_cross_tenant":var E=this.params.get("file_tenant_id"),l=this.computeContext.get("currentUserTenantId");i=String(E!==l);break;case"is_owner":var f=this.params.get("owner_id");i=String(f===this.computeContext.get("currentUserId"));break;case"container_id":i=(0,m.Bu)().container_id;break;case"container_type":i=(0,m.Bu)().container_type;break;case"user_permission":i=(0,c.WO)();break;case"file_permission":i=(0,c.HL)();break;case"user_permission_folder":i=(0,c.Cf)();break;case"folder_permission":i=(0,c.Wo)();break;default:i=this.params.get(o)}void 0!==i&&(n[o]=i)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"batchMarkComputeContext",value:function(e,t){this.computeContext.batchMark(e,t)}},{key:"batchMark",value:function(e,t,n){this.params.batchMark(e,t,n)}},{key:"batchGet",value:function(e,t,n){var o=e.filter((function(e){return!t[e]}));if(!v&&!D)return this._batchGet(o);var i,a=this._batchGet(o);if(v){var c=function(e,t){var n,r=[],o=l(new Set(Object.keys(e).concat(Object.keys(t))));try{for(o.s();!(n=o.n()).done;){var i=n.value;if(!(d.indexOf(i)>-1)){var a=e[i],c=t[i];"session_id"===i&&a&&"none"===c||"is_pre_env"===i&&void 0===c||"member_id"===i&&a&&"none"===c||"src_module"===i&&a&&void 0===c||"src_sub_module"===i&&void 0===c||"file_tenant_id"===i&&""===a&&c===_||"owner_id"===i&&c===E||("create_time"!==i&&"create_date"!==i&&"from_create_date"!==i||void 0===a||c&&"none"!==c)&&"is_owner"!==i&&("file_tenant_id"===i&&a&&c===_||"file_is_cross_tenant"!==i&&a!==c&&r.push([i,a,c]))}}}catch(e){o.e(e)}finally{o.f()}return r}(a,i=(0,p.L)(o));if(c.length>0&&this.mismatchEventUploadCount<N){var u=c.reduce((function(e,t){var n=(0,r.Z)(t,1)[0];return e.push(n),e}),[]).join(",");I.u.send("dev_new_tea_common_params_mismatch",Object.assign({mismatched_event:n,differences:JSON.stringify(c),different_keys:u},a)),this.mismatchEventUploadCount++}}return D?a:i||(0,p.L)(o)}}]),e}())},956986:function(e,t,n){"use strict";n.d(t,{f:function(){return o},U:function(){return i}});var r=n(574049),o=function(e,t){return{actionTypes:e,callback:t}};function i(){var e=new Map;function t(t){return function(n){return function(r){try{var o=e.get(r.type);o&&o.forEach((function(e){return e(t,r)}))}catch(e){console.error(e)}n(r)}}}return t.register=function(t){var n=t.actionTypes,o=t.callback;return n.forEach((function(t){var n=e.get(t);n||(n=[],e.set(t,n)),n.push(o)})),function(){n.forEach((function(t){var n=e.get(t);n&&(0,r.Z)(n,(function(e){return e===o}))}))}},t}},362229:function(e,t,n){"use strict";n.d(t,{ZP:function(){return v},c:function(){return N},Xu:function(){return L},LN:function(){return y}});var r=n(919264),o=n(804175),i=n(543369),a=n(613066),c=n(481382),u=n(44014),s=n(859878),_=n(746986),E=n(426466),l=n(958608),f=n(702115),d=n(189735),T=n(941985),p=n(808926),S=n(306797),I=n(887035),O=n(885463),R=n(605826),m=["query_id","create_uid","owner_id","file_id","copy_file_id","loc_file_id","file_tenant_id","container_id","shortcut_id"],A="withFileInfo",C=function(e,t){e.forEach((function(e){e in t&&(t[e]=(0,a.p)(t[e]))}))},h=function(e,t){var n=(0,R.W)();return Object.assign({file_type:n.file_type,file_id:n.file_id,file_is_cross_tenant:n.file_is_cross_tenant,file_tenant_id:n.file_tenant_id},(0,i.default)(t,[e]))};function v(e,t){return function(n,r,o){var i=o.value;o.value=function(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];try{n=i.apply(this,o)}finally{D.bind(this).apply(void 0,[e,t].concat(o))}return n}}}function D(e,t){for(var n,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];if("function"==typeof e&&(n=e.apply(this,[{context:this,store:T.ZP}].concat(o))),"string"==typeof e&&(n=e),n){var a="function"==typeof t?t.apply(this,[{context:this,store:T.ZP}].concat(o)):t;a&&(a=h(A,a),C(m,a)),(0,_.default)(n,Object.assign({},a))}}window.teaLogger=D;var N=new(function(){function e(){(0,r.Z)(this,e)}return(0,o.Z)(e,[{key:"getTypeStringByEntity",value:function(e){if(e.get("is_share_root"))return"share_folder";var t=e.get("type");return c.mapTypeNumToFileType[t]}},{key:"getObjInfoByToken",value:function(e){var t=(0,d.tU)(e);return this.getFileInfoByEntity(t)}},{key:"getModuleByEntity",value:function(e){var t=e.get("space_id");if("string"==typeof t&&t.length>0)return"shared"}},{key:"getModuleFromRoute",value:function(){var e=(0,E.C_)(this.state);return e?{module:e.get("module"),sub_module:e.get("subModule")}:null}},{key:"getFileInfoByEntity",value:function(e){var t;if(!e)return{};var n=e.get("type"),r=e.get("obj_token");c.NUM_FILE_TYPE.ISV===n&&(t=e.get("app_id"));var o=function(e){var t={file_tenant_id:"",file_is_cross_tenant:""};if(void 0===e)return t;var n=T.ZP.getState(),r=e.get("owner_id"),o=function(e){var t=T.ZP.getState(),n=(0,O.M)(t);return n&&n.get(e)}(r),i=o&&o.get("tenant_id"),a=(0,p.HF)(n).get("tenant_id")||"";return t.file_tenant_id=i,t.file_is_cross_tenant=String(!(a===i)),t}(e);return Object.assign({file_type:this.getTypeStringByEntity(e),file_id:r,isv_id:t},o)}},{key:"getCurrentFileType",value:function(){if((0,u.isUnderFileListView)())return null;var e=(0,I.mx)(this.state);return null===e?null:c.mapTypeNumToFileType[e]}},{key:"getCurrentFileToken",value:function(){return(0,u.isUnderFileListView)()?null:(0,I.Qh)(this.state)}},{key:"getCurrentUser",value:function(){return(0,p.HF)(this.state)}},{key:"getCreateDate",value:function(e){return(0,s.mu)(parseInt(e,10))}},{key:"getDaysFromCreateDate",value:function(e){var t=(new Date).getTime()-1e3*parseInt(e,10);return parseInt(t/1e3/60/60/24,10)}},{key:"isOwner",value:function(e){return void 0===e?(0,f.W3)(this.state):(0,p.HF)(this.state).get("suid")===e}},{key:"hasEditPerm",value:function(){return(0,f.Hy)(this.state)}},{key:"getMainDataCount",value:function(){return{node_entity_count:(0,S.wg)(this.state).size,shortcut_entity_count:(0,S.v6)(this.state).size,obj_entity_count:(0,S.hL)(this.state).size,pinned_file_count:(0,l.N)(this.state).size}}},{key:"state",get:function(){return T.ZP.getState()}}]),e}());function L(e,t){return function(n,r,o){var i=o.value;return o.value=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];try{var a=t.call(this,{context:this,args:r,helpers:N,reduxStore:T.ZP});a&&(C(m,a),(0,_.default)(e,Object.assign({},a)))}catch(e){console.error(e)}return i.apply(this,r)},o}}function y(e,t){C(m,t),(0,_.default)(e,Object.assign({},t))}},697486:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var r=n(217376),o=function(){return(0,r.zs)(20)}},806501:function(e,t,n){"use strict";n.d(t,{rT:function(){return P},g9:function(){return M},JB:function(){return k},BH:function(){return H},C2:function(){return F},nT:function(){return Z},Gm:function(){return x},Ng:function(){return B},zg:function(){return W},lZ:function(){return G},Jx:function(){return K},DW:function(){return V},Pd:function(){return j},Zj:function(){return Y},IQ:function(){return J},V:function(){return X},u$:function(){return q},zl:function(){return $},pB:function(){return ee},yd:function(){return te},Yn:function(){return ne},Zw:function(){return re},Sf:function(){return oe},oR:function(){return ie},rC:function(){return ae},b5:function(){return ce},tN:function(){return ue},HS:function(){return se},CJ:function(){return _e},WO:function(){return le},HL:function(){return de},Cf:function(){return pe},Wo:function(){return Ie},iY:function(){return Oe}});var r=n(359980),o=n(742097),i=n(613066),a=n(360851),c=n(357081),u=n(215661),s=n(981387),_=n(98001),E=n(412840),l=n(44014),f=n(339956),d=n(859878),T=n(671914),p=n(235724),S=n(941985),I=n(346530),O=n(70393),R=n(747243),m=n(44226),A=n(268374),C=c.Jv.IOS,h=c.Jv.ANDROID,v=c.Jv.MAC,D=c.Jv.WINDOWS,N=c.Jv.IPAD,L=c.Jv.SUB_PLATFORM,y={Android:h,iOS:C,macOS:v,Windows:D,iPad:N};function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.Z.pathname,t=arguments.length>1?arguments[1]:void 0;if((0,_.Z)())return{module:"",sub_module:""};var n=(0,l.getCurrentRouteObj)(t||(0,r.default)(window,["teaMap","prePathname"],void 0)),i=(0,l.getCurrentRouteObj)(e),a=n&&(n.module!==i.module||n.subModule!==i.subModule),c=a?{src_module:n.module,src_sub_module:n.subModule||""}:{},u=(null==i?void 0:i.module)||"";if(O.No&&i.module===m.routeModule.WIKI){var s,E="2"===(0,A.getValidWikiVersionFromTemplate)((0,I.z)(o.Z.pathname)||void 0);E?s=E:S.ZP&&"function"==typeof S.ZP.getState&&(s=(0,R.Ux)(S.ZP.getState())),s&&O.Hx&&(u=m.routeModule.WORK_SPACE_WIKI)}var f=Object.assign({module:u,sub_module:(null==i?void 0:i.subModule)||"none"},c);return f}var g={};function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.Z.href;if(g[e])return g[e];var t=(0,f.LP)();if(t){var n=(0,i.p)(t);return g[e]=n,n}return"none"}var b={};function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.Z.href;if(b[e])return"file"===b[e]?"drive":b[e];var t=(0,f.W4)();return t?(b[e]=t,"file"===t?"drive":t):"none"}var w={};function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.Z.href;if(w[e])return w[e];var t=(0,T.nT)(e,!0),n=t.token;if(n){var r=(0,i.p)(n);return w[e]=r,r}return"none"}var U={};function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.Z.href;if(U[e])return U[e];var t=(0,f.pv)(e);return t?(U[e]=t,t):"none"}function Z(){return(0,i.p)((0,r.default)(window,"teaMap.ownerId"))}function x(){return(window.User.suid===(0,r.default)(window,"teaMap.ownerId")).toString()}function B(){return c.y0.isAnonymousAccess?"anonymous":"suite"}function W(e){return function(){return String((0,r.default)(window,"teaMap[".concat(e,"]"),"none"))}}function G(){var e=(0,r.default)(window,"teaMap.createTime");if(e)return(0,d.mu)(e)}function K(){var e=(0,r.default)(window,"teaMap.createTime");if(e){var t=1e3*e,n=(new Date).getTime();return Math.floor((n-t)/864e5)}}function V(){var e;try{e=(0,l.getCurrentRouteObj)()}catch(e){return""}return e?e.path:""}function j(e){return y[e]||e||"web"}function Y(){return u.Z.isIPad?y.iPad:y[u.Z.osname]||"unknown"}function J(){return(u.Z.osversion||0).toString()}function X(){return s.$2?"feishu_docs_client":u.Z.isFeed||u.Z.isLark?"lark":u.Z.isDocs?"doc_app":"web"}function q(){var e="others";return u.Z.isFeed||u.Z.isLark||s.$2||(u.Z.isWechat?e=L.WECHAT:u.Z.isQQ?e=L.QQ:u.Z.isWeibo?e=L.WEIBO:u.Z.isToutiao?e=L.TOUTIAO:u.Z.isMobile&&!u.Z.isLark?e=L.MOBILE_WEB:u.Z.isMobile||!u.Z.isMac&&!u.Z.isWindows||(e=L.PC_WEB)),e}var Q,z=window.name.startsWith("MESSAGE_CHANNEL");function $(){return u.Z.isFeishuRooms?"VC Room":u.Z.isInVC?"VC":u.Z.isOpendoc?z?"opendoc_applet":"opendoc":z?"applet":window.parent!==window?"iframe":"none"}function ee(){return(0,T.mB)(o.Z.search).vc_meeting_id||"none"}function te(){return(0,r.default)(window,"vcSdk.context.action_unique_id")||"none"}function ne(){return(0,T.mB)(o.Z.search).share_id||"none"}function re(){return window.localStorage.getItem("vc_device_id")||""}function oe(){return s.$2?"1.0.0":(0,r.default)(window,"scm.version","0")}function ie(e){var t=(0,r.default)(window,"rv_rev")||"",n=t.substr(t.indexOf("-")+1),o=n.indexOf("-",n.indexOf("-")+1);return"date"===e?n.slice(0,o)||0:"timestamp"===e?parseInt(n.substr(o+1),10)||0:"-1"}function ae(){return(0,p.isSingleProduct)()?"spur":"suite"}function ce(){return s.$2?"feishu_docs_client":"none"}function ue(){return(0,T.mB)(o.Z.search).chat_id||"none"}function se(){if(Q)return Q;var e=(0,T.mB)(o.Z.search);return Q={refer_one_id:e.refer_one_id||"",from:e.from||"",search_id:e.session_id||""}}function _e(){var e=document.referrer||"",t=(0,T.nT)(e,!0).token||"",n=e;return t&&(n=e.replace(t,(0,i.p)(t))),n}var Ee={};function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.Z.href;if(Ee[e])return Ee[e];var t=(0,E.uZ)();return(0,a.Sh)()?(0,E.IP)():t?(Ee[e]=t,t):0}var fe={};function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.Z.href;if(fe[e])return fe[e];var t=(0,E.aF)();return t?(fe[e]=t,t):"none"}var Te={};function pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.Z.href;if(Te[e])return Te[e];var t=(0,E.n3)();return t?(Te[e]=t,t):0}var Se={};function Ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.Z.href;if(Se[e])return Se[e];var t=(0,E.bU)();return t?(Se[e]=t,t):"none"}function Oe(){var e=window.navigator.userAgent;return(0,r.default)(e.match(/Lark\/([0-9.]+)/i),"[1]")||"none"}},487828:function(e,t,n){"use strict";function r(){var e=window;return e._isDev||e.scm&&"online"!==e.scm.type}function o(){var e=window;return e.local&&e.local.isE2E||!1}n.d(t,{L1:function(){return r},ie:function(){return o}})},857720:function(e,t,n){"use strict";n.d(t,{y1:function(){return ee},ZP:function(){return re},hg:function(){return te}});var r,o,i=n(367017),a=n.n(i),c=n(335067),u=n(742097),s=n(77112),_=n(215661),E=n(919264),l=n(804175),f=n(298652),d=n(674411),T=n(893835),p=n(671914),S=n(746986);!function(e){e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.OFF=5]="OFF"}(r||(r={})),function(e){e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.OFF=5]="OFF",e[e.COUNT=6]="COUNT",e[e.TIME=7]="TIME",e[e.MEAN=8]="MEAN"}(o||(o={}));var I="_count_",O="_time_",R="_mean_",m=(0,p.Mo)().localhost;function A(e,t){m&&console.log(e,t)}var C,h,v=function(e){var t,n=e.level,o=["logger ".concat(name,":")].concat((0,f.Z)(e.params));if(n===r.DEBUG)(t=console).debug.apply(t,(0,f.Z)(o));else if(n===r.INFO){var i;(i=console).info.apply(i,(0,f.Z)(o))}else if(n===r.WARN){var a;(a=console).warn.apply(a,(0,f.Z)(o))}else if(n===r.ERROR){var c;(c=console).error.apply(c,(0,f.Z)(o))}},D=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"__DEFAULT__",o=arguments.length>1?arguments[1]:void 0;(0,E.Z)(this,e),this.debouncedTeaLog=(0,d.default)((function(){t.suspendedLogs.length>0&&t.reportSuspendedLogs()}),1e3),this.name=n,this.cache=new Map,this.level=r.INFO,this.writeData=o||v,this.middlewares=[this.createLevelChecker(),this.createDataWritter()],this.suspendedLogs=[]}return(0,l.Z)(e,[{key:"setLevel",value:function(e){this.level=e}},{key:"setWriter",value:function(e){this.writeData=e}},{key:"use",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.middlewares=[this.createLevelChecker()].concat(t,[this.createDataWritter()])}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.invokeByLevel(o.DEBUG,r.DEBUG,t)}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.invokeByLevel(o.INFO,r.INFO,t)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.invokeByLevel(o.WARN,r.WARN,t)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.invokeByLevel(o.ERROR,r.ERROR,t)}},{key:"teaLog",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e?(this.suspendedLogs.push(n),this.debouncedTeaLog()):(this.suspendedLogs.length>0&&this.reportSuspendedLogs(),n.forEach((function(e){e.key&&(A(e.key,e),(0,S.collectSuiteEvent)(e.key,e))})),this.info(n))}},{key:"reportSuspendedLogs",value:function(){this.suspendedLogs.forEach((function(e){e&&e.length&&e.forEach((function(e){e.key&&(A(e.key,e),(0,S.collectSuiteEvent)(e.key,e))}))})),this.suspendedLogs=[]}},{key:"ravenCatch",value:function(e,t){try{var n=e.message||JSON.stringify(e);n=(n=(n=(n=n.replace(/session/gi,"sierra")).replace(/token/gi,"tangoOscar")).replace(/cookie/gi,"charlie")).replace(/ticket/gi,"tangoIndia"),console.error(e instanceof Error?e.stack:n),(0,T.Tb)(e,t),this.info({ex:n})}catch(e){return}}},{key:"count",value:function(e){var t=I+e,n=this.cache.get(t);if(void 0===n&&(n=0),"number"==typeof n){n++,this.cache.set(t,n);for(var i=arguments.length,a=new Array(i>1?i-1:0),c=1;c<i;c++)a[c-1]=arguments[c];this.invokeByLevel(o.COUNT,r.INFO,[e].concat(a,[n]))}else console.error("counter key: ".concat(e," is used by others."))}},{key:"clearCounter",value:function(e){var t=I+e;this.clearCache(t)}},{key:"mean",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(!(n.length<1)){var a=n[0];if("number"==typeof a){var c=R+e,u=this.cache.get(c);if(void 0===u&&(u=[]),Array.isArray(u)){u.push(a);var s=u.reduce((function(e,t){return e+t}),0);this.cache.set(c,u),this.invokeByLevel(o.MEAN,r.INFO,[e].concat(n,[s/u.length]))}else console.error("mean key: ".concat(e," is used by others."))}}}},{key:"clearMean",value:function(e){var t=R+e;this.clearCache(t)}},{key:"clearAllCache",value:function(){this.cache.clear()}},{key:"time",value:function(e){var t=Date.now(),n=O+e,r=this.cache.get(n);void 0===r?(r=t,this.cache.set(n,r)):console.error("timer key: ".concat(e," is used by others."))}},{key:"timeEnd",value:function(e){var t=Date.now(),n=O+e,i=this.cache.get(n);if(void 0!==i){i=t-i,this.cache.delete(n);for(var a=arguments.length,c=new Array(a>1?a-1:0),u=1;u<a;u++)c[u-1]=arguments[u];this.invokeByLevel(o.TIME,r.INFO,[e].concat(c,[i]))}else console.error("timer key: ".concat(e," is not defined."))}},{key:"clearCache",value:function(e){void 0!==this.cache.get(e)&&this.cache.delete(e)}},{key:"invokeByLevel",value:function(e,t,n){this.invoke(this.createContext(e,t,n||[]))}},{key:"createContext",value:function(e,t,n){return{method:e,name:this.name,level:t,params:n,logger:this}}},{key:"invoke",value:function(e){var t=this,n=0,r=function r(o){return function(){if(o===n){var i=t.middlewares[n];n++;var a=r(n);i&&i(e,a)}}}(n);r()}},{key:"createLevelChecker",value:function(){var e=this;return function(t,n){e.level>t.level||n()}}},{key:"createDataWritter",value:function(){var e=this;return function(t,n){e.writeData(t)}}}]),e}(),N=n(774561);!function(e){e[e.MEAN=0]="MEAN",e[e.SUM=1]="SUM"}(C||(C={}));var L=(h={},(0,N.Z)(h,C.SUM,(function(e){return e.reduce((function(e,t){return e+t}),0)})),(0,N.Z)(h,C.MEAN,(function(e){return e.reduce((function(e,t){return e+t}),0)/e.length})),h),y=function(){function e(){(0,E.Z)(this,e),this.contexts={},this.contexts={}}return(0,l.Z)(e,[{key:"set",value:function(e){var t=e.key,n=e.tags,r=e.value,o=e.type,i=e.handler,a=e.pairs;if(r){var c,u=this.generateKeys(t,n);this.contexts[u]=this.contexts[u]||{type:o,key:t,tags:n,value:[],handler:i},(c=this.contexts[u].value).push.apply(c,(0,f.Z)(r))}else if(a){var s=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);this.contexts[s]={type:o,tags:n,pairs:a}}}},{key:"read",value:function(){var e=this;return Object.getOwnPropertyNames(this.contexts).map((function(t){return e.contexts[t]}))}},{key:"clear",value:function(){this.contexts={}}},{key:"generateKeys",value:function(e,t){t=t||{};var n=Object.keys(t).sort().map((function(e){var n=t[e];return"".concat(e,":").concat(n)}));return[e].concat((0,f.Z)(n)).join("-")}}]),e}(),P=function(){function e(t){var n=this;(0,E.Z)(this,e),this.uploadTimer=0,this.sending=!1,this.upload=function(){if(n.sending)n.setUploadTimer(2e3);else{n.sending=!0;var e=n.storage,t=n.logType,r=n.header,o=e.read();if(0!==o.length){var i=o.map((function(e){var t={};if(e.value){var r=L[e.handler];t.value=r?r(e.value):0,t.key=e.key||""}else e.pairs&&(t.pairs=e.pairs);n.table&&(t.table=n.table);var o=Object.assign({type:e.type,ts:Math.round(Date.now()/1e3)},t);return e.tags&&(o.tags=e.tags),o})),a={data:JSON.stringify(i)};t&&(a.log_type=t);var c={data:[a],header:r},u=n.getUrl(),s=new XMLHttpRequest;s.open("POST",u,!0),s.setRequestHeader("Content-Type","application/json"),s.onreadystatechange=function(){4===s.readyState&&(200===s.status&&(e.clear(),n.onUpload&&n.onUpload()),n.sending=!1)},s.send(JSON.stringify(c))}else n.sending=!1}},this.validKeyPrefix=t.validKeyPrefix||[],this.logType=t.logType||"",this.onUpload=t.onUpload,this.getUrl="string"==typeof t.url?function(){return t.url}:t.url,this.header=Object.assign({aid:"1161",channel_type:"metrics"},t.header||{}),this.storage=t.storage||new y,this.table=t.table}return(0,l.Z)(e,[{key:"setUploadTimer",value:function(e){(0,s.Yy)("metrics").open&&(e=e||5e3,window.clearTimeout(this.uploadTimer),this.uploadTimer=window.setTimeout(this.upload,e))}},{key:"setValueContext",value:function(e,t,n,r,o){if((0,s.Yy)("metrics").open){var i=this.storage;this.validKeyPrefix.every((function(e){return-1===n.indexOf(e)}))||i.set({key:n,tags:o,handler:t,type:e,value:[r]})}}},{key:"setPairsContext",value:function(e,t,n){(0,s.Yy)("metrics").open&&this.storage.set({tags:n,pairs:t,type:e})}},{key:"count",value:function(e,t){this.setValueContext("counter",C.SUM,e,1,t),this.setUploadTimer()}},{key:"mean",value:function(e,t,n){this.setValueContext("timer",C.MEAN,e,t,n),this.setUploadTimer()}},{key:"pair",value:function(e,t){this.setPairsContext("timer",e,t),this.setUploadTimer()}}]),e}(),g=function(){function e(t){(0,E.Z)(this,e),this.metrics=t}return(0,l.Z)(e,[{key:"success",value:function(e,t,n){this.send(1,e,t,n)}},{key:"fail",value:function(e,t,n){this.send(0,e,t,n)}},{key:"send",value:function(e,t,n,r){try{var o=[{key:"latency",value:1},{key:"stable",value:e}];r=Object.assign({service:t,cmd:n},r),this.metrics.pair(o,r)}catch(e){console.error(e)}}}]),e}(),M=P,b=n(284113);function k(e,t){try{t()}catch(e){console.error(e)}}function w(e,t){e.method===o.MEAN||e.method===o.COUNT?t():_.Z.isMobile||_.Z.isLark||_.Z.isFeed||t()}function H(e,t){if(!(0,b.kf)())return window.User&&window.User.showLog&&v(e);t()}var U,F,Z=n(436617),x=n.n(Z),B=n(613066),W=x().createInstance({name:"moirae-forage-v2-".concat(window.User.id),driver:[x().INDEXEDDB]}),G=function(){function e(t){(0,E.Z)(this,e),this.inStack=[],this.outStack=[],this.outStack=t.slice(),this.outStack.sort((function(t,n){return e.getTimeStamp(n)-e.getTimeStamp(t)}))}return(0,l.Z)(e,[{key:"index",value:function(e,t){var n=this.inStack,r=this.outStack,o=r.length;if(e<o){var i=o-e-1;return t&&(r[i]=t),r[i]}var a=e-o;return t&&(n[a]=t),n[a]}},{key:"length",value:function(){return this.inStack.length+this.outStack.length}},{key:"push",value:function(t){this.inStack.push(t);for(var n=this.length()-1;n>=1;n--){var r=this.index(n-1),o=this.index(n);if(!(e.getTimeStamp(r)>e.getTimeStamp(o)))break;this.index(n-1,o),this.index(n,r)}}},{key:"pop",value:function(){return this.outStack.length||(this.outStack=this.inStack.reverse(),this.inStack=[]),this.outStack.pop()}},{key:"map",value:function(e){for(var t=[],n=0;n<this.length();n++)t.push(e(this.index(n)));return t}},{key:"filter",value:function(e){return this.map((function(e){return e})).filter(e)}}],[{key:"getTimeStamp",value:function(e){return parseInt(e.split("-")[2],10)}},{key:"getToken",value:function(e){return e.split("-")[0]}}]),e}(),K=function e(t){var n=this;(0,E.Z)(this,e),this.userId="",this.sortedLogKeys=new G([]),this.isReady=!1,this.loadKeysInStore=(0,c.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.keys();case 2:if(!((t=e.sent).length>1e4)){e.next=7;break}return n.sortedLogKeys=new G(t.concat(n.sortedLogKeys.map((function(e){return e})))),e.next=7,n.autoClearLogs();case 7:n.isReady=!0;case 8:case"end":return e.stop()}}),e)}))),this.saveLog=function(){var e=(0,c.Z)(a().mark((function e(t){var r,o,i,c,u,s,_;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isReady){e.next=2;break}return e.abrupt("return");case 2:if(r=n.getToken(),o=Date.now(),i=n.getFileType(),c=window,u=c.Spread,s={eToken:r,timeStamp:o,fileType:i,timeStampStr:new Date(o).toLocaleString(),userId:n.userId,docToken:"doc"===i?r:"",sheetToken:u&&u.sync&&(0,B.p)(u.sync._token)||"",logs:t.params,scm:window.scm||{}},r&&0!==r.length){e.next=9;break}return e.abrupt("return");case 9:return _="".concat(r,"-").concat(t.level,"-").concat(o,"-").concat(n.sortedLogKeys.length()),n.sortedLogKeys.push(_),e.prev=11,e.next=14,W.setItem(_,s);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),console.error(e.t0);case 19:return e.next=21,n.autoClearLogs();case 21:case"end":return e.stop()}}),e,null,[[11,16]])})));return function(t){return e.apply(this,arguments)}}(),this.autoClearLogs=(0,c.Z)(a().mark((function e(){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.sortedLogKeys;case 1:if(!(t.length()>1e4)){e.next=7;break}return r=t.pop(),e.next=5,W.removeItem(r);case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e)}))),this.collectLog=(0,c.Z)(a().mark((function e(){var t,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.getToken(),r=n.sortedLogKeys.filter((function(e){return G.getToken(e)===t})),o=[],e.next=5,n.iterKeys(r,function(){var e=(0,c.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.getItem(t);case 2:n=e.sent,o.push(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",o.reverse());case 6:case"end":return e.stop()}}),e)}))),this.removeLogs=function(){var e=(0,c.Z)(a().mark((function e(t){var r,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.sortedLogKeys,t){e.next=9;break}case 2:if(!r.length()){e.next=8;break}return o=r.pop(),e.next=6,W.removeItem(o);case 6:e.next=2;break;case 8:return e.abrupt("return");case 9:return e.next=11,n.iterKeys(t,function(){var e=(0,c.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.removeItem(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:i=r.filter((function(e){return!t.includes(e)})),n.sortedLogKeys=new G(i);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getFileType=function(){return"undefined"!=typeof location&&u.Z.href?/\/sheets?\//gi.test(u.Z.href)?"sheet":/\/docs?\//gi.test(u.Z.href)?"doc":"unknown":"unknow"},this.getToken=function(){if("undefined"==typeof location||!u.Z.pathname)return"";var e=u.Z.pathname,t=e.substr(e.lastIndexOf("/")+1).split("#");return(0,B.p)(t[0])},this.iterKeys=function(){var e=(0,c.Z)(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<t.length-1)){e.next=7;break}return e.next=4,n(t[r]);case 4:r++,e.next=1;break;case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.userId=t,this.loadKeysInStore()};!function(){for(var e=window.localStorage.length-1;e>=0;e--){var t=window.localStorage.key(e);t&&/moirae/gi.test(t)&&window.localStorage.removeItem(t)}}();var V,j=Date.now().toString(),Y=(0,s.Yy)("metrics"),J=new M({url:function(){var e=window.User,t=e?e.id.substr(0,11):j.substr(0,11);return"https://".concat(Y.domain,"/log/collect?aid=1161&device_id=").concat(t,"&rdn=").concat(Math.random())},logType:"docs_log",validKeyPrefix:["ee.docs.sheet","ee.docs.doc","ee.docs.bitable","ee.docs.mindnote"],onUpload:function(){F.clearAllCache()}}),X=new g(new M({url:"https://".concat(Y.domain,"/log/collect"),table:"ee-http-sla",header:(V=window.User,{device_id:V&&V.id?V.id.substr(0,11):j.substr(0,11)})}));window.scm=window.scm||JSON.parse('{"version":"0.0.0.0000","type":"test","branch":"localhost"}');var q=null,Q=function(){if(q)return q;if(window.scm){q={version:"",branch:""};var e=window.scm;q.branch=e.branch;var t=e.version.split(".");if(4!==t.length)return q.version="",null;q.version=t[3]||""}return q};function z(e){e=e||{},_.Z.isMobile?e.platform="mobile":_.Z.isLark?e.platform="lark":_.Z.isFeed?e.platform="feed":e.platform="pc",e.scm=window.scm?"".concat(window.scm.version||"","-").concat(window.scm.branch||""):"";var t=window.location.host,n="^(https?://)?".concat(t,"/(?:space/)?(?:component/)?(docs?|sheets?|slides?|mindnotes?|bitable|base)/([a-zA-Z0-9]{22})/?")+"(\\?[;&a-zA-Z\\d%_.~+=-]*)?(\\#[-a-zA-Z\\d_]*)?$",r=new RegExp(n).exec(u.Z.href);return!r||r.length<4||(e.type=r[2]),e}var $=!1,ee=function(){var e=(0,c.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.collectLog();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=(0,c.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.removeLogs();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne={debug:function(){var e;(e=F).debug.apply(e,arguments)},info:function(){var e;(e=F).info.apply(e,arguments)},warn:function(){var e;(e=F).warn.apply(e,arguments)},error:function(){var e;(e=F).error.apply(e,arguments)},time:function(e){F.time(e)},timeEnd:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=F).timeEnd.apply(t,[e].concat(r))},count:function(e){for(var t,n,r=Q(),o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];r&&r.branch&&r.branch.length>0&&(t=F).count.apply(t,["".concat(e,"-").concat(r.branch)].concat(i));r&&r.version&&r.version.length>0&&(n=F).count.apply(n,["".concat(e,"-").concat(r.version)].concat(i))},mean:function(e,t){for(var n,r,o=Q(),i=arguments.length,a=new Array(i>2?i-2:0),c=2;c<i;c++)a[c-2]=arguments[c];o&&o.branch&&o.branch.length>0&&(n=F).mean.apply(n,["".concat(e,"-").concat(o.branch)].concat(a));o&&o.version&&o.version.length>0&&(r=F).mean.apply(r,["".concat(e,"-").concat(o.version)].concat(a))},teaLog:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=F).teaLog.apply(e,[$].concat(n))},ravenCatch:function(e,t){F.ravenCatch(e,t)},slaFail:function(){if((0,s.kf)()){var e=z();X.fail("bear_fe.http.all",e.type)}},slaSuccess:function(){if((0,s.kf)()){var e=z();X.success("bear_fe.http.all",e.type)}},collectLog:ee,removeLogs:te,suspend:function(){$=!0},resume:function(){$=!1,F.reportSuspendedLogs()}};!function(){var e=window.User,t=e?e.id:"__DEFAULT__";U=new K(t),(F=new D).use(k,H,w),F.setWriter((function(e){var t=e.params,n=e.method;if(n===o.MEAN){if(t.length>=3){var r=t.length>3?t[2]:{};z(r),J.mean(t[0],t[1],r)}}else if(n===o.COUNT&&t.length>=2){var i=t.length>2?t[1]:{};z(i),J.count(t[0],i)}}))}();var re=ne;window.moirae=ne},600126:function(e,t,n){"use strict";n.d(t,{qW:function(){return a},mQ:function(){return c},b7:function(){return u},hO:function(){return s}});var r,o=n(774561),i=n(812083),a={collectLogList:"collectLogList",setAuthConfig:"setAuthConfig",setFeatureConfig:"setFeatureConfig",setOpendocOptions:"setOpendocOptions",addWindowEventListener:"addWindowEventListener",removeWindowEventListener:"removeWindowEventListener",toggleReplaceBox:"toggleReplaceBox",toggleModal:"toggleModal",togglePrintBox:"togglePrintBox",toggleHistory:"toggleHistory",hideHistoryModal:"hideHistoryModal",closeImageViewer:"closeImageViewer",toggleCommentHistory:"toggleCommentHistory",toggleShareMenu:"toggleShareMenu",reportAbuse:"reportAbuse",exportByType:"exportByType",toggleTranslate:"toggleTranslate",anchorJump:"anchorJump",getAnchorTop:"getAnchorTop",highlightAnchor:"highlightAnchor",getUserInfo:"getUserInfo",getSuiteTitle:"getSuiteTitle",getCurrentAuth:"getCurrentAuth",getCollaborator:"getCollaborator",getDirectoryData:"getDirectoryData",getTranslateLangs:"getTranslateLangs",replaceUrl:"replaceUrl",setTheme:"setTheme",scrollTo:"scrollTo"},c={ERROR_CODE:"ERROR_CODE",SUITE_DELETED:"SUITE_DELETED",SUITE_STATUS:"SUITE_STATUS",AUTH_CHANGE:"AUTH_CHANGE",COLLAB_CHANGE:"COLLAB_CHANGE",TRANSLATE_CHANGE:"TRANSLATE_CHANGE",DIRECTORY_CHANGE:"DIRECTORY_CHANGE",SUITE_TITLE_CHANGE:"SUITE_TITLE_CHANGE",IMAGE_VIEW:"IMAGE_VIEW",FULL_SCREEN_MODE:"FULL_SCREEN_MODE",SHOW_MASK:"SHOW_MASK",HIDE_MASK:"HIDE_MASK",CURR_ANCHOR:"CURR_ANCHOR",DOCUMENT_HEIGHT:"DOCUMENT_HEIGHT",DOCUMENT_SCROLL:"DOCUMENT_SCROLL",HYPERLINK_CLICK:"HYPERLINK_CLICK",SCROLL_TOP:"SCROLL_TOP"},u={JSSDK_SESSION_INVALID:"10407",SCOPE_FAIL:"20452",NO_PERMISSION:"4",NOTE_DELETED:"1002",NOT_FOUND:"1004",NETWORK_ERR:"-8",REQUEST_FAIL:"1",NOT_SUPPORT:"-100",LOAD_ERROR:"-500"},s=(r={},(0,o.Z)(r,i.STATUS_CODE.LOGIN_REQUIRED,u.JSSDK_SESSION_INVALID),(0,o.Z)(r,i.STATUS_CODE.SCOPE_FAIL,u.SCOPE_FAIL),(0,o.Z)(r,i.STATUS_CODE.NOT_FOUND,u.NOT_FOUND),(0,o.Z)(r,i.STATUS_CODE.NOTE_DELETED,u.NOTE_DELETED),(0,o.Z)(r,i.STATUS_CODE.FORBIDDEN,u.NO_PERMISSION),(0,o.Z)(r,i.STATUS_CODE.FAILED,u.REQUEST_FAIL),(0,o.Z)(r,i.STATUS_CODE.CONNECT_ERROR,u.NETWORK_ERR),r)},396429:function(e,t,n){"use strict";var r=n(265498),o=n(215661),i=n(941985),a=n(230381),c=n(600126),u=n(677638),s=n(762227),_=n(934658);if(o.Z.isOpendoc){var E=function(e){var t=e.authConfig,n=e.featureConfig,r=e.mountStartTime;t&&l(t),n&&f(n),r&&(u.PH.mountStartTime=r)},l=function(e){var t=e.jssdkSession,n=e.appId;(0,u.BX)(t),(0,u.Rk)(),u.PH.updateAppId(n)},f=function(e){i.ZP.dispatch((0,a.bz)(e)),e.CONTENT&&e.CONTENT.mode&&i.ZP.dispatch((0,s.o)("wide"===e.CONTENT.mode?_.W.FullWidth:_.W.StandardWidth))};window.__opendoc_state__&&E(window.__opendoc_state__),n.e(63949).then(n.t.bind(n,63949,23)).then((function(e){var t=e.createOpendocChannel,n=e.opendocHandshake,o=e.registerOpendocApi,i=e.sendOpendocEvent;o(c.qW.setAuthConfig,l),o(c.qW.setFeatureConfig,f),t(),/opendoc=true/.test(location.search)&&setTimeout((function(){return i(c.mQ.SUITE_STATUS,null)}),250),n().then((function(e){e&&"object"===(0,r.Z)(e)&&E(e)}))}))}},888740:function(e,t,n){"use strict";n.d(t,{Vq:function(){return T},p3:function(){return p},ng:function(){return S}});var r,o,i,a=n(367017),c=n.n(a),u=n(335067),s=n(774561),_=n(215661);!function(e){e.registerOpendocApi="registerOpendocApi",e.unregisterOpendocApi="unregisterOpendocApi",e.sendOpendocEvent="sendOpendocEvent"}(o||(o={}));var E=new Promise((function(e){return i=e})),l=(r={},(0,s.Z)(r,o.registerOpendocApi,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f(o.registerOpendocApi,t)})),(0,s.Z)(r,o.unregisterOpendocApi,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f(o.unregisterOpendocApi,t)})),(0,s.Z)(r,o.sendOpendocEvent,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f(o.sendOpendocEvent,t)})),r);function f(e,t){return d.apply(this,arguments)}function d(){return(d=(0,u.Z)(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_.Z.isOpendoc){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,E;case 4:(r=l[t])&&r.apply(r,n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}_.Z.isOpendoc&&n.e(63949).then(n.t.bind(n,63949,23)).then((function(e){var t,n=e.registerOpendocApi,r=e.unregisterOpendocApi,a=e.sendOpendocEvent;t={},(0,s.Z)(t,o.registerOpendocApi,n),(0,s.Z)(t,o.unregisterOpendocApi,r),(0,s.Z)(t,o.sendOpendocEvent,a),l=t,i()}));var T=l[o.registerOpendocApi],p=l[o.unregisterOpendocApi],S=l[o.sendOpendocEvent]},134904:function(e,t,n){"use strict";n.d(t,{kb:function(){return s},H0:function(){return _},Ni:function(){return E},Y7:function(){return l},Yj:function(){return f},aX:function(){return d}});var r=n(215661),o=n(941985),i=n(230381),a=n(34294),c=r.Z.isOpendoc,u=function(e){if(c)return(0,a.d)(e)(o.ZP.getState())},s=function(){if(c){var e=o.ZP.getState();return(0,a.k)("image")(e)||(0,a.d)(i.D9.IMAGE)(e)}},_=function(){if(c){var e=o.ZP.getState();return(0,a.k)("sidebar")(e)||(0,a.d)(i.D9.SIDEBAR)(e)}},E=function(){return u(i.D9.COMMENT)},l=function(){return u(i.D9.CONTENT)},f=function(){return u(i.D9.COLLABORATOR)},d=function(e){if(!c)return!0;var t=o.ZP.getState(),n=(0,a.d)(i.D9.MORE_MENU)(t);if(n){var r=n.items["".concat(e,"Enable")];return void 0===r||r}return!0}},677638:function(e,t,n){"use strict";n.d(t,{Rk:function(){return u.Rk},Y7:function(){return s.Y7},kb:function(){return s.kb},R1:function(){return c},PH:function(){return u.PH},BX:function(){return _.BX},GZ:function(){return a}});var r=n(215661),o=n(600126),i=n(888740),a=function(e,t,n){r.Z.isOpendoc&&(n&&(0,i.Vq)(e,(function(){n(),(0,i.p3)(e)})),(0,i.ng)(o.mQ.SHOW_MASK,{closeApi:e,background:t}))},c=function(e){r.Z.isOpendoc&&(e&&(0,i.p3)(e),(0,i.ng)(o.mQ.HIDE_MASK))},u=n(373159),s=n(134904),_=n(328146)},979512:function(e,t,n){"use strict";n.d(t,{M:function(){return u},y:function(){return s}});var r=n(359980),o=n(600126),i=n(888740),a=n(328146),c=n(373159);function u(e){return Object.assign({},e,{headers:Object.assign({},e.headers,{},a.G4?(0,a.Ho)():{})})}var s=function(e){var t=(0,r.default)(e,"data.code");if(void 0!==t){var n=o.hO[t]||o.hO[t.toString()];void 0!==n&&(0,i.ng)(o.mQ.ERROR_CODE,n),n===o.b7.JSSDK_SESSION_INVALID&&(0,c.PL)("expired")}return e}},328146:function(e,t,n){"use strict";n.d(t,{G4:function(){return i},BX:function(){return c},kV:function(){return u},Ho:function(){return s}});var r=n(774561),o=n(215661),i=!/opendoc=true/.test(location.search)&&o.Z.isOpendoc,a="";function c(e){a=e}function u(){return a}var s=function(){return(0,r.Z)({},"JsSDK-Session",a)}},373159:function(e,t,n){"use strict";n.d(t,{PH:function(){return a},PL:function(){return u},Rk:function(){return s}});var r=n(746986),o=[];function i(e,t){var n=a.mountStartTime;n&&!o.includes(e)&&(o.push(e),(0,r.default)(e,{duration:(t||Date.now())-n}))}var a={mountStartTime:0,hasLogFirstScreen:!1,clear:function(){return o.length=0},collect:function(){return r.default.apply(void 0,arguments)},updateAppId:function(e){r.collector.updateConfig({"custom.app_id":e})},collectSessionState:function(e){(0,r.default)("opendoc_session_state",{state:e})},collectStartRender:function(){i("opendoc_start_render")},collectFinishRender:function(){i("opendoc_finish_render")},collectShowFirstScreen:function(e){a.hasLogFirstScreen||(a.hasLogFirstScreen=!0,i("opendoc_show_first_screen",e))}},c=Object.create(null),u=function(e){!c[e]&&a.collectSessionState(e),c[e]=!0},s=function(){return c=Object.create(null)}},204328:function(e,t,n){"use strict";n.d(t,{NS:function(){return c},DJ:function(){return s},Bx:function(){return _},U3:function(){return E}});var r=n(774561),o=n(764026),i=n(972429),a="FETCH_",c={START:"_START",SUCCESS:"_SUCCESS",FAIL:"_FAIL",CANCEL:"_CANCEL",BEGIN:"_BEGIN",COMPLETE:"_COMPLETE",ERROR:"_ERROR"},u={};function s(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0===e.length)return u;var o=n?a:"";return t={},(0,r.Z)(t,"".concat(o).concat(e),"".concat(o).concat(e)),(0,r.Z)(t,"".concat(o).concat(e).concat(c.START),"".concat(o).concat(e).concat(c.START)),(0,r.Z)(t,"".concat(o).concat(e).concat(c.SUCCESS),"".concat(o).concat(e).concat(c.SUCCESS)),(0,r.Z)(t,"".concat(o).concat(e).concat(c.FAIL),"".concat(o).concat(e).concat(c.FAIL)),(0,r.Z)(t,"".concat(o).concat(e).concat(c.CANCEL),"".concat(o).concat(e).concat(c.CANCEL)),t}function _(e){var t;if((0,i.default)(e))return u;var n="";return t={},(0,r.Z)(t,"".concat(n).concat(e),"".concat(n).concat(e)),(0,r.Z)(t,"".concat(n).concat(e).concat(c.BEGIN),"".concat(n).concat(e).concat(c.BEGIN)),(0,r.Z)(t,"".concat(n).concat(e).concat(c.COMPLETE),"".concat(n).concat(e).concat(c.COMPLETE)),(0,r.Z)(t,"".concat(n).concat(e).concat(c.ERROR),"".concat(n).concat(e).concat(c.ERROR)),t}var E=function(e,t){return(0,o.Z)(e,(function(e,n){return"".concat(t,"/").concat(e.toUpperCase())}))}},759665:function(e,t,n){"use strict";n.r(t),n.d(t,{triggerFindReplace:function(){return o},openFindReplaceBox:function(){return i},closeFindReplaceBox:function(){return a},startFinding:function(){return c},updateFindReplaceResult:function(){return u},setReplaceText:function(){return s},setIsReplacingAll:function(){return _},findReplaceShowMore:function(){return E}});var r=n(357081),o=function(e){return{type:r.Hp.findReplace.TRIGGER_FIND_REPLACE,payload:e}},i=function(e){return{type:r.Hp.findReplace.OPEN_FIND_REPLACE_BOX,payload:e}},a=function(){return{type:r.Hp.findReplace.CLOSE_FIND_REPLACE_BOX}},c=function(e){return{type:r.Hp.findReplace.START_FINDING,payload:e}},u=function(e){return{type:r.Hp.findReplace.UPDATE_FIND_REPLACE_RESULT,payload:e}},s=function(e){return{type:r.Hp.findReplace.SET_REPLACE_TEXT,payload:e}},_=function(e){return{type:r.Hp.findReplace.SET_IS_REPLACING_ALL,payload:e}},E=function(){return{type:r.Hp.findReplace.FIND_REPLACE_SHOW_MORE}}},311152:function(e,t,n){"use strict";n.d(t,{N6:function(){return o},bY:function(){return i},pF:function(){return a},PJ:function(){return c}});var r=n(246479),o=function(e,t){return{type:r.H.common.UPDATE_BUSINESS_STAGE,payload:{business:e,stage:t}}},i=function(e,t){return{type:r.H.common.RESET_BUSINESS_STAGE,payload:{toInit:e,toClear:t}}},a=function(e){return{type:r.H.common.TIMEOUT_BUSINESS_STAGE,payload:e}},c=function(e){return{type:r.H.common.BIZ_STAGE_CONTAINER_READY,payload:{containerReadyType:e}}}},310418:function(e,t,n){"use strict";n.r(t),n.d(t,{updateAuthorizedMembers:function(){return A},fetchAuthorizedMembers:function(){return C},fetchAuthorizedMembersV2:function(){return h},fetchAuthorizedMembersCount:function(){return v},fetchAuthorizedRoleMembers:function(){return D},fetchAuthorizedRoleUser:function(){return N},fetchAuthorizedRoleUsers:function(){return L},fetchFolderInfoRole:function(){return y},setFolderInfoRole:function(){return P},addRoleToFolder:function(){return g},updateRoleFromFolder:function(){return M},deleteRoleFromFolder:function(){return b},fetchSuitePublicPermission:function(){return H},fetchUserActions:function(){return F},fetchUserPermissionOnSuite:function(){return Z},setUserPermissionFromClientVars:function(){return x},fetchAllPermissionInfo:function(){return B},updateMemberPermission:function(){return W},setSuitePublicPermission:function(){return G},setSuitePublicPermissionState:function(){return K},removeAuthorizedMember:function(){return V},bulkSetUserPermission:function(){return j},fetchShareFolderMembers:function(){return Y},fetchShareFolderSetting:function(){return J},updateShareSpaceSetting:function(){return X},fetchUserPermissionOnShareSpace:function(){return q},addMembersToFolder:function(){return Q},removeMemberFromFolder:function(){return z},transferShareFolderOwner:function(){return $},sendSuitePermissionRequest:function(){return ee},sendSuiteParentPermissionRequest:function(){return te},transferSuiteOwner:function(){return ne},universalTransferOwner:function(){return re},addPermission:function(){return oe},sendFolderPermissionRequest:function(){return ie},setEditMode:function(){return ae},setIsDocLockedByPlugin:function(){return ce},updateMemberPermissionV2:function(){return ue},notifyMemberAfterUpdatePermission:function(){return se},withdrawPermissionNotification:function(){return _e},fetchAuthorizedUsers:function(){return Ee},removeAuthorizedUsers:function(){return le},setUserPermissionError:function(){return fe},markCurrentSuiteFailed:function(){return de},fetchEmbedObjectPermissions:function(){return Te},fetchEmbedObjectUserV3:function(){return pe},removeEmbedObjects:function(){return Se},fetchEmbedObjectMembers:function(){return Ie},bulkCreateMockUserByMobile:function(){return Oe},bulkSetEmbedUserPermission:function(){return Re},setEmbedObjOwner:function(){return me},createPassword:function(){return Ae},deletePassword:function(){return Ce},refreshPassword:function(){return he},setHasPasswordState:function(){return ve},updateShareSpaceMemberPermission:function(){return De},setShareSpaceLinkPermState:function(){return Ne},confirmPassword:function(){return Le},fetchMembersExistV2:function(){return ye},fetchSuitePermissionConfig:function(){return Pe},bulkShareLink:function(){return ge},bulkAskOwner:function(){return Me},askOwnerOpenLinkSharing:function(){return be},fetchSingleContainerFolderPublicPermission:function(){return ke},updateSingleContainerFolderPublicPermission:function(){return we},fetchCurrentUserSingleContainerFolderPerm:function(){return He},fetchSingleContainerFolderMembers:function(){return Ue},addMembersToSingleContainerFolder:function(){return Fe},updateSingleContainerFolderMember:function(){return Ze},deleteSingleContainerFolderMember:function(){return xe},fetchAppShareMembers:function(){return Be},fetchRecommendAppMembers:function(){return We},applySingleContainerFolderPerm:function(){return Ge},fetchTeamSpaceCoverMemberInfo:function(){return Ke},leaveTeamSpace:function(){return Ve},transferSingleContainerFolderOwner:function(){return je},fetchSharedQrCode:function(){return Ye},unlockSingleContainerFolder:function(){return Je},unlockSuite:function(){return Xe},checkSpaceLockStateChange:function(){return qe},checkSuiteLockStateChange:function(){return Qe},fetchSingleContaierFolderExistMembers:function(){return ze}});var r=n(26278),o=n(774561),i=n(622450),a=n(829033),c=n(359980),u=n(758837),s=n(581034),_=n(357081),E=n(481382),l=n(354198),f=n(412840),d=n(360851),T=n(169573),p=["params"],S=["perm_public","permissions"],I=["permissions"],O=["getExtraInfo"],R=["params"],m=function(e){return 2===e},A=function(e,t,n){return{type:_.Hp.permission.UPDATE_AUTHORIZED_MEMBERS,payload:{token:e,type:t,data:n}}},C=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n={type:_.Hp.permission.FETCH_AUTHORIZED_MEMBERS,payload:{isFromNotification:r}},(0,o.Z)(n,E.REQUEST,{url:_.mb.GET_SUITE_AUTH_MEMBERS,params:{token:e,type:t},options:{mergeRequestDataIntoPayload:!0,takeLatest:!0}}),(0,o.Z)(n,l.F,{resetWhenSuiteTokenChange:!0}),n},h=function(e){var t=e.params,n=(0,r.Z)(e,p);return(0,o.Z)({type:_.Hp.intermediate.FETCH_PAGED_DATA,payload:(0,o.Z)({realActionType:_.Hp.permission.FETCH_AUTHORIZED_MEMBERS_V2,params:Object.assign({},t),options:Object.assign({isContinuous:!1,isFromNotification:!1},n)},l.F,!0)},E.DEFERRED,!0)},v=function(e,t){var n;return n={type:_.Hp.permission.FETCH_AUTHORIZED_MEMBERS_COUNT,payload:{}},(0,o.Z)(n,E.REQUEST,{url:_.mb.GET_SUITE_AUTH_MEMBERS_COUNT,params:{token:e,type:t},options:{mergeRequestDataIntoPayload:!0,takeLatest:!0}}),(0,o.Z)(n,l.F,!0),n},D=function(e,t){var n;return n={type:_.Hp.permission.FETCH_AUTHORIZED_ROLE_MEMBERS,payload:{}},(0,o.Z)(n,E.REQUEST,{url:_.mb.GET_SUITE_PERMISSION_ROLE_MEMBER,params:{token:e,type:t},options:{mergeRequestDataIntoPayload:!0,takeLatest:!0}}),(0,o.Z)(n,l.F,{resetWhenSuiteTokenChange:!0}),n},N=function(e,t){return(0,o.Z)({type:_.Hp.permission.FETCH_AUTHORIZED_ROLE_USER,payload:{}},E.REQUEST,{url:_.mb.GET_SUITE_PERMISSION_ROLE_USER,params:{token:e,type:t},options:{mergeRequestDataIntoPayload:!0,takeLatest:!0}})},L=function(e,t){return(0,o.Z)({type:_.Hp.permission.FETCH_AUTHORIZED_ROLE_USERS,payload:{}},E.REQUEST,{url:_.mb.GET_SUITE_PERMISSION_ROLE_USERS,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{tokens:e,type:t},options:{mergeRequestDataIntoPayload:!0}})},y=function(e,t){return(0,o.Z)({type:_.Hp.permission.FETCH_FOLDER_INFO_ROLE},E.REQUEST,{url:_.mb.GET_FOLDER_INFO_ROLE,params:{token:e,type:t},options:{takeLatest:!0}})},P=function(e,t,n){return(0,o.Z)({type:_.Hp.permission.POST_FOLDER_INFO_ROLE},E.REQUEST,{url:_.mb.POST_FOLDER_INFO_ROLE,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:Object.assign({token:e,type:t},n)})},g=function(e){var t=e.token,n=e.type,r=e.members,i=e.isSharedFolder,a=e.needNotify;return(0,o.Z)({type:_.Hp.permission.POST_ADD_ROLE_MEMBER},E.REQUEST,{url:_.mb.ADD_ROLE_MEMBER,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:t,type:n,need_notify:void 0===a||a,members:r},options:{transformResponse:function(e){return Object.assign({},e,{token:t,type:n,isSharedFolder:i})}}})},M=function(e,t,n,r,i){return(0,o.Z)({type:_.Hp.permission.POST_UPDATE_ROLE_MEMBER},E.REQUEST,{url:_.mb.UPDATE_ROLE_MEMBER,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:e,type:t,owner_id:n,owner_type:r,role_type:i},options:{transformResponse:function(n){return Object.assign({},n,{token:e,type:t})}}})},b=function(e,t,n,r){return(0,o.Z)({type:_.Hp.permission.POST_DELETE_ROLE_MEMBER},E.REQUEST,{url:_.mb.DELETE_ROLE_MEMBER,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:e,type:t,owner_id:n,owner_type:r},options:{transformResponse:function(r){return Object.assign({},r,{token:e,type:t,ownerId:n})}}})},k=function(e,t,n){var i;return i={type:_.Hp.permission.FETCH_SUITE_PUBLIC_PERMISSION,payload:{isFromNotification:n}},(0,o.Z)(i,E.REQUEST,{url:_.mb.GET_SUITE_PUBLIC_PERMISSION_V4,params:{token:e,type:t},options:{takeLatest:!0,transformResponse:function(n){var i,a,c=n.perm_public,s=void 0===c?{}:c,_=(n.permissions,(0,r.Z)(n,S));return Object.assign({},_,{token:e,type:t,constraint:s.constraint,has_link_password:s.link_password_switch,external_access:s.external_access_switch,manage_collaborator_entity:(0,f.hI)(s.manage_collaborator_entity),comment_entity:(0,f.hI)(s.comment_entity),share_external_entity:(0,f.hI)(s.share_external_entity),invite_external:2===(0,f.hI)(s.share_external_entity),link_share_entity:(0,f.hI)(s.link_share_entity),lock_state:s.lock_switch,security_entity:(0,f.hI)(s.security_entity),share_entity:(0,f.hI)(s.share_entity),block_options:s.block_options&&(i=s.block_options,a={},Object.keys(i).forEach((function(e){var t,n,r=u.Z[e]||e,c=(t=i[e],n="externalAccess"===r?m:f.hI,t.map((function(e){var t=e.value,r=e.block_type;return{value:n(t),blockType:r}})));Object.assign(a,(0,o.Z)({},r,c))})),a)})}}}),(0,o.Z)(i,l.F,{resetWhenSuiteTokenChange:!0}),i},w=function(e,t,n){var i;return i={type:_.Hp.permission.FETCH_SUITE_PUBLIC_PERMISSION,payload:{isFromNotification:n}},(0,o.Z)(i,E.REQUEST,{url:_.mb.GET_SUITE_PUBLIC_PERMISSION_V3,params:{token:e,type:t},options:{takeLatest:!0,transformResponse:function(n){var o=n.permissions,i=(0,r.Z)(n,I);return Object.assign({permission:o},i,{token:e,type:t})}}}),(0,o.Z)(i,l.F,{resetWhenSuiteTokenChange:!0}),i},H=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,d.X)()?k(e,t,n):w(e,t,n)},U=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{takeLatest:!0};return n={type:_.Hp.permission.FETCH_USER_PERMISSION_ON_SUITE,payload:{isFromNotification:r}},(0,o.Z)(n,E.REQUEST,{url:_.mb.GET_USER_PERMISSION_ON_SUITE_V3,params:{token:e,type:t},serverFirst:i.serverFirst,options:{takeLatest:i.takeLatest,transformResponse:function(n){var r=n.permissions_v2,o=n.contact_url,i=n.relationship_level,a=n.copy,c=n.print,u=n.permission_status_code,s=(0,f.w2)(r,e),_=(0,f.ZT)(s);return{token:e,type:t,permissions:_,isFullAccess:Boolean(r&E.PERMISSION.FULL_ACCESS),contact_url:o,relationship_level:i,copy:a,print:c,export:n.export,permission_status_code:u}}}}),(0,o.Z)(n,l.F,{resetWhenSuiteTokenChange:!0}),(0,o.Z)(n,T.t0,(function(e){var t=(0,c.default)(e,["error","data","entities","users"],{}),n=(0,c.default)(e.error,["meta","owner"]);n&&(t[n.id]=n);return t})),n},F=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{takeLatest:!0};return n={type:_.Hp.permission.FETCH_USER_PERMISSION_ON_SUITE,payload:{isFromNotification:r}},(0,o.Z)(n,E.REQUEST,{url:_.mb.GET_USER_PERM_STATE,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:e,type:t,actions:E.suitePermissionSetForShare},serverFirst:i&&i.serverFirst,options:{takeLatest:i.takeLatest,transformResponse:function(n){var r=n.permission_status_code,o=n.actions,i=(0,f.Q8)(o),a=(0,f.w2)(i,e),c=(0,f.ZT)(a);return{token:e,type:t,permissions:c,isFullAccess:Boolean(i&E.PERMISSION.FULL_ACCESS),isContainerOrPageFA:(0,f.Zc)(o,[E.PERM_ACTION_TYPE.IS_SINGLE_PAGE_FULL_ACCESS,E.PERM_ACTION_TYPE.IS_FULL_ACCESS]),permission_status_code:r,userAction:o,copy:(0,f.aT)(o,E.PERM_ACTION_TYPE.COPY)?1:void 0,print:(0,f.aT)(o,E.PERM_ACTION_TYPE.PRINT)?1:void 0,export:(0,f.aT)(o,E.PERM_ACTION_TYPE.EXPORT)?1:void 0}}}}),(0,o.Z)(n,l.F,{resetWhenSuiteTokenChange:!0}),(0,o.Z)(n,T.t0,(function(e){var t=(0,c.default)(e,["error","data","entities","users"],{}),n=(0,c.default)(e.error,["meta","owner"]);n&&(t[n.id]=n);return t})),n},Z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{takeLatest:!0};return(0,d.Sh)()?F(e,t,n,r):U(e,t,n,r)},x=function(e,t){return{type:_.Hp.permission.SET_USER_PERMISSION_FROM_CLIENT_VARS,payload:{token:e,permissions:t}}},B=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:_.Hp.permission.FETCH_ALL_PERMISSION_INFO,payload:{token:e,type:t,isFromNotification:n}}},W=function(e){var t=e.token,n=e.type,r=e.ownerId,i=e.ownerType,a=e.permission,c=e.source,u=e.lockStateChange;return(0,o.Z)({type:_.Hp.permission.UPDATE_USER_PERMISSION},E.REQUEST,{url:_.mb.POST_UPDATE_MEMBER_PERMISSION,method:_.mb.METHOD.POST,payload:{lockStateChange:u},data:{token:t,type:n,owner_id:r,owner_type:i,permission:a,source:c},options:{mergeRequestDataIntoPayload:!0}})},G=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=(0,i.Z)({external_access:r.externalAccess,invite_external:r.inviteExternal},a.default),s=(0,i.Z)({security_entity:n.securityEntity,share_entity:n.shareEntity,comment_entity:n.commentEntity,link_share_entity:n.linkShareEntity},a.default);return(0,o.Z)({type:_.Hp.permission.SET_SUITE_PUBLIC_PERMISSION,payload:{showToast:c,lockStateChange:r.lockStateChange}},E.REQUEST,{headers:{"Content-Type":"application/json"},url:_.mb.POST_UPDATE_SUITE_PUBLIC_PERMISSION_V3,method:_.mb.METHOD.POST,data:Object.assign({token:e,type:t},s,{},u),options:{takeLatest:!0,transformResponse:function(r){return Object.assign({},r,{},u,{token:e,type:t,showToast:c,publicPermission:n})}}})},K=function(e,t){return{type:_.Hp.permission.SET_SUITE_PUBLIC_PERMISSION_STATE,payload:{token:e,publicPermission:t}}},V=function(e){var t=e.token,n=e.type,r=e.ownerId,i=e.ownerType,a=e.source,c=e.lockStateChange;return(0,o.Z)({type:_.Hp.permission.REMOVE_AUTHORIZED_MEMBERS,payload:{lockStateChange:c}},E.REQUEST,{url:_.mb.POST_DELETE_MEMBER_PERMISSION,method:_.mb.METHOD.POST,data:{token:t,type:n,owner_id:r,owner_type:i,source:a},options:{mergeRequestDataIntoPayload:!0}})},j=function(e){var t=e.token,n=e.type,r=e.owners,i=e.shouldNotifyLark,a=e.sendLarkIm,c=e.larkImText,u=e.notifyLarkV2,s=e.notifyLarkV3,l=e.source,f=e.actualSource,d=e.noToast,T=e.permType;return(0,o.Z)({type:_.Hp.permission.BULK_SET_PERM,payload:{noToast:d}},E.REQUEST,{url:_.mb.POST_ADD_MEMBERS,method:_.mb.METHOD.POST,data:{token:t,type:n,owners:JSON.stringify(r),notify_lark:Number(i),send_lark_im:Boolean(a),lark_im_text:c||"",notify_lark_v2:u,notify_lark_v3:s,source:l,actualSource:f,perm_type:T},options:{mergeRequestDataIntoPayload:!0}})},Y=function(e){var t;return t={type:_.Hp.explorer.FETCH_MEMBERS_OF_SHARE_FOLDER},(0,o.Z)(t,E.REQUEST,{url:_.mb.GET_FETCH_MEMBERS_OF_SHARE_FOLDER_NEW,method:_.mb.METHOD.GET,params:{space_id:e},options:{takeLatest:!0,mergeRequestDataIntoPayload:!0}}),(0,o.Z)(t,l.F,!0),t},J=function(e){var t;return t={type:_.Hp.permission.FETCH_SHARE_SPACE_SETTING},(0,o.Z)(t,E.REQUEST,{url:_.mb.GET_SHARE_SPACE_SETTING,method:_.mb.METHOD.GET,params:{space_id:e},options:{takeLatest:!0,mergeRequestDataIntoPayload:!0}}),(0,o.Z)(t,l.F,{resetWhenSuiteTokenChange:!0}),t},X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.allowCrossTenant,c=t.linkPerm,u=t.remindAnyoneLink,s=(0,i.Z)({allow_cross_tenant:r,link_perm:c,remind_anyone_link:u},a.default);return(0,o.Z)({type:_.Hp.permission.UPDATE_SHARE_SPACE_SETTING,payload:{showToast:n}},E.REQUEST,{url:_.mb.UPDATE_SHARE_SPACE_SETTING,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:Object.assign({space_id:e},s),options:{takeLatest:!0,mergeRequestDataIntoPayload:!0}})},q=function(e){var t;return t={type:_.Hp.permission.FETCH_USER_PERMISSION_ON_SHARE_SPACE},(0,o.Z)(t,E.REQUEST,{url:_.mb.GET_USER_PERMISSION_ON_SHARE_SPACE,method:_.mb.METHOD.GET,params:{space_id:e},options:{takeLatest:!0,mergeRequestDataIntoPayload:!0}}),(0,o.Z)(t,l.F,{resetWhenSuiteTokenChange:!0}),t},Q=function(e){var t=e.getExtraInfo,n=(0,r.Z)(e,O);return(0,o.Z)({type:_.Hp.explorer.ADD_MEMBERS_TO_FOLDER},E.REQUEST,{url:_.mb.POST_ADD_MEMBERS_TO_FOLDER,method:_.mb.METHOD.POST,data:n,options:{transformResponse:function(e){if(n.token)return Object.assign({},e,{token:n.token});if(void 0===n.space_id)throw new Error("data have neither token nor space_id");return Object.assign({},e,{space_id:n.space_id})},getExtraInfo:t}})},z=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,o.Z)({type:_.Hp.explorer.REMOVE_MEMBER_FROM_FOLDER,payload:{onlyOne:r}},E.REQUEST,{url:_.mb.POST_REMOVE_MEMBER_FROM_FOLDER,method:_.mb.METHOD.POST,data:{space_id:t,owner_id:n},options:{transformResponse:function(o){return Object.assign({},o,{onlyOne:r,token:e,spaceId:t,ownerId:n})}}})},$=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(0,o.Z)({type:_.Hp.explorer.TRANSFER_SHARE_FOLDER_OWNER},E.REQUEST,{url:(0,d.Bo)()?_.mb.POST_SHARE_SPACE_TRANSFER_OWNER_NEW:_.mb.POST_TRANSFER_SHARE_FOLDER_OWNER,method:_.mb.METHOD.POST,data:{space_id:e,owner_id:t,owner_type:n,recursive_transfer:r},options:{transformResponse:function(r){return Object.assign({},r,{spaceId:e,ownerId:t,ownerType:n,meta:i})}}})},ee=function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return r={type:_.Hp.permission.SEND_SUITE_PERMISSION_REQUEST},(0,o.Z)(r,E.DEFERRED,!0),(0,o.Z)(r,E.REQUEST,{noStore:!0,url:_.mb.POST_SEND_SUITE_PERMISSION_REQUEST,method:_.mb.METHOD.POST,data:{token:e,obj_type:t,permission:n,message:i,userName:a}}),r},te=function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return r={type:_.Hp.permission.SEND_SUITE_PARENT_PERMISSION_REQUEST},(0,o.Z)(r,E.DEFERRED,!0),(0,o.Z)(r,E.REQUEST,{noStore:!0,url:_.mb.POST_SEND_SUITE_PARENT_PERMISSION_REQUEST,method:_.mb.METHOD.POST,data:{token:e,obj_type:t,permission:n,message:i,deviceType:a}}),r},ne=function(e){var t,n=e.token,r=e.type,i=e.ownerId,a=e.ownerType,c=e.meta,u=e.source;return t={type:_.Hp.permission.TRANSFER_SUITE_OWNER},(0,o.Z)(t,E.DEFERRED,!0),(0,o.Z)(t,E.REQUEST,{url:_.mb.POST_TRANSFER_SUITE_OWNER,method:_.mb.METHOD.POST,data:{token:n,type:r,owner_id:i,owner_type:a,source:u},options:{transformResponse:function(e){return Object.assign({},e,{suiteToken:n,suiteType:r,ownerId:i,ownerType:a,meta:c||{}})}}}),t},re=function(e){return(0,o.Z)({type:_.Hp.permission.UNIVERSAL_TRANSFER_OWNER,payload:e},E.DEFERRED,!0)},oe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:_.Hp.permission.FETCH_USER_PERMISSION_ON_SUITE_SUCCESS,meta:{isLoading:!1},payload:{token:e,permissions:t,isFromNotification:n}}},ie=function(e){var t;return t={type:_.Hp.permission.SEND_FOLDER_PERMISSION_REQUEST},(0,o.Z)(t,E.DEFERRED,!0),(0,o.Z)(t,E.REQUEST,{noStore:!0,url:_.mb.POST_SEND_FOLDER_PERMISSION_REQUEST,method:_.mb.METHOD.POST,data:e}),t},ae=function(e){return{type:_.Hp.permission.SET_EDIT_MODE,payload:e}},ce=function(e){return{type:_.Hp.permission.SET_IS_DOC_LOCKED_BY_PLUGIN,payload:e}},ue=function(e,t,n,r,i,a,c){var u;return u={type:_.Hp.permission.UPDATE_USER_PERMISSION_V2,payload:{lockStateChange:c}},(0,o.Z)(u,E.DEFERRED,!0),(0,o.Z)(u,E.REQUEST,{url:_.mb.POST_UPDATE_MEMBER_PERMISSION_V2,method:_.mb.METHOD.POST,data:{token:e,type:t,owner_id:n,owner_type:r,permission:i,source:a},options:{mergeRequestDataIntoPayload:!0}}),u},se=function(e){var t;return t={type:_.Hp.permission.NOTIFY_MEMBER_AFTER_UPDATE_PERMISSION},(0,o.Z)(t,E.DEFERRED,!0),(0,o.Z)(t,E.REQUEST,{url:_.mb.POST_NOTIFY_MEMBER_V2,method:_.mb.METHOD.POST,data:{notification_id:e}}),t},_e=function(e){return{type:_.Hp.permission.WITHDRAW_PERMISSION_NOTIFICATION,payload:{notificationId:e}}},Ee=function(e,t,n){var r={type:_.Hp.permission.FETCH_AUTHORIZED_USERS};return n.length>0&&(r[E.REQUEST]={url:_.mb.GET_MULTIPLE_USER_PERMISSION_ON_SUITE,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:e,type:t,user_ids:n},options:{mergeRequestDataIntoPayload:!0}}),r},le=function(e,t){return{type:_.Hp.permission.REMOVE_AUTHORIZED_USERS,payload:{token:e,userList:t}}},fe=function(e){return{type:_.Hp.permission.SET_USER_PERMISSION_ERROR,payload:e}},de=function(e,t,n){return{type:_.Hp.suite.FETCH_CURRENT_SUITE_FAIL,payload:{token:e,type:t},error:n}},Te=function(e){var t=e.token,n=e.type,r=e.embedObjectList,i=e.perm;return(0,o.Z)({type:_.Hp.permission.FETCH_EMBED_OBJECT_PERMISSION,payload:{token:t}},E.REQUEST,{url:_.mb.POST_OBJECTS_EMBED_NEW,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:t,type:n,child_objects:r,perm:i},options:{mergeRequestDataIntoPayload:!0}})},pe=function(e,t,n){return(0,d.Sh)()?function(e,t,n){return(0,o.Z)({type:_.Hp.permission.FETCH_USER_PERMISSION_ON_EMBED_OBJECT,payload:{parentToken:e,child_token:t,child_type:n}},E.REQUEST,{method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},url:_.mb.GET_USER_PERM_STATE,data:{token:t,type:n,actions:E.suitePermissionSetForShare},options:{mergeRequestDataIntoPayload:!0,transformResponse:function(e){var t=e.permission_status_code,n=e.actions;return{permission_status_code:t,permissions:(0,f.Q8)(n)}}}})}(e,t,n):function(e,t,n){return(0,o.Z)({type:_.Hp.permission.FETCH_USER_PERMISSION_ON_EMBED_OBJECT,method:_.mb.METHOD.GET,payload:{parentToken:e,child_token:t,child_type:n}},E.REQUEST,{url:_.mb.GET_USER_PERMISSION_ON_SUITE_V3,params:{token:t,type:n},options:{mergeRequestDataIntoPayload:!0}})}(e,t,n)},Se=function(e,t){return{type:_.Hp.permission.REMOVE_EMBED_OBJECTS,payload:{token:e,embedObjectList:t}}},Ie=function(e){var t=e.token,n=e.type,r=e.embedObject,o=e.modalClosable,i=void 0!==o&&o,a=e.lastLabel,c={type:_.Hp.permission.FETCH_EMBED_OBJECT_MEMBERS,payload:{lastLabel:a}};return r&&(c[E.REQUEST]={url:_.mb.GET_MEMBERS_EMBED_NEW,method:_.mb.METHOD.GET,params:{token:t,type:n,child_token:r.token,child_type:r.type,last_label:a},options:{mergeRequestDataIntoPayload:!0,transformResponse:function(e){return Object.assign({},e,{modalClosable:i})}}},c[l.F]={resetWhenSuiteTokenChange:!0}),c},Oe=function(e){var t=e.token,n=e.contact_list;return(0,o.Z)({type:_.Hp.permission.CREATE_MOCK_USER},E.REQUEST,{url:_.mb.CREATE_MOCK_USER,headers:{"Content-Type":"application/json"},method:_.mb.METHOD.POST,data:{token:t,contact_list:n},options:{mergeRequestDataIntoPayload:!0}})},Re=function(e){var t=e.token,n=e.type,r=e.owners,i=e.shouldNotifyLark,a=e.source,c=e.noToast;return(0,o.Z)({type:_.Hp.permission.BULK_SET_EMBED_PERM,payload:{noToast:c}},E.REQUEST,{url:_.mb.POST_ADD_MEMBERS,method:_.mb.METHOD.POST,data:{token:t,type:n,owners:JSON.stringify(r),notify_lark:Number(i),source:a},options:{mergeRequestDataIntoPayload:!0}})},me=function(e,t){return{type:_.Hp.permission.SET_EMBED_OBJ_OWNER,payload:{token:e,embedObject:t}}},Ae=function(e,t,n,r){return(0,o.Z)({type:_.Hp.permission.POST_PASSWORD_CREATE,payload:{spaceId:n}},E.REQUEST,{url:r?_.mb.POST_CREATE_SINGLE_CONTAINER_FOLDER_PASSWORD:_.mb.POST_PASSWORD_CREATE,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:e,type:t},options:{takeLatest:!0,abortOn:_.Hp.permission.POST_PASSWORD_DELETE_START,mergeRequestDataIntoPayload:!0}})},Ce=function(e,t,n,r){return(0,o.Z)({type:_.Hp.permission.POST_PASSWORD_DELETE,payload:{spaceId:n}},E.REQUEST,{url:r?_.mb.POST_DELETE_SINGLE_CONTAINER_FOLDER_PASSWORD:_.mb.POST_PASSWORD_DELETE,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:e,type:t},options:{takeLatest:!0,abortOn:_.Hp.permission.POST_PASSWORD_CREATE_START,mergeRequestDataIntoPayload:!0}})},he=function(e,t,n,r){return(0,o.Z)({type:_.Hp.permission.POST_PASSWORD_REFRESH,payload:{spaceId:n}},E.REQUEST,{url:r?_.mb.POST_REFRESH_SINGLE_CONTAINER_FOLDER_PASSWORD:_.mb.POST_PASSWORD_REFRESH,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:e,type:t},options:{mergeRequestDataIntoPayload:!0}})},ve=function(e,t,n){return{type:_.Hp.permission.SET_HAS_LINK_PASSWORD_STATE,payload:{token:e,spaceId:t,hasLinkPassword:n}}},De=function(e,t){return(0,o.Z)({type:_.Hp.permission.UPDATE_SHARE_SPACE_MEMBER_PERMISSION},E.REQUEST,{url:_.mb.UPDATE_SHARE_SPACE_MEMBER_PERMISSION,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{space_id:e,owners:t},options:{mergeRequestDataIntoPayload:!0}})},Ne=function(e){var t=e.spaceId,n=e.token,r=e.linkPerm;return{type:_.Hp.permission.SET_SHARE_SPACE_PUBLIC_PERMISSION_STATE,payload:{spaceId:t,token:n,linkPerm:r}}},Le=function(e,t,n,r,i){return(0,o.Z)({type:_.Hp.explorer.POST_PASSWORD_INPUT},E.REQUEST,{url:i?_.mb.POST_INPUT_SINGLE_CONTAINER_FOLDER_PASSWORD:_.mb.POST_PASSWORD_INPUT,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:e,type:t,password:n,captchaId:r}})},ye=function(e,t,n){return(0,o.Z)({type:_.Hp.permission.FETCH_MEMBERS_EXIST_V2},E.REQUEST,{url:_.mb.POST_EXIST_MEMBER_PERMISSION_V2,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:e,type:t,members:n},options:{mergeRequestDataIntoPayload:!0,takeLatest:!0}})},Pe=function(e,t){return(0,o.Z)({type:_.Hp.permission.FETCH_SUITE_PERMISSION_CONFIG},E.REQUEST,{url:_.mb.GET_SUITE_PERMISSION_CONFIG,params:{token:e,type:t},options:{mergeRequestDataIntoPayload:!0}})},ge=function(e){var t=e.token,n=e.type,r=e.members,i=e.remark;return(0,o.Z)({type:_.Hp.permission.BULK_SHARE_LINK},E.REQUEST,{url:_.mb.POST_SHARE_LINK,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:t,type:n,members:r,remark:i},options:{mergeRequestDataIntoPayload:!0}})},Me=function(e){var t,n=e.token,r=e.type,i=e.members,a=e.originMembers,c=e.remark,u=e.ownerName;return(0,o.Z)({type:_.Hp.permission.BULK_ASK_OWNER,payload:{ownerName:u,originMembers:a}},E.REQUEST,(t={url:_.mb.POST_ASK_OWNER,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:n,type:r,members:i,remark:c}},(0,o.Z)(t,l.F,{resetWhenSuiteTokenChange:!0}),(0,o.Z)(t,"options",{mergeRequestDataIntoPayload:!0}),t))},be=function(e){var t=e.token,n=e.type,r=e.link_share_entity,i=e.remark,a=e.ownerName;return(0,o.Z)({type:_.Hp.permission.ASK_OWNER_OPEN_LINK_SHARING,payload:{ownerName:a}},E.REQUEST,{url:_.mb.POST_ASK_OWNER_OPEN_LINK_SHARING,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:t,type:n,link_share_entity:r,remark:i}})},ke=function(e){var t;return t={type:_.Hp.permission.FETCH_SINGLE_CONTAINER_FOLDER_SETTING,payload:{token:e}},(0,o.Z)(t,E.REQUEST,{url:_.mb.GET_SINGLE_CONTAINER_FOLDER_SETTING,method:_.mb.METHOD.GET,params:{token:e},options:{takeLatest:!0,mergeRequestDataIntoPayload:!0}}),(0,o.Z)(t,l.F,!0),t},we=function(e){var t=e.token,n=e.link_share_entity,r=e.external_access,i=e.lockStateChange;return(0,o.Z)({type:_.Hp.permission.UPDATE_SINGLE_CONTAINER_FOLDER_SETTING,payload:{token:t,lockStateChange:i}},E.REQUEST,{url:_.mb.UPDATE_SINGLE_CONTAINER_FOLDER_SETTING,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:t,link_share_entity:n,external_access:r},options:{takeLatest:!0,mergeRequestDataIntoPayload:!0}})},He=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.folderPermissionSetForShare,r=arguments.length>2?arguments[2]:void 0;return t={type:_.Hp.permission.FETCH_SINGLE_CONTAINER_FOLDER_MEMBER_PERM},(0,o.Z)(t,E.REQUEST,{url:_.mb.GET_SINGLE_CONTAINER_FOLDER_MEMBER_PERM,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:e,actions:n},options:{takeLatest:!0,transformResponse:function(t){return Object.assign({},t,{token:e})}},beforeResolve:"function"==typeof r?r:function(){return r}}),(0,o.Z)(t,l.F,!0),(0,o.Z)(t,T.t0,(function(e){var t=(0,c.default)(e.error,["meta","owner"]);if(t)return(0,o.Z)({},t.id,t)})),t},Ue=function(e){var t=e.params,n=(0,r.Z)(e,R);return(0,o.Z)({type:_.Hp.intermediate.FETCH_PAGED_DATA,payload:(0,o.Z)({realActionType:_.Hp.permission.FETCH_SINGLE_CONTAINER_FOLDER_MEMBERS,params:Object.assign({},t),options:Object.assign({isContinuous:!1},n)},l.F,!0)},E.DEFERRED,!0)},Fe=function(e){var t=e.token,n=e.collaborators,r=e.need_notify,i=e.notify_text;return(0,o.Z)({type:_.Hp.permission.POST_SINGLE_CONTAINER_FOLDER_MEMBERS_CREATE},E.REQUEST,{url:_.mb.POST_SINGLE_CONTAINER_FOLDER_MEMBERS_CREATE,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:t,collaborators:n,need_notify:r,notify_text:i},options:{transformResponse:function(e){return Object.assign({},e,{token:t})}}})},Ze=function(e){var t=e.token,n=e.collaboratorId,r=e.collaboratorType,i=e.permRole,a=e.lockStateChange;return(0,o.Z)({type:_.Hp.permission.POST_SINGLE_CONTAINER_FOLDER_MEMBERS_UPDATE,payload:{lockStateChange:a}},E.REQUEST,{url:_.mb.POST_SINGLE_CONTAINER_FOLDER_MEMBERS_UPDATE,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:t,collaborator_id:n,collaborator_type:r,perm_role:i},options:{mergeRequestDataIntoPayload:!0}})},xe=function(e){var t=e.token,n=e.collaboratorId,r=e.collaboratorType,i=e.onlyOne,a=void 0!==i&&i,c=e.lockStateChange;return(0,o.Z)({type:_.Hp.permission.POST_SINGLE_CONTAINER_FOLDER_MEMBERS_DELETE,payload:{token:t,onlyOne:a,lockStateChange:c}},E.REQUEST,{url:_.mb.POST_SINGLE_CONTAINER_FOLDER_MEMBERS_DELETE,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:t,collaborator_id:n,collaborator_type:r},options:{mergeRequestDataIntoPayload:!0}})},Be=function(e){var t=e.token,n=e.type,r=e.lastLabel,i=e.isContinuous;return(0,o.Z)({type:_.Hp.permission.FETCH_APP_SHARE_MEMBERS,payload:{isContinuous:i}},E.REQUEST,{url:_.mb.GET_APP_SHARE_MEMBER_LIST,method:_.mb.METHOD.GET,params:{token:t,type:n,last_label:r},options:{mergeRequestDataIntoPayload:!0}})},We=function(e,t){return(0,o.Z)({type:_.Hp.permission.FETCH_RECOMMEND_APP_MEMBERS,payload:{token:e}},E.REQUEST,{url:t,method:_.mb.METHOD.GET,params:{query:"",locale:(0,s.Sy)((0,s.Kd)()),cursorInfo:{count:100}},options:{mergeRequestDataIntoPayload:!0}})},Ge=function(e){var t=e.token,n=e.perm,r=e.message;return(0,o.Z)({type:_.Hp.permission.POST_SINGLE_CONTAINER_FOLDER_APPLY_PERM},E.REQUEST,{url:_.mb.POST_SINGLE_CONTAINER_FOLDER_APPLY_PERM,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:t,perm_role:n,message:r}})},Ke=function(e){return(0,o.Z)({type:_.Hp.permission.FETCH_TEAM_SPACE_COVER_MEMBER_INFO},E.REQUEST,{url:_.mb.GET_TEAM_SPACE_COVER_MEMBER_INFO,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{tokens:e}})},Ve=function(e){return(0,o.Z)({type:_.Hp.permission.POST_LEAVE_TEAM_SPACE},E.REQUEST,{url:_.mb.POST_LEAVE_TEAM_SPACE,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:e},options:{transformResponse:function(t){return Object.assign({},t,{token:e})}}})},je=function(e){var t=e.token,n=e.collaboratorId,r=e.memberType,i=e.meta;return(0,o.Z)({type:_.Hp.permission.POST_SINGLE_CONTAINER_FOLDER_TRANSFER_OWNER,payload:{token:t,collaboratorId:n,ownerId:n}},E.REQUEST,{url:_.mb.POST_SINGLE_CONTAINER_FOLDER_TRANSFER_OWNER,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:t,collaborator_id:n},options:{transformResponse:function(e){return Object.assign({},e,{ownerId:n,ownerType:r,meta:i})}}})},Ye=function(e){var t,n=e.token,r=e.type,i=e.plan;return t={type:_.Hp.permission.FETCH_MINI_PROGRAM_QR_CODE,payload:{token:n}},(0,o.Z)(t,E.REQUEST,{url:_.mb.GET_MINI_PROGRAM_QR_CODE,method:_.mb.METHOD.POST,data:{token:n,type:r,plan:i}}),(0,o.Z)(t,l.F,{resetWhenSuiteTokenChange:!0}),t},Je=function(e){return(0,o.Z)({type:_.Hp.permission.POST_SPACE_UNLOCK,payload:{token:e}},E.REQUEST,{url:_.mb.POST_SPACE_UNLOCK,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:e},options:{mergeRequestDataIntoPayload:!0}})},Xe=function(e){return(0,o.Z)({type:_.Hp.permission.POST_SUITE_UNLOCK,payload:{token:e.token,type:e.type}},E.REQUEST,{url:_.mb.POST_SUITE_UNLOCK,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:e.token,type:e.type},options:{mergeRequestDataIntoPayload:!0}})},qe=function(e,t,n){var r="",i={},a=t.publicSetting,c=void 0===a?{}:a,u=t.member;return n===E.CHECK_LOCK_TYPE.PUBLIC_UPDATE?(r=_.mb.CHECK_SPACE_LOCK_PUBLIC_UPDATE,i=c):n===E.CHECK_LOCK_TYPE.MEMBER_UPDATE?(r=_.mb.CHECK_SPACE_LOCK_MEMBERS_UPDATE,i={collaborator_id:null==u?void 0:u.owner_id,collaborator_type:null==u?void 0:u.owner_type,perm_role:null==u?void 0:u.perm_role}):(r=_.mb.CHECK_SPACE_LOCK_MEMBERS_DELETE,i={collaborator_id:null==u?void 0:u.owner_id,collaborator_type:null==u?void 0:u.owner_type}),(0,o.Z)({type:_.Hp.permission.CHECK_SPACE_LOCK_STATE_CHANGE,payload:{token:e}},E.REQUEST,{url:r,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:Object.assign({token:e},i)})},Qe=function(e,t,n,r){var i="",a={},c=n.publicSetting,u=void 0===c?{}:c,s=n.member;return r===E.CHECK_LOCK_TYPE.PUBLIC_UPDATE?(i=_.mb.CHECK_SUITE_LOCK_PUBLIC_UPDATE,a=u):r===E.CHECK_LOCK_TYPE.MEMBER_UPDATE?(i=_.mb.CHECK_SUITE_LOCK_MEMBERS_UPDATE,a={member_id:null==s?void 0:s.owner_id,member_type:null==s?void 0:s.owner_type,permission:null==s?void 0:s.permission}):(i=_.mb.CHECK_SUITE_LOCK_MEMBERS_DELETE,a={member_id:null==s?void 0:s.owner_id,member_type:null==s?void 0:s.owner_type}),(0,o.Z)({type:_.Hp.permission.CHECK_SUITE_LOCK_STATE_CHANGE,payload:{token:e,type:t}},E.REQUEST,{url:i,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:Object.assign({token:e,type:t},a)})},ze=function(e,t){return(0,o.Z)({type:_.Hp.permission.FETCH_SINGLE_CONTAINER_FOLDER_MEMBERS_EXIST},E.REQUEST,{url:_.mb.GET_SINGLE_CONTAINER_FOLDER_EXIST_MEMBERS,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:e,collaborators:t},options:{mergeRequestDataIntoPayload:!0,takeLatest:!0,transformResponse:function(t){var n=t.existed_collaborators.map((function(e){return Object.assign({},e,{member_id:e.collaborator_id,member_type:e.collaborator_type,perm:e.perm_role})}));return{token:e,existed_members:n}}}})}},177236:function(e,t,n){"use strict";n.r(t),n.d(t,{showToast:function(){return o},closeToast:function(){return i},showBatchRequestToast:function(){return a},updateBatchRequestToast:function(){return c},closeBatchRequestToast:function(){return u}});var r=n(357081),o=function(e){return{type:r.Hp.toast.TOAST_SHOW,toastConfig:e}},i=function(e){return{type:r.Hp.toast.TOAST_CLOSE,toastConfig:e}},a=function(e){return{type:r.Hp.toast.TOAST_SHOW,toastConfig:Object.assign({},e,{key:r.y0.BATCH_REQUEST_KEY,type:r.y0.TOAST_TYPE.loading,processable:!0,cancelable:!0,keepAlive:!0})}},c=function(e){return{type:r.Hp.toast.TOAST_PROCESS_UPDATE,toastConfig:Object.assign({},e,{key:r.y0.BATCH_REQUEST_KEY})}},u=function(){return{type:r.Hp.toast.TOAST_CLOSE,toastConfig:{key:r.y0.BATCH_REQUEST_KEY,delayCloseTime:300}}}},275408:function(e,t,n){"use strict";n.d(t,{MQ:function(){return a},Sh:function(){return c},kX:function(){return u},Uw:function(){return s},Dy:function(){return _},RQ:function(){return E},UQ:function(){return l},np:function(){return f}});var r=n(774561),o=n(357081),i=n(481382),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:o.Hp.translate.TOGGLE_TRANSLATE,payload:Object.assign({status:e},t)}},c=function(e){return{type:o.Hp.translate.SET_CLIENTVARS,payload:{clientVars:e}}},u=function(e){return{type:o.Hp.translate.UPDATE_TRANSLATE_STATUS,payload:e}},s=function(e){return{type:o.Hp.translate.UPDATE_TRANSLATE_CONFIG,payload:e}},_=function(){return{type:o.Hp.translate.RESET_TRANSLATE_STATUS}},E=function(e){return{type:o.Hp.translate.UPDATE_TRANSLATION_VIEW,payload:e}},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0;return(0,r.Z)({type:o.Hp.translate.GET_TRANSLATE_CONFIG,payload:{token:e,type:t,nextTrans:n,defaultLang:a}},i.REQUEST,{url:o.mb.TRANSLATE_GET_CONFIG,method:o.mb.METHOD.GET,params:{token:e,obj_type:t},options:{transformResponse:function(e){return Object.assign({},e)}}})},f=function(){return{type:"CANCEL_".concat(o.Hp.translate.GET_TRANSLATE_CONFIG)}}},602382:function(e,t,n){"use strict";n.d(t,{HA:function(){return s},fV:function(){return _},wg:function(){return E},Nx:function(){return l}});var r=n(774561),o=n(614795),i=n(481382),a=n(354198),c=n(209653),u=n(10394),s=function(e){return(0,r.Z)({type:c.H.FETCH_OBJ_SETTINGS},i.REQUEST,{url:u.n,method:o.METHOD.GET,params:e})},_=function(){return{type:c.H.SET_OBJ_SETTINGS}},E=function(e,t){var n;return n={type:c.H.FETCH_OBJ_PATHS},(0,r.Z)(n,i.REQUEST,{url:o.GET_OBJ_PATH,method:o.METHOD.GET,params:{obj_token:e,obj_type:t},options:{transformResponse:function(n){return Object.assign({},n,{objToken:e,type:t})}}}),(0,r.Z)(n,i.DEFERRED,!0),(0,r.Z)(n,a.F,{resetWhenSuiteTokenChange:!0}),n},l=function(e,t){var n;return n={type:c.H.FETCH_OBJ_ENTITY_INFO},(0,r.Z)(n,i.REQUEST,{url:u.C,method:o.METHOD.POST,headers:{"Content-Type":"application/json"},data:{entities:[{obj_token:e,obj_type:t}]},options:{takeLatest:!0,transformResponse:function(n){return Object.assign({},n,{obj_token:e,type:t})}}}),(0,r.Z)(n,a.F,{resetWhenSuiteTokenChange:!0}),n}},719226:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});var r={SET_DRIVE_FILE_INFO:"SET_DRIVE_FILE_INFO",SET_IS_FILE_DRAGGING:"SET_IS_FILE_DRAGGING",SET_CURRENT_FOLDER_IMAGE_LIST_INFO:"SET_CURRENT_FOLDER_IMAGE_LIST_INFO",RESET_CURRENT_FOLDER_IMAGE_LIST_INFO:"RESET_CURRENT_FOLDER_IMAGE_LIST_INFO",SET_BOX_SUITE_IS_IN_EDIT_MODE:"SET_BOX_SUITE_IS_IN_EDIT_MODE",SET_IS_PDF_PREVIEW_ON:"SET_IS_PDF_PREVIEW_ON",SET_FIND_FUNCTION_IS_AVAILABLE:"SET_FIND_FUNCTION_IS_AVAILABLE"}},808926:function(e,t,n){"use strict";n.d(t,{HF:function(){return o},Me:function(){return i},KP:function(){return a},bA:function(){return c},i2:function(){return u}});var r=n(523232),o=function(e){return e.appState.currentUser},i=(0,r.P1)(o,(function(e){return e&&"2"===e.get("tenant_tag")})),a=(0,r.P1)(o,(function(e){return e&&e.get("tenant_id")})),c=(0,r.P1)(o,(function(e){return e&&e.get("domain")})),u=(0,r.P1)(o,i,(function(e,t){return t||!(!e||0!==Number(e.get("tenant_id")))}))},615846:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});var r={SET_OBJS:"SET_OBJS",SET_MY_SPACE_ROOT:"SET_MY_SPACE_ROOT"}},60389:function(e,t,n){"use strict";var r,o,i,a,c,u,s;n.d(t,{py:function(){return r},fz:function(){return i},bO:function(){return a},dH:function(){return c},u1:function(){return u},hh:function(){return s}}),function(e){e.Obj="Obj",e.Shortcut="Shortcut"}(r||(r={})),function(e){e.Node="Node"}(o||(o={})),function(e){e.Node="Node",e.Obj="Obj",e.Shortcut="Shortcut"}(i||(i={})),function(e){e[e.Obj=0]="Obj",e[e.Shortcut=1]="Shortcut"}(a||(a={})),function(e){e[e.yes=1]="yes",e[e.no=0]="no"}(c||(c={})),function(e){e[e.FetchVisible=0]="FetchVisible",e[e.FetchHidden=1]="FetchHidden"}(u||(u={})),function(e){e[e.FetchNormal=0]="FetchNormal",e[e.FetchReset=1]="FetchReset"}(s||(s={}))},586975:function(e,t,n){"use strict";n.d(t,{yS:function(){return i},W2:function(){return a},m9:function(){return c},Qo:function(){return u},D1:function(){return s}});var r=n(481382),o=n(358376),i={parent_obj_token:""},a={shortcut_name:"",shortcut_owner_id:"",shortcut_edit_time:0,shortcut_create_time:0},c={shortcut_expire_time:0},u={is_share_root:!1,expire_time:0,space_id:"",has_perm:!0},s=Object.assign({name:"",type:null,subtype:"",url:"",owner_type:-1,create_uid:"",owner_id:"",edit_uid:"",sharer_id:"",create_time:0,edit_time:0,my_edit_time:0,pin_time:0,open_time:0,share_time:0,activity_time:0,is_stared:!1,is_pined:!1,is_subscribed:!1,is_subscribed_comment:!1,is_external:!1,complaint:!1,external_hint:!1,description:"",share_version:-1,is_hidden:!1,is_share_folder:!1,link_obj_token:"",template_id:"",is_template:!1,icon:"",icon_encrypted_type:0,icon_nonce:"",icon_key:"",icon_type:r.NUM_CUSTOM_ICON_TYPE.UNSET,icon_fsunit:"",thumbnail:"",thumbnail_url:"",thumbnail_type:"",thumbnail_secret:"",thumbnail_nonce:"",wiki_space_id:"",wiki_space_name:"",wiki_subtype:null,wiki_sub_token:"",wiki_version:null,wiki_homepage_obj_token:"",wiki_homepage_obj_type:null,wiki_homepage_wikiToken:"",edit_user_name:"",owner_user_name:"",create_user_name:"",create_date:"",delete_flag:0,title_secure_key_deleted:!1,create_source:-1,tenant_id:"",sub_type:0,path_count:0,parent_path_name:"",parent_token:"",cover_id:"",cover_thumbnail:"",cover_icon:"",app_id:"",link_token:void 0,revision:0,size:"",index:1},u,{real_sub_type:0,security_name:"",get_sec_label_code:o.u2.GET_FAIL,can_set_sec_label:o.dE.UNABLE,sec_label:null,security_label_id:"",security_level:0,secret_key_delete:!1,template_type:0})},258116:function(e,t,n){"use strict";n.d(t,{td:function(){return k},Ep:function(){return se},Hk:function(){return _e},BG:function(){return fe}});var r,o=n(774561),i=n(764026),a=n(271484),c=n(359980),u=n(565726),s=n(142732),_=n(510940),E=n(357081),l=n(157823),f=n(204113),d=n(103742),T=n(383127),p=n(253232),S=n(404671),I=n(798016),O=n(18465),R=n(721136),m=n(987141),A=n(209653),C=n(585052),h=n(585720),v=n(465872),D=n(615846),N=n(60389),L=n(586975),y=n(58146);function P(e){return(0,i.Z)(e,y.yB)}function g(e){return e.node_type===N.bO.Shortcut?{node_token:e.token,entity_token:e.token,entity_type:N.py.Shortcut}:{node_token:e.token,entity_token:(0,y.eK)(e)?e.token:e.obj_token,entity_type:N.py.Obj}}function M(e,t){var n=(0,f.GE)(e,t),r=(0,f.Tl)(e,t[(0,a.Z)(e)]);return n.unshift(r),n}var b,k=(0,_.handleActions)((r={},(0,o.Z)(r,D.H.SET_MY_SPACE_ROOT,(0,s.ZP)((function(e,t){var n=l.DummyTokens.MyDocuments;e[n]=Object.assign({},L.yS,{},g({token:n,obj_token:n}))}))),(0,o.Z)(r,(0,_.combineActions)(p.H.FETCH_MY_SPACE_FOLDER_SUCCESS,I.H.FETCH_ROOT_SHARE_FOLDER_SUCCESS,I.H.HIDE_SHARE_FOLDER_SUCCESS,I.H.SHOW_SHARE_FOLDER_SUCCESS,R.H.FETCH_ROOT_DUSTBIN_SUCCESS,R.H.FETCH_DUSTBIN_CHILDREN_SUCCESS,R.H.FETCH_ROOT_DUSTBIN_V2_SUCCESS,O.H.FETCH_ALL_TEAM_SPACE_SUCCESS,m.H.FETCH_FOLDER_FILE_META_SUCCESS,m.H.FETCH_FOLDER_FILE_META_V2_SUCCESS,d.H.FETCH_TREE_FILE_META_SUCCESS,A.H.FETCH_OBJ_PATHS_SUCCESS,T.H.FETCH_MY_SPACE_LIST_SUCCESS,S.H.FETCH_MY_SPACE_2_NEW_FOLDER_SUCCESS,v.H.FETCH_MY_SPACE_2_NEW_OBJ_LIST_SUCCESS,C.H.FETCH_FOLDER_PATH_V2_SUCCESS,h.H.FETCH_OBJ_CONTAINER_V2_SUCCESS,h.H.FETCH_SHORTCUTS_CONTAINER_V2_SUCCESS,E.Hp.explorer.REMOVE_FILE_FAIL,E.Hp.explorer.DELETE_FOLDER_OBJECT_FAIL),(0,s.ZP)((function(e,t){var n=P(t.type===E.Hp.explorer.REMOVE_FILE_FAIL||t.type===E.Hp.explorer.DELETE_FOLDER_OBJECT_FAIL?(0,c.default)(t,"error.data.entities.nodes",{}):(0,y.C9)(t));(0,u.Z)(n,(function(n,r){n.token&&n.obj_token||console.error("".concat(t.type," node structure error")),e[r]=Object.assign({},L.yS,{},e[r],{},g(n))}))}))),(0,o.Z)(r,(0,_.combineActions)(p.H.FETCH_MY_SPACE_FOLDER_SUCCESS,T.H.FETCH_MY_SPACE_LIST_SUCCESS,v.H.FETCH_MY_SPACE_2_NEW_OBJ_LIST_SUCCESS,S.H.FETCH_MY_SPACE_2_NEW_FOLDER_SUCCESS,I.H.FETCH_ROOT_SHARE_FOLDER_SUCCESS,I.H.HIDE_SHARE_FOLDER_SUCCESS,I.H.SHOW_SHARE_FOLDER_SUCCESS,R.H.FETCH_ROOT_DUSTBIN_SUCCESS,R.H.FETCH_DUSTBIN_CHILDREN_SUCCESS,R.H.FETCH_ROOT_DUSTBIN_V2_SUCCESS,O.H.FETCH_ALL_TEAM_SPACE_SUCCESS),(0,s.ZP)((function(e,t){var n;switch(t.type){case p.H.FETCH_MY_SPACE_FOLDER_SUCCESS:case T.H.FETCH_MY_SPACE_LIST_SUCCESS:case S.H.FETCH_MY_SPACE_2_NEW_FOLDER_SUCCESS:case v.H.FETCH_MY_SPACE_2_NEW_OBJ_LIST_SUCCESS:n=l.DummyTokens.MyDocuments;break;case I.H.FETCH_ROOT_SHARE_FOLDER_SUCCESS:case I.H.HIDE_SHARE_FOLDER_SUCCESS:case I.H.SHOW_SHARE_FOLDER_SUCCESS:n=l.DummyTokens.ShareFolders;break;case O.H.FETCH_ALL_TEAM_SPACE_SUCCESS:n=l.DummyTokens.TeamSpace;break;default:n=""}var r=(0,y.C9)(t);Object.keys(r).forEach((function(t){e[t].parent_obj_token=n}))}))),(0,o.Z)(r,(0,_.combineActions)(m.H.FETCH_FOLDER_FILE_META_SUCCESS,m.H.FETCH_FOLDER_FILE_META_V2_SUCCESS,d.H.FETCH_TREE_FILE_META_SUCCESS),(0,s.ZP)((function(e,t){var n=(0,c.default)(t,"payload.token");if(n){var r=(0,c.default)(t,"payload.node_list",[]);(0,u.Z)(r,(function(t){e[t].parent_obj_token=n}))}else console.error("".concat(t.type," payload.token is empty"))}))),(0,o.Z)(r,(0,_.combineActions)(A.H.FETCH_OBJ_PATHS_SUCCESS,m.H.FETCH_FOLDER_FILE_META_SUCCESS,C.H.FETCH_FOLDER_PATH_V2_SUCCESS,h.H.FETCH_OBJ_CONTAINER_V2_SUCCESS),(0,s.ZP)((function(e,t){var n=P((0,y.C9)(t)),r=[];if(t.type===A.H.FETCH_OBJ_PATHS_SUCCESS)(0,c.default)(t,"payload.paths",[]).forEach((function(e){e&&e.length>0&&r.push(M(e,n))}));else if([m.H.FETCH_FOLDER_FILE_META_SUCCESS,C.H.FETCH_FOLDER_PATH_V2_SUCCESS].includes(t.type)){var o=(0,c.default)(t,"payload.path",[]);o.length>0&&r.push(M(o,n))}else if(t.type===h.H.FETCH_OBJ_CONTAINER_V2_SUCCESS){var i=(0,c.default)(t,"payload.path",[]);2===i.length&&r.push(i)}r.forEach((function(t){for(var r=1;r<t.length;r++){var o=t[r-1];e[t[r]].parent_obj_token=l.dummyTokenList.includes(o)?o:n[o].obj_token}}))}))),(0,o.Z)(r,h.H.UPDATE_OBJ_CONTAINER_TOKEN_V2,(0,s.ZP)((function(e,t){var n=t.payload,r=n.nodeToken,o=n.objContainerToken,i=e[r];i&&(i.parent_obj_token=o)}))),r),{}),w=n(26278),H=n(886982),U=n(543369),F=n(432459),Z=n(980450),x=n(229915),B=n(481382),W=n(812083),G=n(442086),K=n(535576),V=n(812990),j=n(318449),Y=n(596090),J=n(278084),X=n(205695),q=n(672789),Q=n(221603),z=n(835010),$=n(896019),ee=["token","type","title","obj_type"],te=["obj_token"],ne=(0,H.Z)(L.D1,["path_count","parent_path_name","parent_token"]),re=(0,F.Z)([y.yB]);function oe(e){var t={},n={};return(0,u.Z)(e,(function(e){if((0,y.eK)(e)){var r=e,o=r.obj_token,i=r.token;e=Object.assign({},e,{link_obj_token:o,obj_token:i})}var a=e.obj_token;a&&(e.node_type===N.bO.Shortcut?n[a]=re(e):t[a]=re(e))})),Object.assign(n,t)}function ie(e){var t=e.owner_type;return e.type!==B.NUM_FILE_TYPE.FOLDER&&[void 0,0,1].includes(t)?B.SUITE_OWNER_TYPE.NORMAL:t}function ae(e){var t;if(e.node_type===N.bO.Shortcut){t=(0,H.Z)(e,["obj_token","type","url","is_pined","is_stared","owner_type","app_id","subtype"])}else{var n=["token","node_type"];e.type!==B.NUM_FILE_TYPE.FOLDER&&n.push("space_id","share_version"),(t=(0,Z.Z)((0,U.default)(e,n),L.Qo)).owner_type=ie(t)}return t}var ce,ue=(b={},(0,o.Z)(b,D.H.SET_MY_SPACE_ROOT,(0,s.ZP)((function(e,t){e[l.DummyTokens.MyDocuments]=Object.assign({},L.D1,{},ae({obj_token:l.DummyTokens.MyDocuments,type:B.NUM_FILE_TYPE.FOLDER,owner_type:G.MT?B.FOLDER_OWNER_TYPE.SINGLE_CONTAINER_FOLDER:B.FOLDER_OWNER_TYPE.PERSONAL_FOLDER,edit_uid:(0,K.r)(),owner_id:(0,K.r)()}))}))),(0,o.Z)(b,(0,_.combineActions)(p.H.FETCH_MY_SPACE_FOLDER_SUCCESS,S.H.FETCH_MY_SPACE_2_NEW_FOLDER_SUCCESS,I.H.FETCH_ROOT_SHARE_FOLDER_SUCCESS,I.H.HIDE_SHARE_FOLDER_SUCCESS,I.H.SHOW_SHARE_FOLDER_SUCCESS,J.H.FETCH_V2_SHARED_FOLDERS_SUCCESS,J.H.HIDE_V2_SHARED_FOLDER_SUCCESS,J.H.SHOW_V2_SHARED_FOLDER_SUCCESS,R.H.FETCH_ROOT_DUSTBIN_SUCCESS,R.H.FETCH_DUSTBIN_CHILDREN_SUCCESS,O.H.FETCH_ALL_TEAM_SPACE_SUCCESS,R.H.FETCH_ROOT_DUSTBIN_V2_SUCCESS,m.H.FETCH_FOLDER_FILE_META_SUCCESS,m.H.FETCH_FOLDER_FILE_META_V2_SUCCESS,z.H.FETCH_PATH_TREE_SUCCESS,z.H.FETCH_PATH_TREE_FILE_META_SUCCESS,z.H.FETCH_PATH_TREE_SPECIAL_FILE_META_SUCCESS,$.H.FETCH_RECENT_FOLDER_PATH_SUCCESS,$.H.FETCH_PARENT_FOLDER_PATH_SUCCESS,d.H.FETCH_TREE_FILE_META_SUCCESS,A.H.FETCH_OBJ_PATHS_SUCCESS,C.H.FETCH_FOLDER_PATH_V2_SUCCESS,h.H.FETCH_OBJ_CONTAINER_V2_SUCCESS,h.H.FETCH_SHORTCUTS_CONTAINER_V2_SUCCESS,q.H.FETCH_SHARE_OBJECTS_SUCCESS,V.H.FETCH_MY_OBJECT_LIST_SUCCESS,v.H.FETCH_MY_SPACE_2_NEW_OBJ_LIST_SUCCESS,Q.H.FETCH_STAR_LIST_SUCCESS,j.H.FETCH_PIN_LIST_SUCCESS,T.H.FETCH_MY_SPACE_LIST_SUCCESS,X.H.FETCH_ALL_SHARE_FOLDERS_LIST_SUCCESS,X.H.FETCH_SHARE_LIST_SUCCESS,Y.H.FETCH_RECENT_OBJS_SUCCESS,Y.H.FETCH_RECENT_OBJS_FOR_CHECK_SUCCESS,Y.H.FETCH_RECENT_OBJS_IN_SUITE_BACK_NAV_SUCCESS,D.H.SET_OBJS,E.Hp.rule.GET_SMART_COLLECTION_SUITE_LIST_SUCCESS,E.Hp.rule.GET_PREVIEW_SMART_COLLECTION_SUITE_LIST_SUCCESS,E.Hp.explorer.REMOVE_FILE_FAIL,E.Hp.explorer.DELETE_FOLDER_OBJECT_FAIL),(0,s.ZP)((function(e,t){var n=oe(t.type===D.H.SET_OBJS?(0,c.default)(t,"payload.entityMap",{}):t.type===E.Hp.explorer.REMOVE_FILE_FAIL||t.type===E.Hp.explorer.DELETE_FOLDER_OBJECT_FAIL?(0,c.default)(t,"error.data.entities.nodes",{}):[E.Hp.rule.GET_SMART_COLLECTION_SUITE_LIST_SUCCESS,E.Hp.rule.GET_PREVIEW_SMART_COLLECTION_SUITE_LIST_SUCCESS].includes(t.type)?(0,c.default)(t,"payload.nodesObj",{}):(0,y.C9)(t));(0,u.Z)(n,(function(n,r){n.obj_token||console.error("".concat(t.type," obj structure error")),e[r]=Object.assign({},L.D1,{},e[r],{},ae(n))}))}))),(0,o.Z)(b,I.H.FETCH_ROOT_SHARE_FOLDER_SUCCESS,(0,s.ZP)((function(e,t){var n=t.payload.hidden,r=oe((0,y.C9)(t));(0,u.Z)(r,(function(t,r){e[r].is_hidden=N.u1.FetchHidden===n}))}))),(0,o.Z)(b,(0,_.combineActions)(I.H.HIDE_SHARE_FOLDER_SUCCESS,I.H.SHOW_SHARE_FOLDER_SUCCESS),(0,s.ZP)((function(e,t){var n=t.type===I.H.HIDE_SHARE_FOLDER_SUCCESS,r=t.payload.token;r?e[r].is_hidden=n:console.error("".concat(t.type," payload.token is empty"))}))),(0,o.Z)(b,J.H.FETCH_V2_SHARED_FOLDERS_SUCCESS,(0,s.ZP)((function(e,t){var n=t.payload.hidden,r=oe((0,y.C9)(t));(0,u.Z)(r,(function(t,r){e[r].is_hidden=N.u1.FetchHidden===n}))}))),(0,o.Z)(b,(0,_.combineActions)(J.H.HIDE_V2_SHARED_FOLDER_SUCCESS,J.H.SHOW_V2_SHARED_FOLDER_SUCCESS),(0,s.ZP)((function(e,t){var n=t.type===J.H.HIDE_V2_SHARED_FOLDER_SUCCESS,r=t.payload.token;r?e[r].is_hidden=n:console.error("".concat(t.type," payload.token is empty"))}))),(0,o.Z)(b,(0,_.combineActions)(A.H.FETCH_OBJ_PATHS_SUCCESS),(0,s.ZP)((function(e,t){var n=t.payload,r=n.objToken,o=n.paths,i=(0,y.C9)(t),a=e[r];if(a)if(o&&0!==o.length){var c=o[0];if(!c||!c.length||c.length<3)return void console.warn("reducer: firstPath length is invalid",c);var u=i[c[c.length-2]];if(!u)return void console.warn("reducer: parentNode is missing");Object.assign(a,{parent_path_name:u.name,parent_token:u.type===B.NUM_ROOT_META.EXPLORER?l.DummyTokens.MyDocuments:u.token,path_count:o.length})}else Object.assign(a,ne)}))),(0,o.Z)(b,(0,_.combineActions)(Y.H.FETCH_RECENT_OBJS_SUCCESS,Y.H.FETCH_RECENT_OBJS_FOR_CHECK_SUCCESS,Y.H.FETCH_RECENT_OBJS_IN_SUITE_BACK_NAV_SUCCESS),(0,s.ZP)((function(e,t){var n=oe((0,y.C9)(t)),r=(0,c.default)(t,"payload.entities.paths",{});(0,u.Z)(n,(function(t,n){var o=r[n];o&&0===o.length&&Object.assign(e[n],ne)}))}))),(0,o.Z)(b,(0,_.combineActions)(q.H.FETCH_SHARE_OBJECTS_SUCCESS,V.H.FETCH_MY_OBJECT_LIST_SUCCESS),(0,s.ZP)((function(e,t){var n=oe((0,y.C9)(t));(0,u.Z)(n,(function(t,n,r){if(t.type!==B.NUM_FILE_TYPE.FOLDER){var o=e[n];if(o){var i=t.parent;if(i){var a=r[i];if(!a)return void console.warn("parentNode is missing",i);Object.assign(o,{parent_path_name:a.name,parent_token:a.type===B.NUM_ROOT_META.EXPLORER?l.DummyTokens.MyDocuments:a.token})}else Object.assign(o,ne)}}}))}))),(0,o.Z)(b,(0,_.combineActions)(Q.H.ADD_STAR_SUCCESS,j.H.ADD_PIN_SUCCESS,Q.H.REMOVE_STAR_SUCCESS,j.H.REMOVE_PIN_SUCCESS,E.Hp.explorer.SUBSCRIBE_SUCCESS,E.Hp.explorer.UNSUBSCRIBE_SUCCESS),(0,s.ZP)((function(e,t){var n=t.payload,r=n.objToken,o=n.field,i=n.value,a=e[r];a&&(a[o]=i)}))),(0,o.Z)(b,E.Hp.explorer.SET_NODE_IS_EXTERNAL,(0,s.ZP)((function(e,t){var n=t.payload,r=n.token,o=n.isExternal,i=e[r];i&&(i.is_external=o)}))),(0,o.Z)(b,E.Hp.explorer.ADD_MEMBERS_TO_FOLDER_SUCCESS,(0,s.ZP)((function(e,t){var n=(0,c.default)(t,"payload.token");if(n){var r=(0,c.default)(t,"payload.space_id"),o=e[n];o&&Object.assign(o,{owner_type:B.FOLDER_OWNER_TYPE.SHARE_FOLDER,space_id:r,is_share_root:!0})}}))),(0,o.Z)(b,A.H.FETCH_OBJ_ENTITY_INFO_SUCCESS,(0,s.ZP)((function(e,t){var n=t.payload,r=n.obj_token,o=n.type,i=t.payload[r];i&&(e[r]=Object.assign({},L.D1,{},e[r],{obj_token:r,type:o,owner_type:i.owner_type}),e[r].owner_type=ie(e[r]))}))),(0,o.Z)(b,(0,_.combineActions)(E.Hp.suite.FETCH_CURRENT_SUITE_SUCCESS,h.H.FETCH_OBJ_META_SUCCESS),(0,s.ZP)((function(e,t){var n=t.payload,r=n.token,o=n.type,i=(n.title,n.obj_type,(0,w.Z)(n,ee));e[r]=Object.assign({},L.D1,{},e[r],{obj_token:r,name:(0,x.YQ)(t),type:o},i)}))),(0,o.Z)(b,E.Hp.suite.FETCH_CURRENT_SUITE_FAIL,(0,s.ZP)((function(e,t){var n=t.payload,r=n.token,o=n.type;if(r){var i=t.error,a=i.code,c=i.isTimeout,u=[W.STATUS_CODE.CONNECT_ERROR,W.STATUS_CODE.TIMEOUT];if(!e[r]||!c&&!u.includes(a)){var s={obj_token:r,type:o},_=a?Object.assign({},s,{name:(0,x.YQ)(t)}):s;e[r]=Object.assign({},L.D1,{},e[r],{},_)}}}))),(0,o.Z)(b,E.Hp.permission.FETCH_USER_PERMISSION_ON_SUITE_FAIL,(0,s.ZP)((function(e,t){var n=t.payload.token;if(n){var r=1===(0,c.default)(e,["token","delete_flag"]),o=(0,c.default)(t,"error.code");if(!r&&o===W.STATUS_CODE.FORBIDDEN){var i=(0,c.default)(t,"error.meta.owner.id"),a=i?{owner_id:i}:null;e[n]=Object.assign({},L.D1,{},e[n],{obj_token:n,name:(0,x.YQ)(t)},a)}}}))),(0,o.Z)(b,(0,_.combineActions)(E.Hp.suite.UPDATE_TITLE_SUCCESS,E.Hp.suite.UPDATE_DOC_TITLE),(0,s.ZP)((function(e,t){var n=t.payload,r=n.obj_token,o=(0,w.Z)(n,te),i=e[r];i&&(i.name=o.title)}))),(0,o.Z)(b,E.Hp.suite.SET_CUSTOM_ICON,(0,s.ZP)((function(e,t){var n=t.payload,r=n.obj_token,o=n.icon_key,i=n.icon_type,a=n.icon_fsunit,c=e[r];c&&Object.assign(c,{icon_key:o,icon_type:i,icon_fsunit:a})}))),(0,o.Z)(b,E.Hp.suite.UPDATE_SUB_TYPE,(0,s.ZP)((function(e,t){var n=t.payload,r=n.obj_token,o=n.sub_type,i=e[r];i&&(i.real_sub_type=o)}))),(0,o.Z)(b,E.Hp.explorer.SET_META_NAME,(0,s.ZP)((function(e,t){var n=t.payload,r=n.obj_token,o=n.name,i=n.update_time,a=e[r];if(a){var c=i||a.edit_time;Object.assign(a,{edit_time:c,name:o})}}))),(0,o.Z)(b,E.Hp.explorer.RENAME_FILE_SUCCESS,(0,s.ZP)((function(e,t){var n=t.payload,r=n.token,o=n.newName,i=e[r];i&&(i.name=o)}))),(0,o.Z)(b,E.Hp.explorer.UPDATE_FOLDER_INFO_SUCCESS,(0,s.ZP)((function(e,t){var n=t.payload,r=n.token,o=n.name,i=n.description,a=e[r];a&&Object.assign(a,{name:o,description:i})}))),(0,o.Z)(b,(0,_.combineActions)(E.Hp.permission.TRANSFER_SUITE_OWNER_SUCCESS,E.Hp.explorer.TRANSFER_SHARE_FOLDER_OWNER_SUCCESS,E.Hp.permission.POST_SINGLE_CONTAINER_FOLDER_TRANSFER_OWNER_SUCCESS),(0,s.ZP)((function(e,t){var n=t.payload.ownerId;switch(t.type){case E.Hp.permission.TRANSFER_SUITE_OWNER_SUCCESS:var r=e[(0,c.default)(t,"payload.suiteToken")];r&&(r.owner_id=n);break;case E.Hp.explorer.TRANSFER_SHARE_FOLDER_OWNER_SUCCESS:var o=e[t.payload.token];o&&(o.owner_id=n);break;case E.Hp.permission.POST_SINGLE_CONTAINER_FOLDER_TRANSFER_OWNER_SUCCESS:var i=e[t.payload.token];i&&(i.owner_id=n,i.is_share_folder=!0)}}))),(0,o.Z)(b,E.Hp.explorer.INSERT_UPLOADED_FILE_TO_RECENT,(0,s.ZP)((function(e,t){var n=t.payload.obj_token;n||console.error("".concat(t.type," payload.obj_token is empty")),e[n]=Object.assign({},L.D1,{},e[n],{},t.payload)}))),(0,o.Z)(b,(0,_.combineActions)(E.Hp.template.FETCH_TEMPLATE_CUSTOM_LIST_SUCCESS,E.Hp.template.FETCH_TEMPLATE_LIST_V2_SUCCESS),(0,s.ZP)((function(e,t){var n=t.payload;n.owner&&n.owner.forEach((function(n){var r=n.obj_token;r||console.error("".concat(t.type," data.owner obj_token is empty")),e[r]=Object.assign({},L.D1,{},e[r],{},n)}))}))),(0,o.Z)(b,E.Hp.explorer.UPDATE_SUBSCRIBE_STATUS,(0,s.ZP)((function(e,t){var n=t.payload,r=n.objToken,o=n.isSubscribed,i=n.isSubscribedComment,a=e[r];a&&(a.is_subscribed=o,a.is_subscribed_comment=i)}))),(0,o.Z)(b,(0,_.combineActions)(m.H.FETCH_EXTERNAL_HINT_SUCCESS,m.H.SET_EXTERNAL_HINT),(0,s.ZP)((function(e,t){var n=t.payload.objFlags;(0,u.Z)(n,(function(t,n){var r=e[n];r&&(r.external_hint=t)}))}))),(0,o.Z)(b,(0,_.combineActions)(E.Hp.permission.FETCH_SINGLE_CONTAINER_FOLDER_SETTING_SUCCESS,E.Hp.explorer.SET_NODE_IS_SHARE_FOLDER),(0,s.ZP)((function(e,t){var n=t.payload,r=n.token,o=n.is_share_folder,i=e[r];i&&(i.is_share_folder=o)}))),b),se=Object.keys(ue).reduce((function(e,t){return e.concat(t.split("||"))}),[]),_e=(0,_.handleActions)(ue,{}),Ee=n(243101),le=n(347492);var fe=(0,_.handleActions)((ce={},(0,o.Z)(ce,(0,_.combineActions)(T.H.FETCH_MY_SPACE_LIST_SUCCESS,v.H.FETCH_MY_SPACE_2_NEW_OBJ_LIST_SUCCESS,m.H.FETCH_FOLDER_FILE_META_V2_SUCCESS,d.H.FETCH_TREE_FILE_META_SUCCESS,R.H.FETCH_ROOT_DUSTBIN_V2_SUCCESS,E.Hp.explorer.REMOVE_FILE_FAIL,E.Hp.explorer.DELETE_FOLDER_OBJECT_FAIL,h.H.FETCH_SHORTCUTS_CONTAINER_V2_SUCCESS),(0,s.ZP)((function(e,t){var n=function(e){return(0,i.Z)((0,Ee.Z)(e,(function(e){return e.node_type===N.bO.Shortcut})),y.yB)}(t.type===E.Hp.explorer.REMOVE_FILE_FAIL||t.type===E.Hp.explorer.DELETE_FOLDER_OBJECT_FAIL?(0,c.default)(t,"error.data.entities.nodes",{}):(0,y.C9)(t));(0,u.Z)(n,(function(n,r){n.token&&n.obj_token||console.error("".concat(t.type," shortcut structure error")),e[r]=Object.assign({},L.W2,{},e[r],{},function(e){var t=(0,le.Z)((0,H.Z)(e,["name","expire_time","owner_id","edit_time","create_time"]),(function(e,t){return"shortcut_".concat(t)})),n=(0,Z.Z)(t,L.m9);return Object.assign({shortcut_token:e.token,obj_token:e.obj_token},n)}(n))}))}))),(0,o.Z)(ce,E.Hp.explorer.RENAME_FILE_SUCCESS,(0,s.ZP)((function(e,t){var n=t.payload,r=n.token,o=n.newName,i=e[r];i&&(i.shortcut_name=o)}))),ce),{})},58146:function(e,t,n){"use strict";n.d(t,{C9:function(){return E},yB:function(){return l},eK:function(){return f}});var r=n(26278),o=n(347492),i=n(548397),a=n(359980),c=n(481382),u=n(60389),s=["extra","thumbnail_extra"],_=["wiki_homepage"];function E(e){return(0,a.default)(e,"payload.entities.nodes",{})}function l(e){var t=e.extra,n=void 0===t?{}:t,a=e.thumbnail_extra,u=void 0===a?{}:a,E=(0,r.Z)(e,s),l=n;if(e.type===c.NUM_FILE_TYPE.WIKI&&(0,i.Z)(n.wiki_homepage)){var f=n.wiki_homepage,d=(0,r.Z)(n,_),T=f.wiki_token,p=f.obj_type,S=f.obj_token;l=Object.assign({},d,{wiki_homepage_wikiToken:T,wiki_homepage_obj_token:S,wiki_homepage_obj_type:p})}return Object.assign({},E,{},l,{},(0,o.Z)(u,(function(e,t){return"thumbnail_".concat(t)})))}function f(e){var t=e.token,n=e.obj_token,r=e.node_type;return e.type===c.NUM_FILE_TYPE.FOLDER&&r!==u.bO.Shortcut&&t&&n&&t!==n}},306797:function(e,t,n){"use strict";n.d(t,{wg:function(){return r},hL:function(){return o},v6:function(){return i}});var r=function(e){return e.entities.nodes},o=function(e){return e.entities.objs},i=function(e){return e.entities.shortcuts}},191318:function(e,t,n){"use strict";n.d(t,{I8:function(){return a}});var r=n(481382),o=n(778633),i=n(60389);function a(e,t){var n,a,c=function(e,t){var n=e.meta_token,r=e.meta_type,o=Object.assign({},e);if(r===i.fz.Node){var a=t.nodes[n];if(!a)return null;o=Object.assign({},o,{},a),r=a.entity_type,n=a.entity_token}if(r===i.fz.Shortcut){var c=t.shortcuts[n];if(!c)return null;o=Object.assign({},o,{},c),r=i.fz.Obj,n=c.obj_token}if(r===i.fz.Obj){var u=t.objs[n];if(!u)return null;o=Object.assign({},o,{},u)}return o}(e,t);return c&&(n=c,a=Object.assign({},n,{title:n.name}),n.link_obj_token&&(a.obj_token=n.link_obj_token),n.node_token?(a.token=n.node_token,new o.NB(a)):n.type===r.NUM_FILE_TYPE.FOLDER&&n.meta_type!==i.fz.Shortcut?(a.token=n.obj_token,new o.NB(a)):new o.eG(a))}},79078:function(e,t,n){"use strict";n.d(t,{zq:function(){return s},K2:function(){return _},nm:function(){return E},uJ:function(){return l},Fx:function(){return f},I2:function(){return d},if:function(){return T},aD:function(){return p},vj:function(){return S},Ym:function(){return I}});var r=n(271484),o=n(523232),i=n(157823),a=n(189735),c=n(306797),u=n(885463),s=function(e){return e.indexes.currentFileToken},_=(0,o.P1)(s,(function(e){return e===i.DummyTokens.ShareFolders?"":e})),E=function(e){return e.indexes.currentFolderStatus},l=(0,o.P1)(_,(function(e){return e.indexes.folderPath}),(function(e,t){return t[e]})),f=(0,o.P1)(l,(function(e){return e&&e.path||[]})),d=(0,o.P1)(f,(function(e){return(0,r.Z)(e)||""})),T=(0,o.P1)(l,(function(e){return e&&e.virtualRootToken})),p=(0,o.P1)(f,c.wg,c.hL,(function(e,t,n){return e.map((function(e){var r=(0,a.ND)(e,t,null,n);return{token:r.token,node_token:r.node_token,obj_token:r.obj_token,name:r.name,type:r.type}}))})),S=((0,o.P1)(f,c.wg,c.hL,(function(e,t,n){return(0,a.ND)(e[0],t,null,n)})),(0,o.P1)(_,c.hL,(function(e,t){if(!e)return null;var n=(0,a.gr)(e,t);return n&&n.link_obj_token&&(n=(0,a.gr)(n.link_obj_token,t)),n}))),I=(0,o.P1)(S,u.M,(function(e,t){return e&&t&&t.get(e.owner_id)||null}))},137852:function(e,t,n){"use strict";n.r(t),n.d(t,{fetchUserGuide:function(){return u},updateUserGuide:function(){return s},closeUserGuide:function(){return _},setUserGuideDone:function(){return E}});var r=n(913867),o=n(193654),i=n(246479),a=n(464133),c=n(958848),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.xd.WEB,t=(0,a.M)(c.k4.FETCH_USER_GUIDE_ACTION);return t({type:e})},s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.xd.WEB,i=(0,o.U)(e,!1),u=(0,r.Z)(t)?{action:i,context:t,type:n}:{action:i,type:n},s=(0,a.M)(c.k4.CONSUME_USER_GUIDE_ACTION);return s({data:u,guideType:e})},_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.xd.WEB,i=(0,o.U)(e,!1),u=(0,r.Z)(t)?{action:i,context:t,type:n}:{action:i,type:n},s=(0,a.M)(c.k4.CLOSE_USER_GUIDE_ACTION);return s({data:u,guideType:e})},E=function(e){return{type:i.H.guide.SET_USER_GUIDE_DONE,payload:e}}},464133:function(e,t,n){"use strict";n.d(t,{y:function(){return d},M:function(){return p}});var r,o,i,a,c=n(774561),u=n(360851),s=n(614795),_=n(481382),E=n(354198),l=n(246479),f=n(958848),d=0,T=(a={},(0,c.Z)(a,f.k4.FETCH_USER_GUIDE_ACTION,(r={},(0,c.Z)(r,f.v4.OLD,(function(e){var t,n=e.type,r=void 0===n?f.xd.WEB:n;return t={type:l.H.guide.FETCH_USER_GUIDE},(0,c.Z)(t,_.REQUEST,{url:s.POST_GET_USER_GUIDE,method:s.METHOD.POST,data:{type:r}}),(0,c.Z)(t,E.F,!0),t})),(0,c.Z)(r,f.v4.NEW,(function(e){var t=e.type,n=void 0===t?f.xd.WEB:t;return(0,c.Z)({type:l.H.guide.FETCH_USER_GUIDE_V2,payload:(0,c.Z)({realActionType:l.H.guide.FETCH_USER_GUIDE,params:{length:10,type:n},options:Object.assign({isContinuous:!1,onlyUpdateEntity:!1})},E.F,!0)},_.DEFERRED,!0)})),r)),(0,c.Z)(a,f.k4.CONSUME_USER_GUIDE_ACTION,(o={},(0,c.Z)(o,f.v4.NEW,(function(e){var t=e.data,n=e.guideType,r=(t||{}).context,o=r&&n?(0,c.Z)({},n,r):{};return(0,c.Z)({type:l.H.guide.UPDATE_USER_GUIDE_V2,payload:(0,c.Z)({guideType:n,data:{keys:[n],context:o},realActionType:l.H.guide.UPDATE_USER_GUIDE,options:{transformResponse:function(e){return Object.assign({},e,{guideType:n})}}},E.F,!0)},_.DEFERRED,!0)})),(0,c.Z)(o,f.v4.OLD,(function(e){var t=e.data,n=e.guideType;return(0,c.Z)({type:l.H.guide.UPDATE_USER_GUIDE},_.REQUEST,{url:s.POST_UPDATE_USER_GUIDE,method:s.METHOD.POST,options:{transformResponse:function(e){return Object.assign({},e,{guideType:n})}},data:t})})),o)),(0,c.Z)(a,f.k4.CLOSE_USER_GUIDE_ACTION,(i={},(0,c.Z)(i,f.v4.NEW,(function(e){var t=e.data,n=e.guideType,r=(t||{}).context,o=r&&n?(0,c.Z)({},n,r):{};return(0,c.Z)({type:l.H.guide.CLOSE_USER_GUIDE_V2,payload:(0,c.Z)({guideType:n,data:{keysDone:[n],context:o},realActionType:l.H.guide.CLOSE_USER_GUIDE,options:{transformResponse:function(e){return Object.assign({},e,{guideType:n})}}},E.F,!0)},_.DEFERRED,!0)})),(0,c.Z)(i,f.v4.OLD,(function(e){var t=e.data,n=e.guideType;return(0,c.Z)({type:l.H.guide.CLOSE_USER_GUIDE},_.REQUEST,{url:s.POST_CLOSE_USER_GUIDE,method:s.METHOD.POST,options:{transformResponse:function(e){return Object.assign({},e,{guideType:n})}},data:t})})),i)),a);function p(e){var t=(0,u.Qj)()?f.v4.NEW:f.v4.OLD;return T[e][t]}},958848:function(e,t,n){"use strict";var r,o,i;n.d(t,{v4:function(){return r},k4:function(){return o},xd:function(){return i}}),function(e){e.OLD="OLD",e.NEW="NEW"}(r||(r={})),function(e){e.FETCH_USER_GUIDE_ACTION="fetchUserGuideActionConf",e.CONSUME_USER_GUIDE_ACTION="consumeUserGuideActionConf",e.CLOSE_USER_GUIDE_ACTION="closeUserGuideActionConf"}(o||(o={})),function(e){e.WEB="web"}(i||(i={}))},374614:function(e,t,n){"use strict";n.d(t,{Vf:function(){return o},dc:function(){return i},Cy:function(){return a},KE:function(){return c},WO:function(){return u},xH:function(){return s}});var r=n(357081),o=function(e){var t=e.type,n=e.token,o=e.members,i=e.count;return{type:r.Hp.member.ADD_SUITE_MEMBERS,payload:{type:t,token:n,members:o,count:i}}},i=function(e){var t=e.type,n=e.token,o=e.memberInfo;return{type:r.Hp.member.UPDATE_SUITE_MEMBER,payload:{type:t,token:n,memberInfo:o}}},a=function(e){var t=e.type,n=e.token,o=e.memberInfoList,i=e.count;return{type:r.Hp.member.UPDATE_SUITE_MEMBERS,payload:{type:t,token:n,memberInfoList:o,count:i}}},c=function(e){var t=e.type,n=e.token,o=e.memberIds,i=e.count;return{type:r.Hp.member.REMOVE_SUITE_MEMBERS,payload:{type:t,token:n,memberIds:o,count:i}}},u=function(e){var t=e.type,n=e.token,o=e.members,i=e.count,a=void 0===i?0:i;return{type:r.Hp.member.RESET_SUITE_MEMBERS,payload:{type:t,token:n,members:o,count:a}}},s=function(e){return{type:r.Hp.member.SET_CURRENT_MEMBER_ID,payload:e}}},391360:function(e,t,n){"use strict";n.d(t,{ad:function(){return u},E3:function(){return s},CT:function(){return _},al:function(){return E},ih:function(){return l}});var r=n(523232),o=n(116072),i=n(808926),a=n(887035),c=[],u=function(e){return e.appState.members},s=function(e){return e.appState.currentMemberId},_=(0,r.P1)(u,a.Qh,a.mx,(function(e,t,n){return null===n?c:e[(0,o.VG)(n,t)]||c})),E=((0,r.P1)(s,_,(function(e,t){return t.find((function(t){return t.member_id===e}))})),(0,r.P1)((function(e){return e.appState.membersCount}),a.Qh,(function(e,t){return e[t]||0}))),l=(0,r.P1)(u,a.Qh,a.mx,i.HF,(function(e,t,n,r){if(null===n)return c;var i=(0,o.VG)(n,t),a=r.toJS().id,u=(e[i]||c).filter((function(e){return e.user_id!==a}));return 0===u.length?c:u}))},375949:function(e,t,n){"use strict";n.d(t,{h7:function(){return o},Mr:function(){return i},kF:function(){return a}});var r=n(246479),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:r.H.ui.OPEN_MODAL,payload:{modalType:e,modalProps:t}}},i=function(e,t,n){return{type:r.H.ui.CLOSE_MODAL,payload:Object.assign({},n,{modalType:e,closeType:t})}},a=function(){return{type:r.H.ui.CLOSE_ALL_MODAL}}},464691:function(e,t,n){"use strict";n.d(t,{Y:function(){return o}});var r=n(246479),o=function(e){return{type:r.H.common.MARK_MODULE_ADDED,payload:{moduleId:e}}}},477067:function(e,t,n){"use strict";n.d(t,{Az:function(){return a},_i:function(){return c},B$:function(){return u}});var r=n(742097),o=n(155284),i=n(44226),a=function(e){return e[o.E.APP_PC].backUrlMap||{}},c=function(e){return a(e)[r.Z.pathname]||i.URL.HOME},u=function(e){return a(e)[r.Z.pathname]}},582857:function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var r=n(357081),o=function(e){return{type:r.Hp.network.SET_NETWORK_STATE,payload:{data:e}}}},133573:function(e,t,n){"use strict";n.d(t,{P:function(){return o},L:function(){return i}});var r=n(523232),o=function(e){return e.appState.networkState},i=(0,r.P1)(o,(function(e){return e.connected}))},549031:function(e,t,n){"use strict";n.d(t,{Q:function(){return c},E:function(){return u}});var r,o=n(774561),i=n(564897),a=n(612675),c=(r={},(0,o.Z)(r,a.D.LIKE,{enable:!0}),(0,o.Z)(r,a.D.IMAGE,{viewer:"inner",needBlob:!0}),(0,o.Z)(r,a.D.SHARE,{enable:!0,visibleConfig:{invite:!0,shareLink:!0,shareMethod:!0}}),(0,o.Z)(r,a.D.MODAL,{innerMask:!0}),(0,o.Z)(r,a.D.HEADER,{enable:!0}),(0,o.Z)(r,a.D.FOOTER,{enable:!0}),(0,o.Z)(r,a.D.CONTENT,{mode:(0,i.iJ)()||"default",titleVisible:!0,readonly:!1,blockRender:!0}),(0,o.Z)(r,a.D.COMMENT,{partial:{enable:!0,open:!0},global:{enable:!0}}),(0,o.Z)(r,a.D.SIDEBAR,{borderSide:[!1,!1,!1,!0]}),(0,o.Z)(r,a.D.DIRECTORY,{enable:!0,pin:!0}),(0,o.Z)(r,a.D.MORE_MENU,{enable:!0,items:{findAndReplaceEnable:!0,applyEditPermissionEnable:!0,makeCopyEnable:!0,exportEnable:!0,documentInfoEnable:!0,editHistoryEnable:!0,commentHistoryEnable:!0,translateEnable:!0,printEnable:!0,deleteEnable:!0}}),(0,o.Z)(r,a.D.FULLSCREEN,{enable:!0,status:!1}),(0,o.Z)(r,a.D.COLLABORATOR,{enable:!0}),r),u={directory:{hide:(0,i.ms)(),noPin:(0,i.g7)()},modal:{outerMask:!0,innerMask:!0}}},34294:function(e,t,n){"use strict";function r(e){return function(t){var n=t.appState;return n.opendoc&&n.opendoc.config[e]}}function o(e){return function(t){var n=t.appState;return n.opendoc&&n.opendoc.options[e]}}n.d(t,{d:function(){return r},k:function(){return o}})},612675:function(e,t,n){"use strict";var r;n.d(t,{D:function(){return r}}),function(e){e.LIKE="LIKE",e.IMAGE="IMAGE",e.SHARE="SHARE",e.MODAL="MODAL",e.HEADER="HEADER",e.FOOTER="FOOTER",e.CONTENT="CONTENT",e.COMMENT="COMMENT",e.SIDEBAR="SIDEBAR",e.DIRECTORY="DIRECTORY",e.MORE_MENU="MORE_MENU",e.FULLSCREEN="FULLSCREEN",e.COLLABORATOR="COLLABORATOR",e.TABS="TABS"}(r||(r={}))},76028:function(e,t,n){"use strict";n.d(t,{t:function(){return s},D:function(){return u}});var r=n(774561),o=n(481382),i=n(278272),a=n(614795),c="".concat(a.EXPLORER,"/root/"),u=function(e){return{type:i.H.LOAD_PERSISTED_ROOT_TOKEN_MAP,payload:e}},s=function(){return(0,r.Z)({type:i.H.FETCH_EXPLORER_ROOT_TOKEN_MAP},o.REQUEST,{url:c})}},614275:function(e,t,n){"use strict";n.d(t,{CD:function(){return T},DJ:function(){return p},iX:function(){return S},Lx:function(){return I},ew:function(){return O},Nk:function(){return R},ZZ:function(){return m},pu:function(){return A},zy:function(){return C},go:function(){return h},MT:function(){return v},lu:function(){return D},a_:function(){return N},id:function(){return L},pU:function(){return y},iZ:function(){return P},zW:function(){return g},Uu:function(){return M},Oq:function(){return b},Dl:function(){return k},do:function(){return w},N1:function(){return H},Xw:function(){return U},lE:function(){return F},ft:function(){return Z},VK:function(){return x},B8:function(){return B},RZ:function(){return W},jx:function(){return G},Wh:function(){return K},v1:function(){return V},g0:function(){return j},c6:function(){return Y},nP:function(){return J}});var r=n(774561),o=n(357081),i=n(481382),a=n(354198),c=n(536113),u=n(73014),s=n(204113),_=n(169573),E=n(976667),l=n(585720),f=n(887035);function d(e){var t=e.payload,n=t.owner_id,o=t.owner_user_name,i=t.tenant_id,a=t.url,c=t.user_type,u=void 0===c?"":c,s=function(e){return["larksuite.com","larksuite-staging.com"].some((function(t){return e.indexOf(t)>-1}))}(a);return(0,r.Z)({},n,{id:n,tenant_id:i,isOverseaSpace:s,name:o,keep:E.x.KeepNext,user_type:u})}var T=function(e,t){var n,u,s="";switch(t){case i.NUM_FILE_TYPE.DOCX:s="";break;case i.NUM_FILE_TYPE.DOC:s=c.mZ;break;case i.NUM_FILE_TYPE.SHEET:s=c.uP;break;case i.NUM_FILE_TYPE.BITABLE:s=c.YS;break;case i.NUM_FILE_TYPE.SLIDE:s=c.yo;break;case i.NUM_FILE_TYPE.MINDNOTE:s=c.yv;break;case i.NUM_FILE_TYPE.FILE:s=c.$U;break;default:console.warn("unkown suite type: ".concat(t)),s=""}return u={type:l.H.FETCH_CURRENT_SUITE,payload:{type:t}},(0,r.Z)(u,i.REQUEST,{url:o.mb.GET_META,params:{token:e,type:t},headers:(n={},(0,r.Z)(n,c.Or,s),(0,r.Z)(n,"Content-Type","application/json"),n),options:{takeLatest:!0,transformResponse:function(n){return Object.assign({},n,{token:e,type:t,ssid:n.obj_id})}}}),(0,r.Z)(u,a.F,{resetWhenSuiteTokenChange:!0}),(0,r.Z)(u,_.Xh,d),u},p=function(e,t){return(0,r.Z)({type:l.H.FETCH_OBJ_META},i.REQUEST,{url:o.mb.GET_META,params:{token:e,type:t},headers:{"Content-Type":"application/json"},options:{takeLatest:!0,transformResponse:function(n){return Object.assign({},n,{token:e,type:t,ssid:n.obj_id})}}})},S=function(e){var t,n=e.token,a=e.type,u=e.title,s=e.memberId,_=e.isInWiki,E=e.wikiToken,f={token:n,type:a,title:u},d="",T={};switch(a){case i.NUM_FILE_TYPE.DOC:_?(t=o.mb.WIKI_UPDATE_NODE_TITLE,f=JSON.stringify({wiki_token:E,obj_token:n,name:u})):t=o.mb.POST_UPDATE_TITLE;break;case i.NUM_FILE_TYPE.DOCX:_&&(t=o.mb.WIKI_UPDATE_NODE_TITLE,f=JSON.stringify({wiki_token:E,obj_token:n,name:u}));break;case i.NUM_FILE_TYPE.SHEET:t=o.mb.POST_UPDATE_TITLE_SPREADSHEET,d=c.ek;break;case i.NUM_FILE_TYPE.BITABLE:t=o.mb.POST_UPDATE_TITLE_BITABLE;break;case i.NUM_FILE_TYPE.MINDNOTE:case i.NUM_FILE_TYPE.SLIDE:t=o.mb.UPDATE_META,f={token:n,type:a,title:u,member_id:s||""};break;case i.NUM_FILE_TYPE.FILE:t=o.mb.POST_BOX_UPDATE_FILE_INFO,f={file_token:n,name:u,member_id:s},T={"Content-Type":"application/json"};break;case i.NUM_FILE_TYPE.CATALOG:t=o.mb.WIKI_UPDATE_NODE_TITLE_V2,f={wiki_token:E,obj_token:n,name:u},T={"Content-Type":"application/json"}}var p=d?(0,r.Z)({},c.Or,d):{};return(0,r.Z)({type:l.H.UPDATE_TITLE},i.REQUEST,{url:t,method:o.mb.METHOD.POST,data:f,headers:Object.assign({},p,{},T),options:{takeLatest:!0,transformResponse:function(e){return Object.assign({},e,{obj_token:n,type:a,title:u})}}})},I=function(e){var t=e.token,n=e.type,a=e.title,c=e.icon_type,u=e.icon_key,s=e.icon_fsunit,_=e.member_id;return(0,r.Z)({type:l.H.UPDATE_META},i.REQUEST,{url:o.mb.UPDATE_META,method:o.mb.METHOD.POST,data:{token:t,type:n,title:a,icon_type:c,icon_key:u,icon_fsunit:s,member_id:_},options:{takeLatest:!0,transformResponse:function(e){return Object.assign({},e,{obj_token:t,type:n,title:a,icon_type:c,icon_key:u,icon_fsunit:s})}}})},O=function(e){var t=e.token,n=e.field,a=e.title,u=e.icon,s=u?{icon_key:u.key,icon_type:u.type,icon_fsunit:u.fs_unit}:{},_={type:i.NUM_SUITE_TYPE.SHEET,token:t,updateField:n,title:a||"",icon:JSON.stringify(u)};return console.log(_),(0,r.Z)({type:l.H.UPDATE_SHEET_META},i.REQUEST,{url:o.mb.POST_UPDATE_TITLE_SPREADSHEET,method:o.mb.METHOD.POST,data:_,headers:(0,r.Z)({},c.Or,c.ek),options:{takeLatest:!0,transformResponse:function(e){return Object.assign({},e,{obj_token:t,type:i.NUM_SUITE_TYPE.SHEET,title:a},s)}}})},R=function(e){var t=e.token,n=e.type,r=e.title;return{type:l.H.SYNC_TAB_TITLE,payload:{obj_token:t,type:n,title:r}}},m=function(e){var t=e.token,n=e.type,r=e.title;return function(e,o){var i=o();if((0,f.Qh)(i)===t){var a=(0,f.bJ)(i);if(a&&a.get("title")!==r)return e({type:l.H.UPDATE_DOC_TITLE,payload:Object.assign({},a.toJS(),{obj_token:t,type:n,title:r,name:r})})}}},A=function(e){return{type:l.H.SYNC_NOTE_META,payload:e}},C=function(e){return{type:l.H.SET_SHOULD_PRINT,payload:e}},h=function(e){return{type:l.H.UPDATE_APPEAL_STATUS,payload:e}},v=function(e){var t=e.urlType,n=void 0===t?i.EXPLORER_URL_TYPE.V1:t,a=e.objToken,s=e.objType,_=e.parentToken,E=e.title,f=e.needPermission,d=e.needComment,T=s===i.NUM_FILE_TYPE.SHEET,p=T?c.Kl:"",S=p?(0,r.Z)({},c.Or,p):{},I=T?4e4:25e3,O=T?{async:!0}:{},R=Object.assign({obj_token:a,obj_type:s,parent_token:_,title:E,need_comment:d},O);return(0,r.Z)({type:l.H.COPY_SUITE},i.REQUEST,{url:n===i.EXPLORER_URL_TYPE.V2?o.mb.COPY_SUITE_V2:o.mb.COPY_SUITE,method:o.mb.METHOD.POST,data:n===i.EXPLORER_URL_TYPE.V2?Object.assign({},R,{source:0}):Object.assign({},R,{need_permission:f}),skipDisasterRecovery:!0,options:{transformResponse:function(e,t,r){return Object.assign({},(0,u.X)(n,r,e),{parentToken:_})},retryConfig:{shouldRetry:function(){return!1}}},headers:Object.assign({},S),timeout:I})},D=function(e,t){return{type:l.H.CHECK_SUITE_EXTERNAL,payload:{objToken:e,objType:t}}},N=function(e,t,n){return{type:l.H.UPDATE_SUITE_VISIBILITY_STATE,payload:{objToken:e,objType:t,visibilityState:n}}},L=function(e,t){return(0,r.Z)({type:l.H.POST_RECENT_REPORT},i.REQUEST,{url:o.mb.POST_RECENT_REPORT,method:o.mb.METHOD.POST,data:{obj_token:e,obj_type:t}})},y=function(e){return{type:l.H.SET_HELP_BTN_VISIBLE,payload:e}},P=function(e){return{type:l.H.SET_HELP_BTN_ACTIVATED,payload:e}},g=function(e){return{type:l.H.SET_HELP_SIDE_BAR_VISIBLE,payload:e}},M=function(e,t){return(0,r.Z)({type:l.H.FETCH_SUITE_WIKI_INFO},i.REQUEST,{url:o.mb.GET_WIKI_INFO,method:o.mb.METHOD.GET,params:{obj_token:e,obj_type:t}})},b=function(e){return(0,r.Z)({type:l.H.FETCH_BATCH_WIKI_INFO_V1},i.REQUEST,{url:o.mb.FETCH_BATCH_WIKI_INFO_V1,method:o.mb.METHOD.POST,data:e,headers:{"Content-Type":"application/json"}})},k=function(e){return(0,r.Z)({type:l.H.FETCH_BATCH_SPACE_INFO_BY_WIKI_TOKEN_V1},i.REQUEST,{url:o.mb.FETCH_BATCH_SPACE_INFO_BY_WIKI_TOKEN_V1,method:o.mb.METHOD.GET,params:{wiki_tokens:e.wikiTokens.join(",")},headers:{"Content-Type":"application/json"}})},w=function(e){return(0,r.Z)({type:l.H.FETCH_BATCH_SPACE_INFO_BY_WIKI_TOKEN_V2},i.REQUEST,{url:o.mb.FETCH_BATCH_SPACE_INFO_BY_WIKI_TOKEN_V2,method:o.mb.METHOD.GET,params:{wiki_tokens:e.wikiTokens.join(",")},headers:{"Content-Type":"application/json"}})},H=function(e){return{type:l.H.REMOVE_SUITE_WIKI_INFO,payload:e}},U=function(e){var t=e.icon_key,n=e.icon_type,r=e.icon_fsunit,o=e.obj_token;return{type:l.H.SET_CUSTOM_ICON,payload:{icon_key:t,icon_type:n,icon_fsunit:r,obj_token:o}}},F=function(e){return(0,r.Z)({type:l.H.FETCH_WIKI_ENTITY},i.REQUEST,{url:o.mb.GET_FETCH_WIKI_ENTITY_V1,params:{wiki_token:e,include_explorer_info:!0}})},Z=function(e){return{type:l.H.SET_EXPLORER_WIKI_ENTITY,payload:e}},x=function(e,t){var n;return n={type:l.H.FETCH_OBJ_CONTAINER_V2},(0,r.Z)(n,i.REQUEST,{url:o.mb.GET_OBJ_PATH_V2,method:o.mb.METHOD.GET,params:{obj_token:e,obj_type:t},options:{takeLatest:!0,transformResponse:function(n,r,o){return Object.assign({},n,{path:o?(0,s.r2)(n.path,n.entities.nodes):[],objToken:e,type:t})}}}),(0,r.Z)(n,a.F,{resetWhenSuiteTokenChange:!0}),n},B=function(e,t,n,c,u){var s;return s={type:l.H.FETCH_SHORTCUT_LIST_FROM_OBJ_V2},(0,r.Z)(s,i.REQUEST,{url:o.mb.GET_OBJ_SHORTCUTS_V2,method:o.mb.METHOD.GET,params:{obj_token:e,obj_type:t,last_label:c,length:n},options:{takeLatest:!0,transformResponse:function(n,r,o){return Object.assign({},n,{objToken:e,type:t,fetchType:u})}}}),(0,r.Z)(s,a.F,{resetWhenSuiteTokenChange:!0}),s},W=function(e,t,n){var o;return o={},(0,r.Z)(o,i.DEFERRED,!0),(0,r.Z)(o,"type",l.H.FETCH_SHORTCUT_LIST_FROM_OBJ_V2_WITHIN_PARAMS),(0,r.Z)(o,"payload",{objToken:e,type:t,fetchType:n}),o},G=function(e,t){var n;return n={type:l.H.FETCH_SHORTCUTS_CONTAINER_V2},(0,r.Z)(n,i.REQUEST,{headers:{"Content-Type":"application/json"},url:o.mb.GET_SHORTCUTS_PATH_V2,method:o.mb.METHOD.POST,data:{node_tokens:t},options:{takeLatest:!0,transformResponse:function(n,r,o){return Object.assign({},n,{nodeTokens:t,objToken:e,path:o?(0,s.qf)(n.path,n.entities.nodes):[]})}}}),(0,r.Z)(n,a.F,{resetWhenSuiteTokenChange:!0}),n},K=function(e){var t;return t={},(0,r.Z)(t,i.DEFERRED,!0),(0,r.Z)(t,"type",l.H.FETCH_SHORTCUTS_CONTAINER_V2_WITHIN_PARAMS),(0,r.Z)(t,"payload",{objToken:e}),t},V=function(e){return{type:l.H.CLEAR_OBJ_CONTAINER_V3,payload:{objToken:e}}},j=function(e,t,n){var o;return o={},(0,r.Z)(o,i.DEFERRED,!0),(0,r.Z)(o,"type",l.H.FETCH_SUITE_ALL_PATH),(0,r.Z)(o,"payload",{objToken:e,type:t,refresh:n}),o},Y=function(e,t){return{type:l.H.UPDATE_OBJ_CONTAINER_TOKEN_V2,payload:{nodeToken:e,objContainerToken:t}}},J=function(e){var t=e.field,n=e.value;return{type:l.H.UPDATE_WIKI_ENTITY,payload:{field:t,value:n}}}},887035:function(e,t,n){"use strict";n.d(t,{qO:function(){return A},Wz:function(){return C},Qh:function(){return h},VY:function(){return v},mx:function(){return D},bJ:function(){return N},IR:function(){return y},Io:function(){return P},kj:function(){return g},gc:function(){return b},T2:function(){return k},mL:function(){return w},lp:function(){return H},mX:function(){return U},QV:function(){return F},P7:function(){return Z},NN:function(){return x},TB:function(){return B},Kz:function(){return W},om:function(){return G},He:function(){return K},e$:function(){return V},e6:function(){return j},X4:function(){return Y},DB:function(){return J},$i:function(){return X},FJ:function(){return q},VT:function(){return Q},gy:function(){return z},Ot:function(){return ee},_o:function(){return te},FZ:function(){return ne},_w:function(){return re},i2:function(){return oe},_T:function(){return ie},Rj:function(){return ae},uQ:function(){return ce},Am:function(){return ue},Qt:function(){return se},Kd:function(){return _e}});var r=n(298652),o=n(359980),i=n(455982),a=n(523232),c=n(44226),u=n(358376),s=n(957660),_=n(189735),E=n(184300),l=n(808926),f=n(306797),d=n(885463),T=n(546722),p=n(268374),S=n(442086),I=n(588164),O=function(e){return(0,o.default)(e,"appState.route")},R="appState.router",m=function(e){return e.appState.currentNoteToken},A=(0,a.P1)(m,(function(e){return e?e.get("obj_token"):""})),C=(0,a.P1)(m,(function(e){return e?e.get("type"):null})),h=function(e){var t=A(e),n=C(e),r=O(e),i=r&&r.get("path"),a=i===c.PATH.WIKI_INDEX,u=n===s.rz.WIKI,_=i===c.PATH.WIKI_SPACE_SETTING;return n&&(a&&u||_)?(0,E.r)(e,{path:r.get("path"),pathname:(0,o.default)(e,"".concat(R,".location.pathname"),""),token:t,type:n},{getWikiSpaceAndNodeDataFromTemplate:p.getWikiSpaceAndNodeDataFromTemplate,wikiInfoMapSelector:T.MM,wikiNodeNewMapSelector:T.aM,wikiSpaceMapOldSelector:T.H7}):t},v=function(e){var t=A(e),n=C(e),r=O(e),o=r&&r.get("path")===c.PATH.WIKI_INDEX;return n===s.rz.WIKI&&o?t:null},D=function(e){var t=A(e),n=C(e),r=O(e),i=[c.PATH.WIKI_INDEX,c.PATH.WIKI_SPACE_SETTING,c.PATH.WIKI_TRASH];return t&&r&&i.includes(r.get("path"))&&n===s.rz.WIKI?(0,E.p)(e,{path:r.get("path"),pathname:(0,o.default)(e,"".concat(R,".location.pathname"),""),token:t,type:n},{getWikiSpaceAndNodeDataFromTemplate:p.getWikiSpaceAndNodeDataFromTemplate,wikiInfoMapSelector:T.MM,wikiNodeNewMapSelector:T.aM,wikiSpaceMapOldSelector:T.H7}):n},N=(0,a.P1)(f.hL,h,(function(e,t){return(0,_.gr)(t,e)})),L=function(e){return e.indexes.objContainerV2},y=(0,a.P1)(h,L,(function(e,t){var n=t[e];return n&&n.nodeToken||""})),P=(0,a.P1)(y,f.wg,(function(e,t){if(!e)return"";var n=t[e];return n?n.parent_obj_token:""})),g=(0,a.P1)(P,f.hL,(function(e,t){return e?t[e]:null})),M=function(e){return e.indexes.objContainerV3},b=(0,a.P1)(h,M,(function(e,t){if(e&&t)return t[e]})),k=(0,a.P1)(b,(function(e){if(!e)return(0,i.aV)();var t=Array.from(new Set([].concat((0,r.Z)(e.objContainerTokenList),(0,r.Z)(e.shortcutContainerTokenList))));return(0,i.aV)(t.slice(0,I.p))})),w=(0,a.P1)(k,f.hL,(function(e,t){var n=(0,i.aV)();return e&&t?(e.forEach((function(e){var r=t[e];r&&(n=n.push(r))})),n):n})),H=((0,a.P1)(b,(function(e){return!!e&&(e.fetchStatus.isObjContainerTokenListFetched&&e.fetchStatus.isShortcutContainerTokenListFetched)})),(0,a.P1)(b,k,(function(e,t){return!!e&&(t.size<10&&(e.hasMore||e.shortcutTokens.length>0))}))),U=(0,a.P1)(b,(function(e){return!!e&&e.fetchStatus.isObjContainerTokenListFetched})),F=(0,a.P1)(b,(function(e){return!!e&&(void 0!==e.fetchStatus.isObjContainerTokenListFetched&&void 0!==e.fetchStatus.isShortcutTokenListFetched&&void 0!==e.fetchStatus.isShortcutContainerTokenListFetched)})),Z=(0,a.P1)(b,(function(e){return!!e&&(!1===e.fetchStatus.isObjContainerTokenListFetched||!1===e.fetchStatus.isShortcutTokenListFetched||!1===e.fetchStatus.isShortcutContainerTokenListFetched)})),x=(0,a.P1)(h,L,M,(function(e,t,n){var r=S.eQ?n[e]:t[e];return!!r&&r.isDissociated})),B=(0,a.P1)(N,(function(e){return e?e.get("create_source"):-1})),W=function(e){return e.appState.noteMeta},G=function(e){return e.appState.shouldPrint},K=function(e){return e.appState.alreadyAppeal},V=(0,a.P1)(d.M,N,(function(e,t){return t&&e.get(t.get("owner_id"))})),j=(0,a.P1)(N,d.M,(function(e,t){var n=e&&e.get("owner_id");return{name:t&&t.getIn([n,"name"]),id:n}})),Y=(0,a.P1)(l.HF,V,(function(e,t){return!(!e||!t)&&t.get("tenant_id")===e.get("tenant_id")})),J=function(e){var t=V(e);return t?t.get("tenant_name"):""},X=function(e){return e.appState.helpBtnVisible},q=function(e){return e.appState.helpBtnActivated},Q=function(e){return e.appState.helpSideBarVisible},z=function(e){return e.appState.suiteWikiInfo},$=(0,a.P1)(z,(function(e){return Object.keys((0,o.default)(e,"space_value")||{}).length})),ee=function(e){return $(e)>0},te=function(e){return e.appState.currentSsid},ne=(0,a.P1)(N,(function(e){if(!e)return null;var t=e.icon_key,n=e.icon_type,r=e.icon_fsunit;return{obj_token:e.obj_token,icon_key:t,icon_type:n,icon_fsunit:r}})),re=(0,a.P1)(V,(function(e){return(0,o.default)(e,"isOverseaSpace",!1)})),oe=(0,a.P1)(V,(function(e){return"1"===(0,o.default)(e,"tenant_id","")})),ie=(0,a.P1)(V,(function(e){return(0,o.default)(e,"tenant_id")})),ae=(0,a.P1)(N,(function(e){return e?e.toJS().title:""})),ce=function(e){return e.appState.currentWikiEntity},ue=(0,a.P1)(N,(function(e){return e?e.get("get_sec_label_code"):u.u2.GET_FAIL})),se=(0,a.P1)(N,(function(e){return e?e.get("can_set_sec_label"):u.dE.UNABLE})),_e=(0,a.P1)(N,(function(e){return e?e.get("sec_label"):null}))},588164:function(e,t,n){"use strict";n.d(t,{p:function(){return r},J:function(){return o}});var r=10,o=50},300527:function(e,t,n){"use strict";n.d(t,{Hw:function(){return r},$p:function(){return l},$1:function(){return f}});var r,o=n(919264),i=n(804175),a=n(756589),c=n(573455),u=n(112064),s=n(822462),_=n(455982);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}!function(e){e[e.OnlyInvited=1]="OnlyInvited",e[e.CompanyReadable=2]="CompanyReadable"}(r||(r={}));var l=_.ZP.fromJS({src_lang:"zh",target_lang:"",enable_auto_translate:!1,shield_auto_translate_langs:[],global_display_type:0,languages_display_type:{},enable_auto_translate_doc_body:!0,enable_auto_translate_doc_comment:!0,is_user_translate_vip:!1,permission_type:r.CompanyReadable,allow_share_outside:!0,lang_correction_perm:0,enable_auto_capitalize:0,smart_compose_setting:!0,smart_compose_personalization_setting:!1,abbreviation_installed:0,abbreviation_setting:0,view_record_setting:1}),f=((0,_.WV)(l),{targetLang:"target_lang",displayType:"global_display_type",langDisplayType:"languages_display_type",autoTranslate:"enable_auto_translate",translateContent:"auto_translate_content",shieldTranslateLang:"shield_auto_translate_langs"})},169573:function(e,t,n){"use strict";n.d(t,{Xh:function(){return r},t0:function(){return o},jN:function(){return i}});var r="ADD_USER_WHEN_FETCH_SUCCESS",o="ADD_USER_WHEN_FETCH_FAIL",i="ADD_USER"},885463:function(e,t,n){"use strict";n.d(t,{M:function(){return r}});var r=function(e){return e.entities.users}},196282:function(e,t,n){"use strict";n.d(t,{aK:function(){return o},ju:function(){return i},S2:function(){return a},GF:function(){return c},Q1:function(){return u},ug:function(){return s},DM:function(){return _},HZ:function(){return E},ye:function(){return l},iS:function(){return f},P0:function(){return d},h1:function(){return T},fU:function(){return p},Wr:function(){return S},WZ:function(){return I},Wd:function(){return O},sl:function(){return R},g3:function(){return m},z8:function(){return A},fm:function(){return C},q$:function(){return h}});var r="V2",o="wiki",i=o+r,a="currentWikiVersion",c="currentWikiHomeVersion",u="wikiInfos",s="nodeMap",_="spaces",E=_+r,l="spaceIdList",f="".concat(l,"V2"),d="pageTree",T="pageTreeMap",p="".concat(d,"V2"),S="spaceScopeSpaceIdList",I=S+r,O="spaceScopeSpaces",R="spaceScopeSpaces".concat(r),m="recentWikiInSuiteBackNav",A=m+r,C="wikiSpacePermissionMap",h=C+r},546722:function(e,t,n){"use strict";n.d(t,{yi:function(){return i},Vs:function(){return a},MM:function(){return c},aM:function(){return u},H7:function(){return s},tg:function(){return _},nL:function(){return E},ph:function(){return l},yo:function(){return f}});var r=n(359980),o=n(196282),i=function(e){return e[o.aK]||{}},a=function(e){return e[o.ju]||{}},c=function(e){return(0,r.default)(i(e),[o.Q1],{})},u=function(e){return(0,r.default)(a(e),[o.ug],{})},s=function(e){return(0,r.default)(i(e),o.DM,{})},_=function(e){return(0,r.default)(a(e),o.HZ,{})},E=function(e){return(0,r.default)(i(e),o.ye,[])},l=function(e){return(0,r.default)(a(e),o.iS,[])},f=function(e){var t=(0,r.default)(e,"appState.route"),n=(0,r.default)(e,"appState.currentNoteToken"),o=n&&n.get("obj_token");return t&&t.get("routeName")&&"wikiIndex"===t.get("routeName")&&o?o:null}},699325:function(e,t,n){"use strict";n.d(t,{Ge:function(){return d},dE:function(){return p},FI:function(){return S},B9:function(){return I},Iq:function(){return O}});var r=n(919264),o=n(804175),i=n(756589),a=n(573455),c=n(112064),u=n(822462),s=n(455982),_=n(357081),E=n(109373);function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var f={id:"",owner_id:"",avatar_url:"",owner_name:"",cn_name:"",en_name:"",department_name:"",isChosen:!1},d=function(e){(0,a.Z)(n,e);var t=l(n);function n(e){var o;return(0,r.Z)(this,n),o=e?t.call(this,e):t.call(this),(0,c.Z)(o)}return(0,o.Z)(n,[{key:"get",value:function(e){return(0,i.Z)((0,u.Z)(n.prototype),"get",this).call(this,e)}},{key:"getId",value:function(){return this.get("id")||this.get("owner_id")}}]),n}((0,s.WV)(f)),T=Object.assign({},f,{user_count:0,owner_type:_.y0.OWNER_TYPE.LARK}),p=function(e){(0,a.Z)(n,e);var t=l(n);function n(e){var o;return(0,r.Z)(this,n),o=e?t.call(this,e):t.call(this),(0,c.Z)(o)}return(0,o.Z)(n,[{key:"get",value:function(e){return(0,i.Z)((0,u.Z)(n.prototype),"get",this).call(this,e)}},{key:"getId",value:function(){return this.get("id")||this.get("owner_id")}}]),n}((0,s.WV)(T)),S=function(e){(0,a.Z)(n,e);var t=l(n);function n(e){var o;return(0,r.Z)(this,n),o=e?t.call(this,e):t.call(this),(0,c.Z)(o)}return(0,o.Z)(n,[{key:"get",value:function(e){return(0,i.Z)((0,u.Z)(n.prototype),"get",this).call(this,e)}},{key:"getId",value:function(){return this.get("id")}}]),n}((0,s.WV)({id:"",name:"",desc:"",isChosen:!1})),I=new S(E.searchInWikiSpaces),O=function(e){(0,a.Z)(n,e);var t=l(n);function n(e){var o;return(0,r.Z)(this,n),o=e?t.call(this,e):t.call(this),(0,c.Z)(o)}return(0,o.Z)(n,[{key:"getId",value:function(){return this.get("id")}}]),n}((0,s.WV)({author:"",owner_id:"",title:"",token:"",type:0,url:"",owner_type:0,share_version:0,path:[],pathToken:[],id:"",isChosen:!1}))},235311:function(e,t,n){"use strict";n.d(t,{j:function(){return r},F:function(){return l}});var r,o=n(919264),i=n(573455),a=n(112064),c=n(822462),u=n(455982),s=n(850767),_=n(481382);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}!function(e){e[e.User=_.OWNER_TYPE.NORMAL]="User",e[e.Group=_.OWNER_TYPE.LARK_CHAT_GROUP]="Group"}(r||(r={}));var l=function(e){(0,i.Z)(n,e);var t=E(n);function n(e){var r;return(0,o.Z)(this,n),r=e?t.call(this,e):t.call(this),(0,a.Z)(r)}return n}((0,u.WV)({rule_id:"",title:"",order_id:0,asc:!1,rank:s.pl.MODIFIED_TIME,union_type:s.rw.ALL,filters:[],redDot:!1}))},228243:function(e,t,n){"use strict";n.d(t,{n:function(){return _}});var r=n(919264),o=n(804175),i=n(756589),a=n(573455),c=n(112064),u=n(822462);function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var _=function(e){(0,a.Z)(n,e);var t=s(n);function n(e){var o;return(0,r.Z)(this,n),o=e?t.call(this,e):t.call(this),(0,c.Z)(o)}return(0,o.Z)(n,[{key:"get",value:function(e){return(0,i.Z)((0,u.Z)(n.prototype),"get",this).call(this,e)}}]),n}((0,n(455982).WV)({domain:"",avatar_url:"",cn_name:"",email:"",en_name:"",id:"",mobile:"",name:"",suid:"",tenant_id:"",tenant_name:"",user_type:"1",tenant_tag:"0",department_id:"",department_name:"",can_cross:!1,isOverseaSpace:!1,is_manager:!1,is_singleproduct:!1,is_anonymous:!1,is_able_add_members:!1,is_super_admin:!1}))},778633:function(e,t,n){"use strict";n.d(t,{FE:function(){return g.F},N4:function(){return N},Hp:function(){return y},u:function(){return P},NB:function(){return O},eG:function(){return A},Sk:function(){return L},n5:function(){return C.n}});var r=n(919264),o=n(804175),i=n(756589),a=n(573455),c=n(112064),u=n(822462),s=n(455982),_=n(481382),E=n(586975),l=Object.assign({},E.yS,{node_token:"",entity_token:"",entity_type:null}),f=Object.assign({},E.W2,{},E.m9,{shortcut_token:"",obj_token:""}),d=Object.assign({},E.D1,{},l,{},f,{},{meta_token:"",meta_type:null},{token:"",title:""}),T=Object.assign({},d),p=Object.assign({},d),S=n(60618);function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var O=function(e){(0,a.Z)(n,e);var t=I(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"get",value:function(e){return(0,i.Z)((0,u.Z)(n.prototype),"get",this).call(this,e)}},{key:"name",get:function(){if(!this.get("has_perm"))return S("explorer.no_perm_file_name");var e=this.get("name");return e||(_.suiteType.includes(this.type)?_.suiteType2UnnamedTitle[this.type]:"")}}]),n}((0,s.WV)(T,"Node: base data unit of explorer system")),R=n(60618);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var A=function(e){(0,a.Z)(n,e);var t=m(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"get",value:function(e){return(0,i.Z)((0,u.Z)(n.prototype),"get",this).call(this,e)}},{key:"name",get:function(){if(!this.get("has_perm"))return R("explorer.no_perm_file_name");var e=this.get("title");return!e&&this.obj_token&&null!==this.type?_.suiteType2UnnamedTitle[this.type]:e}},{key:"wikiInfo",get:function(){var e=this.obj_token,t=this.wiki_space_id,n=this.wiki_space_name,r=this.wiki_subtype,o=this.wiki_sub_token,i=this.wiki_homepage_obj_token,a=this.wiki_homepage_obj_type,c=this.wiki_homepage_wikiToken;return{wikiToken:e,spaceId:t,spaceName:n,objType:r,objToken:o,wikiVersion:this.wiki_version,homePage:{objToken:i,objType:a,wikiToken:c}}}}]),n}((0,s.WV)(p,"Obj: base data unit of suite system")),C=n(228243);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}(0,s.WV)({divider:!0,key:"key",title:""},"Divider: List view divider");var v=n(555548);function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var N=function(e){(0,a.Z)(n,e);var t=D(n);function n(e){var o;return(0,r.Z)(this,n),o=e?t.call(this,e):t.call(this),(0,c.Z)(o)}return n}((0,s.WV)({isLocked:!1,sortField:"",text:"",meta:""})),L=function(e){(0,a.Z)(n,e);var t=D(n);function n(e){var o;return(0,r.Z)(this,n),o=e?t.call(this,e):t.call(this),(0,c.Z)(o)}return n}((0,s.WV)({direction:"",sortField:"",managerFirst:!1})),y=function(e){(0,a.Z)(n,e);var t=D(n);function n(e){var o;return(0,r.Z)(this,n),o=e?t.call(this,e):t.call(this),(0,c.Z)(o)}return(0,o.Z)(n,[{key:"getSharerIds",value:function(){return this.get("sharerIds")}},{key:"getSelectedSharers",value:function(){return JSON.parse(this.get("selectedSharer"))}}]),n}((0,s.WV)({fileType:v.Bk.ALL,onlyUnOrganized:!1,onlyPersonalFolders:!1,sharerIds:(0,s.aV)(),shareByUserName:"",selectedSharer:"[]"})),P=function(e){(0,a.Z)(n,e);var t=D(n);function n(e){var o;return(0,r.Z)(this,n),o=e?t.call(this,e):t.call(this),(0,c.Z)(o)}return n}((0,s.WV)({name:"",type:"",columns:(0,s.aV)(),ordering:new L,filtering:new y,viewMode:v.wO.List})),g=n(235311)},233961:function(e,t,n){"use strict";n.d(t,{O:function(){return Qp}});var r={};n.r(r),n.d(r,{objPaths:function(){return Vd},objSettings:function(){return Kd}});var o,i,a=n(298652),c=n(774561),u=n(455982),s=n(158181),_=n(510940),E=n(555548),l=n(875289),f=n(357081),d=n(778633),T=n(442086),p=n(278910),S=(0,_.handleActions)((o={},(0,c.Z)(o,p.H.SET_LIST_VIEW_SETTING,(function(e,t){var n=t.payload,r=[E.Gv.SharedFolder,"ordering"],o=[E.Gv.PreviousShared,"ordering"];if(n.hasIn(r)&&n.hasIn(o)&&(n=n.setIn(o,n.getIn(r).set("managerFirst",!1))),T.FQ){var i=[E.Gv.SharedWithMe2,"filtering"];n.hasIn(i)&&n.getIn(i).get("fileType")===E.Bk.FOLDER&&n.setIn(i,new d.Hp),n.has(E.Gv.SharedFolder2)||(n=n.set(E.Gv.SharedFolder2,l.z0[E.Gv.SharedFolder2]))}return n=n.withMutations((function(e){e.forEach((function(t,n){var r=t.getIn(["filtering","fileType"])===E.Bk.WIKI,o=t.getIn(["filtering","fileType"])===E.Bk.IMAGE;if(r&&!(0,l.LI)(n)||o&&(0,l.t6)(n)){e.setIn([n,"filtering","fileType"],E.Bk.ALL);var i=t.get("columns").findIndex((function(e){return e.get("sortField")===E.Iv.FILE_TYPE}));i>=0&&e.setIn([n,"columns",i,"text"],E.Vh[E.Bk.ALL].text)}}))})),(0,u.D5)(l.z0).merge(n)})),(0,c.Z)(o,p.H.SET_LIST_VIEW_ORDERING_SETTING,(function(e,t){var n=t.payload,r=n.listName,o=n.orderSetting,i=e.updateIn([r,"ordering"],(function(e){return e.merge(o)}));if(r===E.Gv.PreviousShared){var a=[E.Gv.SharedFolder,"ordering"];i.hasIn(a)&&(i=i.updateIn(a,(function(e){return e.merge(o)})))}else if(r===E.Gv.SharedFolder){var c=[E.Gv.PreviousShared,"ordering"];i.hasIn(c)&&(i=i.updateIn(c,(function(e){return e.merge(Object.assign({},o,{managerFirst:!1}))})))}return i})),(0,c.Z)(o,p.H.SET_LIST_VIEW_COLUMNS,(function(e,t){var n=t.payload,r=n.listName,o=n.columns;return e.setIn([r,"columns"],o)})),(0,c.Z)(o,p.H.SET_LIST_VIEW_MODE,(function(e,t){var n=t.payload,r=n.listName,o=n.viewMode;return e.setIn([r,"viewMode"],o)})),(0,c.Z)(o,p.H.SET_LIST_VIEW_FILTERING_SETTING,(function(e,t){var n=t.payload,r=n.listName,o=n.filtering;return e.updateIn([r,"filtering"],(function(e){return e.merge(o)}))})),(0,c.Z)(o,f.Hp.explorer.UPDATE_LEANMODE_CONFIG,(function(e,t){if(!t.payload.folderHidden)return e;var n=new d.Hp({fileType:E.Bk.ALL,onlyUnOrganized:!1});return e.updateIn([E.Gv.MyObject,"filtering"],(function(e){return e.merge(n)}))})),o),(0,u.D5)(l.z0)),I={ordering:E.kS.LastOpened,fileType:E.aA.All,owner:E.s.Anybody},O=(0,_.handleActions)((i={},(0,c.Z)(i,p.H.SET_RECENT_LIST_VIEW_SETTING,(function(e,t){if(t.payload){var n=t.payload,r=n,o=r.fileType,i=r.ordering;return o===E.aA.WIKI&&i===E.kS.LastModified&&(n=Object.assign({},n,{ordering:E.kS.LastOpened})),o===E.aA.Image&&(n=Object.assign({},n,{fileType:E.aA.All})),Object.assign({},I,{},n)}return e})),(0,c.Z)(i,p.H.SET_RECENT_LIST_VIEW_ORDERING_SETTING,(function(e,t){return t.payload?Object.assign({},e,{ordering:t.payload}):e})),(0,c.Z)(i,p.H.SET_RECENT_LIST_VIEW_FILTER_TYPE,(function(e,t){var n=t.payload,r=n.fileType,o=void 0===r?e.fileType:r,i=n.owner,a=void 0===i?e.owner:i;return Object.assign({},e,{fileType:o,owner:a})})),i),I);var R=n(613066),m=n(21751),A=n(956986);var C=(0,A.f)([m.H.SET_USER_INFO,m.H.FETCH_CURRENT_USER_SUCCESS],(function(e,t){switch(t.type){case m.H.SET_USER_INFO:case m.H.FETCH_CURRENT_USER_SUCCESS:var r=t.user||t.payload;if(!r||!r.tenant_id)return;n(126368).Z.batchMarkComputeContext(["currentUserTenantId"],(function(){return{currentUserTenantId:(0,R.p)(r.tenant_id)}}))}})),h=n(367017),v=n.n(h),D=n(717333),N=n(893835),L=n(139928),y=n(202955),P=n(226260),g=n(913629),M=n(747243),b=n(964552),k=n(246479),w=v().mark(W),H=v().mark(G),U=v().mark(K),F=v().mark(V),Z=v().mark(j),x=v().mark(Y);function B(){var e=(0,g.getSpaceIdFromUrl)(),t=(0,g.getWikiTokenFromUrl)();return e||t}function W(){var e,t;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,L.select)(M.iL);case 2:e=n.sent,(t=B())&&(0,g.isValidVersion)(e)&&((0,b._)()[t]=e);case 5:case"end":return n.stop()}}),w)}function G(e){var t,n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=B()){e.next=3;break}return e.abrupt("return");case 3:if(n=(0,b._)()[t],(0,g.isValidVersion)(n)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,(0,L.select)(M.iL);case 8:if(e.sent!==n){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,(0,L.put)((0,y.s)(n));case 13:case"end":return e.stop()}}),H)}function K(e){var t,n,r,o,i;return v().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=e.payload,n=t.wikiVersion,r=t.wikiToken,o=t.spaceId,(i=r||o)&&((0,b._)()[i]=n);case 3:case"end":return a.stop()}}),U)}function V(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)(k.H.route.LOCATION_CHANGE,G);case 2:case"end":return e.stop()}}),F)}function j(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)(P.H.SET_CURRENT_WIKI_VERSION,K);case 2:case"end":return e.stop()}}),Z)}function Y(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:return e.next=4,(0,D.A)([V,j]);case 4:case"end":return e.stop()}}),x)}var J=n(175744),X=n(79078),q=n(585720),Q=v().mark($),z=v().mark(ee);function $(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeLatest)(q.H.COPY_SUITE_SUCCESS,ee);case 2:case"end":return e.stop()}}),Q)}function ee(e){var t,n;return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.parentToken,r.next=3,(0,L.select)(X.K2);case 3:if(n=r.sent,t&&t===n){r.next=7;break}return r.abrupt("return");case 7:(0,J.YM)();case 8:case"end":return r.stop()}}),z)}var te=n(873900),ne=n(672452),re=n(339956),oe=n(443431),ie=v().mark(se),ae=v().mark(_e),ce=v().mark(Ee),ue=v().mark(le);function se(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeLatest)(q.H.FETCH_CURRENT_SUITE_SUCCESS,_e);case 2:case"end":return e.stop()}}),ie)}function _e(e){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.payload.token===(0,re.LP)()){t.next=3;break}return t.abrupt("return");case 3:return(0,oe.Wt)(e.payload),(0,ne.CI)(e.payload),t.next=7,(0,L.call)(te.delay,1e3);case 7:case"end":return t.stop()}}),ae)}function Ee(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeLatest)(q.H.FETCH_CURRENT_SUITE_FAIL,le);case 2:case"end":return e.stop()}}),ce)}function le(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.call)(te.delay,1e3);case 2:case"end":return e.stop()}}),ue)}var fe=n(44014),de="MOVE_FILE_SUCCESS",Te="COMMON_ADD_FILE_TO_SUCCESS",pe=n(602382),Se=n(887035),Ie=v().mark(Re),Oe=v().mark(me);function Re(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeLatest)([Te],me);case 2:case"end":return e.stop()}}),Ie)}function me(){var e,t;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((0,fe.isUnderSuiteView)()){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,(0,L.select)(Se.Qh);case 4:return e=n.sent,n.next=7,(0,L.select)(Se.mx);case 7:return t=n.sent,n.next=10,(0,L.put)((0,pe.wg)(e,t));case 10:case"end":return n.stop()}}),Oe)}var Ae=n(614275),Ce=v().mark(ve),he=v().mark(De);function ve(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeLatest)([de],De);case 2:case"end":return e.stop()}}),Ce)}function De(e){var t,n;return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((0,fe.isUnderSuiteView)()){r.next=2;break}return r.abrupt("return");case 2:return t=e.payload.destToken,r.next=5,(0,L.select)(Se.IR);case 5:return n=r.sent,r.next=8,(0,L.put)((0,Ae.c6)(n,t));case 8:case"end":return r.stop()}}),he)}var Ne=n(481382),Le=v().mark(Pe),ye=v().mark(ge);function Pe(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeLatest)(q.H.CHECK_SUITE_EXTERNAL,ge);case 2:case"end":return e.stop()}}),Le)}function ge(e){var t,n,r;return v().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.payload,n=t.objToken,(r=t.objType)!==Ne.NUM_SUITE_TYPE.ISV){o.next=3;break}return o.abrupt("return");case 3:return o.next=5,L.put.resolve((0,Ae.CD)(n,r));case 5:case"end":return o.stop()}}),ye)}var Me=Pe,be=n(374179),ke=v().mark(He),we=v().mark(Ue);function He(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)(f.Hp.suite.UPDATE_SUITE_VISIBILITY_STATE,Ue);case 2:case"end":return e.stop()}}),ke)}function Ue(e){var t,n,r;return v().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.payload,n=t.objToken,r=t.objType,"visible"!==t.visibilityState){o.next=5;break}return o.next=5,(0,be._v)(1e3);case 5:return o.next=7,L.put.resolve((0,Ae.id)(n,r));case 7:case"end":return o.stop()}}),we)}var Fe=He,Ze=n(60389),xe=n(588164),Be=n(360851),We=v().mark(tt),Ge=v().mark(nt),Ke=v().mark(rt),Ve=v().mark(ot),je=v().mark(it),Ye=v().mark(at),Je=v().mark(ct),Xe=v().mark(ut),qe=v().mark(st),Qe=v().mark(_t),ze=v().mark(Et),$e=v().mark(lt),et=(0,Be.x0)();function tt(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeLatest)(q.H.FETCH_SHORTCUT_LIST_FROM_OBJ_V2_WITHIN_PARAMS,ut);case 2:case"end":return e.stop()}}),We)}function nt(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeLatest)(q.H.FETCH_SHORTCUTS_CONTAINER_V2_WITHIN_PARAMS,st);case 2:case"end":return e.stop()}}),Ge)}function rt(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeLatest)(f.Hp.explorer.COMMON_ADD_SHORTCUT_TO_SUCCESS,_t);case 2:case"end":return e.stop()}}),Ke)}function ot(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeLatest)(f.Hp.route.LOCATION_CHANGE,Et);case 2:case"end":return e.stop()}}),Ve)}function it(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeLatest)(q.H.FETCH_SUITE_ALL_PATH,lt);case 2:case"end":return e.stop()}}),je)}function at(e){var t,n,r,o,i,a,c,u,s,_,E;return v().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(t=e[Ne.DEFERRED],n=e.payload,r=n.objToken,o=n.type,i=n.length,a=n.fetchType,void 0!==r&&void 0!==o&&void 0!==a){l.next=5;break}return t&&t.resolve(),l.abrupt("return");case 5:return(!i||i>xe.J||i<0)&&(e.payload.length=xe.J),l.next=8,(0,L.select)(Se.gc);case 8:if(c=l.sent){l.next=12;break}return t&&t.resolve(),l.abrupt("return");case 12:if(u=c.shortcutContainerTokenList.size,s=c.objContainerTokenList.length,_=Boolean(u+s>=xe.p),c.hasMore&&!_){l.next=18;break}return t&&t.resolve(),l.abrupt("return");case 18:return l.prev=18,l.next=21,L.put.resolve((0,Ae.B8)(r,o,e.payload.length,c.lastLabel,a));case 21:E=l.sent,t&&t.resolve(E),l.next=28;break;case 25:l.prev=25,l.t0=l.catch(18),t&&t.reject(l.t0);case 28:case"end":return l.stop()}}),Ye,null,[[18,25]])}function ct(e){var t,n,r,o,i,a,c;return v().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(t=e[Ne.DEFERRED],n=e.payload,r=n.objToken,o=n.type,i=n.length,a=n.fetchType,r&&o){u.next=5;break}return t&&t.resolve(),u.abrupt("return");case 5:return(!i||i>xe.J||i<0)&&(e.payload.length=xe.J),u.prev=6,u.next=9,L.put.resolve((0,Ae.B8)(r,o,e.payload.length,"",a));case 9:c=u.sent,t&&t.resolve(c),u.next=16;break;case 13:u.prev=13,u.t0=u.catch(6),t&&t.reject(u.t0);case 16:case"end":return u.stop()}}),Je,null,[[6,13]])}function ut(e){var t,n;return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=e.payload.fetchType,n=e[Ne.DEFERRED],r.t0=t,r.next=r.t0===Ze.hh.FetchNormal?5:r.t0===Ze.hh.FetchReset?8:11;break;case 5:return r.next=7,at(e);case 7:case 10:return r.abrupt("break",13);case 8:return r.next=10,ct(e);case 11:return n&&n.reject("unknown fetchType"),r.abrupt("break",13);case 13:case"end":return r.stop()}}),Xe)}function st(e){var t,n,r,o;return v().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e[Ne.DEFERRED],n=e.payload.objToken,i.next=4,(0,L.select)(Se.gc);case 4:if(r=i.sent,n&&r){i.next=8;break}return t&&t.resolve(),i.abrupt("return");case 8:return i.prev=8,i.next=11,L.put.resolve((0,Ae.jx)(n,r.shortcutTokens));case 11:o=i.sent,t&&t.resolve(o),i.next=18;break;case 15:i.prev=15,i.t0=i.catch(8),t&&t.reject(i.t0);case 18:case"end":return i.stop()}}),qe,null,[[8,15]])}function _t(e){var t,n,r;return v().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.payload.objEntities,Array.isArray(t)&&1===t.length){o.next=3;break}return o.abrupt("return");case 3:return n=t[0].obj_token,r=t[0].obj_type,o.next=7,(0,L.select)(Se.Qh);case 7:if(o.sent===n){o.next=10;break}return o.abrupt("return");case 10:return o.next=12,(0,L.put)((0,Ae.v1)(n));case 12:return o.next=14,(0,L.put)((0,Ae.VK)(n,r));case 14:return o.prev=14,o.next=17,L.put.resolve((0,Ae.RZ)(n,r,Ze.hh.FetchReset));case 17:return o.next=19,(0,L.put)((0,Ae.Wh)(n));case 19:o.next=24;break;case 21:o.prev=21,o.t0=o.catch(14),console.error(o.t0);case 24:case"end":return o.stop()}}),Qe,null,[[14,21]])}function Et(e){var t;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.select)(Se.Qh);case 2:return t=e.sent,e.next=5,(0,L.put)((0,Ae.v1)(t));case 5:case"end":return e.stop()}}),ze)}function lt(e){var t,n,r,o,i;return v().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e[Ne.DEFERRED],n=e.payload,r=n.objToken,o=n.type,!n.refresh){a.next=5;break}return a.next=5,(0,L.put)((0,Ae.v1)(r));case 5:i=0;case 6:if(!(i<et)){a.next=39;break}return a.next=9,(0,L.select)(Se.lp);case 9:if(a.sent){a.next=12;break}return a.abrupt("break",39);case 12:return a.next=14,(0,L.select)(Se.mX);case 14:if(a.sent){a.next=24;break}return a.prev=16,a.next=19,L.put.resolve((0,Ae.VK)(r,o));case 19:a.next=24;break;case 21:a.prev=21,a.t0=a.catch(16),console.error(a.t0);case 24:return a.prev=24,a.next=27,L.put.resolve((0,Ae.RZ)(r,o,Ze.hh.FetchNormal));case 27:return a.next=29,L.put.resolve((0,Ae.Wh)(r));case 29:a.next=34;break;case 31:a.prev=31,a.t1=a.catch(24),console.error(a.t1);case 34:return a.next=36,(0,be._v)(1e3*Math.random());case 36:i++,a.next=6;break;case 39:t&&t.resolve();case 40:case"end":return a.stop()}}),$e,null,[[16,21],[24,31]])}var ft=v().mark(dt);function dt(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,D.A)([se,Ee,$,Me,Fe,Re,ve,nt,tt,rt,ot,it],N.Tb);case 2:case"end":return e.stop()}}),ft)}var Tt=n(335067),pt=n(359980),St=n(668089),It=n(310418),Ot=n(978733),Rt=n(812083),mt=n(426466),At=n(958608),Ct=n(941985),ht=n(70393),vt=n(808926),Dt=n(79408),Nt=v().mark(Mt),Lt=v().mark(bt),yt=v().mark(kt),Pt=v().mark(wt),gt=v().mark(Ht);function Mt(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeLatest)(f.Hp.explorer.SET_SELECTED_FILE_METAS,bt);case 2:case"end":return e.stop()}}),Nt)}function bt(){var e,t,n;return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,L.select)(mt.C_);case 2:if("suite"!==r.sent.get("type")&&!Ne.isAnonymousAccess){r.next=5;break}return r.abrupt("return");case 5:return r.prev=5,r.next=8,(0,L.select)(At.N);case 8:if(1===r.sent.size){r.next=11;break}return r.abrupt("return");case 11:return r.next=13,(0,L.select)(At.t2);case 13:if((e=r.sent)&&!(0,Ot.Wy)(e)){r.next=16;break}return r.abrupt("return");case 16:if(!(t=(0,Ot.HX)(e))){r.next=20;break}return r.next=20,(0,L.put)((0,It.fetchUserPermissionOnSuite)(e.shortcut_token,Ne.NUM_SHORTCUT_TYPE));case 20:if(n=e.type,!(Ne.suiteType.indexOf(n)>-1)){r.next=25;break}return r.next=24,kt(e);case 24:return r.abrupt("return");case 25:if(!(Ne.folderType.indexOf(n)>-1)){r.next=34;break}if(!t){r.next=31;break}return r.next=29,Ht(e);case 29:r.next=33;break;case 31:return r.next=33,wt(e);case 33:return r.abrupt("return");case 34:r.next=39;break;case 36:r.prev=36,r.t0=r.catch(5),console.error(r.t0);case 39:case"end":return r.stop()}}),Lt,null,[[5,36]])}function kt(e){var t,n,r,o,i,a,c;return v().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.obj_token,n=e.has_perm,r=e.owner_id,o=e.type,u.next=4,(0,L.select)(vt.HF);case 4:if(i=u.sent,a=i.get("id")===r,c=(0,Ot.HX)(e),o!==Ne.NUM_SUITE_TYPE.ISV){u.next=10;break}return u.next=10,(0,L.put)((0,It.fetchSuitePermissionConfig)(t,o));case 10:if(o===Ne.NUM_SUITE_TYPE.WIKI||ht.hM){u.next=13;break}return u.next=13,(0,L.put)((0,Ae.Uu)(t,o));case 13:if(!(c||!a&&n)){u.next=16;break}return u.next=16,(0,L.put)((0,It.fetchUserPermissionOnSuite)(t,o,!1,{takeLatest:!1}));case 16:if(!(0,Be.Lb)()||c||!(0,re.ho)(o)){u.next=20;break}return u.next=20,(0,L.put)((0,St.fetchSubscribeStatus)({objToken:t,objType:o,subType:"0,1"}));case 20:case"end":return u.stop()}}),yt)}function wt(e){var t,n,r,o,i,a;return v().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=e.obj_token,n=e.type,r=e.owner_id,o=e.space_id,!(0,Ot.HE)(e)){c.next=6;break}return c.next=4,(0,L.put)((0,It.fetchCurrentUserSingleContainerFolderPerm)(t,Ne.folderPermissionSetForSpace));case 4:case 14:c.next=19;break;case 6:if(!(0,Ot.l8)(e)){c.next=19;break}return c.next=9,(0,L.select)(vt.HF);case 9:if(i=c.sent,a=i.get("id")===r,!(0,Ot.gt)(e)){c.next=16;break}return c.next=14,(0,L.put)((0,It.fetchAuthorizedRoleUser)(t,n));case 16:if(a){c.next=19;break}return c.next=19,(0,L.put)((0,It.fetchUserPermissionOnShareSpace)(o));case 19:case"end":return c.stop()}}),Pt)}function Ht(e){var t;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.obj_token!==Ne.OBJ_TOKEN_FOR_PERMANENT_DELETE_FOLDER){n.next=2;break}return n.abrupt("return");case 2:return t=Ut(e),n.next=5,(0,L.put)((0,It.fetchCurrentUserSingleContainerFolderPerm)(e.obj_token,Ne.folderPermissionSetForSpace,t));case 5:case"end":return n.stop()}}),gt)}function Ut(e){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,Tt.Z)(v().mark((function e(t){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ct.ZP.dispatch((0,Dt.i9)(t.obj_token,t.type));case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),![Rt.STATUS_CODE.NOT_FOUND,Rt.STATUS_CODE.OBJCT_DELETED].includes((0,pt.default)(e.t0,"code"))){e.next=9;break}throw e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var Zt=v().mark(Bt),xt=v().mark(Wt);function Bt(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeLatest)(f.Hp.explorer.FETCH_SUBSCRIBE_STATUS_SUCCESS,Wt);case 2:case"end":return e.stop()}}),Zt)}function Wt(e){var t;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.next=3,(0,L.put)((0,St.updateSubscribeStatus)(t));case 3:case"end":return n.stop()}}),xt)}var Gt=n(742097),Kt=n(44226),Vt=n(746986),jt=n(189735),Yt=n(957600),Jt=v().mark(zt),Xt=v().mark($t),qt=v().mark(en),Qt={preSession:Gt.Z.search};function zt(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)(f.Hp.route.LOCATION_CHANGE,$t);case 2:case"end":return e.stop()}}),Jt)}function $t(e){var t,n,r,o,i,a,c,u,s;return v().wrap((function(_){for(;;)switch(_.prev=_.next){case 0:if(t=e.payload.pathname,n=(0,fe.locateRoute)(t),r=Qt.preSession,Qt.preSession=Gt.Z.search,o=(0,fe.getSrcModuleParams)("src_folder_id"),(0,fe.isUnderFileListView)(n)){_.next=7;break}return _.abrupt("return");case 7:if(!(0,Yt.Hn)(r,Gt.Z.search)){_.next=9;break}return _.abrupt("return");case 9:return _.next=11,(0,L.select)(mt.C_);case 11:return i=_.sent,_.next=14,(0,L.select)(X.K2);case 14:return a=_.sent,c=void 0===i.get("root_type")?"folder":"",_.delegateYield(en(i.get("module"),a),"t0",17);case 17:u=_.t0,s=a?(0,R.p)(a):"",u===Kt.routeModule.SHARED&&(s=""),(0,Vt.default)("enter_explorer_module",Object.assign({module:u,sub_module:i.get("subModule"),file_id:s,file_type:c},o));case 21:case"end":return _.stop()}}),Xt)}function en(e,t){var n,r;return v().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(n=!0,!t){o.next=6;break}return o.next=4,(0,jt.lI)(t);case 4:(r=o.sent)&&(n=(0,Ot.Iu)(r));case 6:if("folder"!==e||n){o.next=8;break}return o.abrupt("return","shared_folder");case 8:return o.abrupt("return",e);case 9:case"end":return o.stop()}}),qt)}var tn=v().mark(rn),nn=v().mark(on);function rn(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)(f.Hp.explorer.SET_SELECTED_FILE_METAS,on);case 2:case"end":return e.stop()}}),tn)}function on(e){var t,n,r;return v().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(1===e.payload.length){o.next=3;break}return o.abrupt("return");case 3:return o.next=5,(0,L.select)(At.t2);case 5:if(t=o.sent,n=t.obj_token,r=t.type,!Ne.suiteType.includes(r)){o.next=14;break}return o.next=10,(0,L.select)(Se.Qh);case 10:if(o.sent===n){o.next=14;break}return o.next=14,(0,L.put)((0,St.setCurrentSuiteToken)(n,r));case 14:case"end":return o.stop()}}),nn)}var an=v().mark(cn);function cn(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,D.A)([zt,Mt,rn,Bt],N.Tb);case 2:case"end":return e.stop()}}),an)}var un,sn=cn,_n=n(26278),En=n(189097),ln=n(721136),fn=n(15458),dn=n(726148),Tn=n(702115),pn=n(812990),Sn=n(596090),In=n(558383),On=n(672789),Rn=n(936081),mn=n(459722),An=n(52537),Cn=n(676722),hn=n(984796),vn=["realActionType"],Dn=v().mark(gn),Nn=v().mark(Mn),Ln=v().mark(bn),yn=v().mark(kn);!function(e){e[e.NEXT_ID=0]="NEXT_ID",e[e.CHECK_ID=0]="CHECK_ID",e[e.PREVIOUS_OFFSET=0]="PREVIOUS_OFFSET"}(un||(un={}));var Pn=function(e){var t;return(t={},(0,c.Z)(t,f.mb.METHOD.POST,"data"),(0,c.Z)(t,f.mb.METHOD.GET,"params"),t)[e]};function gn(e){var t;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,L.select)(dn.Rt);case 2:t=n.sent,n.t0=e,n.next=n.t0===ln.H.FETCH_ROOT_DUSTBIN_V2?6:n.t0===On.H.FETCH_SHARE_OBJECTS?7:n.t0===pn.H.FETCH_MY_OBJECT_LIST?8:n.t0===Sn.H.FETCH_RECENT_OBJS?9:n.t0===Sn.H.FETCH_RECENT_OBJS_IN_SUITE_BACK_NAV?10:n.t0===f.Hp.permission.FETCH_AUTHORIZED_MEMBERS_V2?11:n.t0===f.Hp.permission.FETCH_SINGLE_CONTAINER_FOLDER_MEMBERS?12:13;break;case 6:return n.abrupt("return",{url:En.w,method:f.mb.METHOD.GET,loadInfoSelector:hn.b9,indexesSelector:hn.Sx});case 7:return n.abrupt("return",{url:t?f.mb.GET_SHARE_OBJECTS_LEAN:f.mb.GET_SHARE_OBJECTS,method:f.mb.METHOD.GET,loadInfoSelector:mn.Sk,indexesSelector:mn.rv});case 8:return n.abrupt("return",{url:t?f.mb.GET_MY_OBJECT_LIST_LEAN:f.mb.GET_MY_OBJECT_LIST,method:f.mb.METHOD.GET,loadInfoSelector:Rn.mh,indexesSelector:Rn.Cc});case 9:return n.abrupt("return",{url:t?f.mb.GET_FETCH_RECENT_OBJS_LEAN:f.mb.GET_FETCH_RECENT_OBJS,method:f.mb.METHOD.GET,loadInfoSelector:In.Ux,indexesSelector:In.TL});case 10:return n.abrupt("return",{url:t?f.mb.GET_FETCH_RECENT_OBJS_LEAN:f.mb.GET_FETCH_RECENT_OBJS,method:f.mb.METHOD.GET,loadInfoSelector:In.WG,indexesSelector:In.ez});case 11:return n.abrupt("return",{url:f.mb.GET_SUITE_AUTH_MEMBERS_V2,method:f.mb.METHOD.GET,loadInfoSelector:At.s_,indexesSelector:Tn.V4});case 12:return n.abrupt("return",{url:f.mb.GET_SINGLE_CONTAINER_FOLDER_MEMBERS,method:f.mb.METHOD.GET,loadInfoSelector:At.lv,indexesSelector:Tn.Qy});case 13:return n.abrupt("return");case 14:case"end":return n.stop()}}),Dn)}function Mn(e){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gn(e.payload.realActionType);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),Nn)}function bn(){var e,t;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,L.actionChannel)(f.Hp.intermediate.FETCH_PAGED_DATA);case 2:e=n.sent;case 3:return n.next=6,(0,L.take)(e);case 6:return t=n.sent,n.next=9,(0,L.call)(kn,t);case 9:n.next=3;break;case 11:case"end":return n.stop()}}),Ln)}function kn(e){var t,n,r,o,i,a,u,s,_,E,l,f,d,T,p,S,I,O,R,m,A,C,h;return v().wrap((function(v){for(;;)switch(v.prev=v.next){case 0:return t=e[Ne.DEFERRED],n=e.payload,r=n.realActionType,o=(0,_n.Z)(n,vn),v.next=4,Mn(e);case 4:return i=v.sent,a=i.loadInfoSelector,u=i.indexesSelector,s=i.url,_=i.method,E={type:r,payload:Object.assign({},o),rawAction:e.payload},v.prev=10,v.next=13,(0,L.select)(a);case 13:if(f=v.sent,d=o.params,T=o.options,p=un.PREVIOUS_OFFSET,!T.isContinuous||!f){v.next=25;break}if(S=f.get("lastLabel"),!1!==f.get("hasMore")){v.next=21;break}return v.abrupt("return");case 21:return v.next=23,(0,L.select)(u);case 23:I=v.sent,p=I.size;case 25:return v.next=27,(0,L.put)(Cn.Np.start(E));case 27:return O=Pn(_),l={url:s,method:_},(0,c.Z)(l,O,Object.assign({last_label:S},d)),(0,c.Z)(l,"mergeRequestHeaderIntoMeta",!0),R=l,v.next=31,(0,An.Rd)(An.YM.explorer.retryConfig,fn.WY,R);case 31:return m=v.sent,A=m.data,C=Cn.Np.success(E,Object.assign({},d,{},A,{},T,{offset:p})),v.next=36,(0,L.put)(C);case 36:t&&t.resolve(C),v.next=46;break;case 39:return v.prev=39,v.t0=v.catch(10),console.error(v.t0),h=Cn.Np.fail(E,v.t0),t&&t.resolve(h),v.next=46,(0,L.put)(h);case 46:case"end":return v.stop()}}),yn,null,[[10,39]])}var wn=n(759665),Hn=n(625161),Un=n(995442),Fn=n(88896),Zn=n(349531),xn=v().mark(Gn),Bn=v().mark(Kn),Wn=v().mark(Vn);function Gn(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)(f.Hp.findReplace.TRIGGER_FIND_REPLACE,Kn);case 2:case"end":return e.stop()}}),xn)}function Kn(e){var t,n,r,o,i,a,c,u,s,_,E,l;return v().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,f.next=3,(0,L.select)(Fn.HJ);case 3:if(!f.sent){f.next=6;break}return f.abrupt("return");case 6:return t=e.payload.hotkeyName,f.next=9,(0,L.select)(Tn.Hy);case 9:return n=f.sent,f.next=12,(0,L.select)(Tn.MA);case 12:if(r=f.sent,o=r.copyable,i=!n||t===Un.Qd,a={showOnlyFindRow:i},c=(0,fe.locateRoute)(),(u=c.isDocx)||!o){f.next=23;break}return f.next=20,(0,L.select)(Zn.sw);case 20:s=f.sent,(_=(0,Hn.S)(s))&&(a.findText=_);case 23:return f.next=25,(0,L.put)((0,wn.openFindReplaceBox)(a));case 25:u||(E=i?"find":"replace",l=t?"shortkey":"headerbar",(0,Vt.default)("toggle_attribute",{action:E,source:l,zone:"default"})),f.next=31;break;case 28:f.prev=28,f.t0=f.catch(0),(0,N.Tb)(f.t0);case 31:case"end":return f.stop()}}),Bn,null,[[0,28]])}function Vn(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.all)([(0,L.fork)(Gn)]);case 2:case"end":return e.stop()}}),Wn)}var jn=n(652947),Yn=v().mark(qn),Jn=v().mark(Qn),Xn=v().mark(zn);function qn(e){var t,n,r;return v().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.payload){o.next=3;break}return o.abrupt("return");case 3:n=t.user_id,r=(0,pt.default)(window,"User.id"),(0,Vt.collectSuiteEvent)("dev_client_vars_user_id",{client_vars_has_user_id:n?1:0,window_has_user_id:r?1:0,status:n===r?"equal":"diff"});case 6:case"end":return o.stop()}}),Yn)}function Qn(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)(jn.H.SET_CLIENT_VARS,qn);case 2:case"end":return e.stop()}}),Jn)}function zn(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.all)([(0,L.fork)(Qn)]);case 2:case"end":return e.stop()}}),Xn)}var $n=v().mark(er);function er(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.all)([(0,L.fork)(zn)]);case 2:case"end":return e.stop()}}),$n)}var tr,nr=er,rr=n(919264),or=n(804175),ir=n(265498),ar=n(311152),cr=n(524666),ur=n(246909),sr=n(411933),_r=n(298087),Er=(tr={},(0,c.Z)(tr,_r.e.Doc,{timeout:2e4,endStage:[_r.fC.Done],shouldAutoInitOnLocationChange:function(e){return e.isDoc},shouldAutoInitOnContainerReady:function(e){return e===Ne.NUM_FILE_TYPE.DOC},autoUpdateRules:[{when:[_r.fC.CommentRendered,_r.fC.SectionNavRendered],update:{business:_r.e.Doc,stage:_r.fC.Done}},{when:[_r.fC.Done],update:{business:_r.e.Wiki,stage:_r.gD.Done}}]}),(0,c.Z)(tr,_r.e.Docx,{timeout:2e4,endStage:[_r.vh.Done],shouldAutoInitOnLocationChange:function(e){return e.isDocx},shouldAutoInitOnContainerReady:function(e){return e===Ne.NUM_FILE_TYPE.DOCX},autoUpdateRules:[{when:[_r.vh.CommentRendered,_r.vh.SectionNavRendered],update:{business:_r.e.Docx,stage:_r.vh.Done}},{when:[_r.vh.Done],update:{business:_r.e.Wiki,stage:_r.gD.Done}}]}),(0,c.Z)(tr,_r.e.Sheet,{timeout:3e4,endStage:[_r.tb.Done],shouldAutoInitOnLocationChange:function(e){return e.isSheet},shouldAutoInitOnContainerReady:function(e){return e===Ne.NUM_FILE_TYPE.SHEET},autoUpdateRules:[{when:[_r.tb.Done],update:{business:_r.e.Wiki,stage:_r.gD.Done}}]}),(0,c.Z)(tr,_r.e.Slide,{timeout:3e4,endStage:[_r.uR.Done],shouldAutoInitOnLocationChange:function(e){return e.isSlide}}),(0,c.Z)(tr,_r.e.Box,{timeout:2e4,endStage:[_r.ti.Done],shouldAutoInitOnLocationChange:function(e){return e.isFile}}),(0,c.Z)(tr,_r.e.Wiki,{timeout:2e4,endStage:[_r.gD.Done],shouldAutoInitOnLocationChange:function(e){return e.isWikiIndex||e.isWikiSpaceSetting||e.isWikiHome||e.isWikiHomeV2||e.isWikiSpaceOverview}}),(0,c.Z)(tr,_r.e.Bitable,{timeout:15e3,endStage:[_r.vB.Done],shouldAutoInitOnLocationChange:function(e){return e.isBitable}}),tr),lr=n(697098),fr=v().mark(Rr),dr=v().mark(mr),Tr=v().mark(Ar);function pr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Sr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ir=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,ir.Z)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Or=function(){function e(){(0,rr.Z)(this,e),this.prevShouldAutoInitResultMaps={locationChange:new Map,bizStageContainerReady:new Map},this.timeoutTaskMap=new Map}return(0,or.Z)(e,[{key:"locationChange",value:v().mark((function(e){var t,n,r,o;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(0,fe.locateRoute)(),n=this.prevShouldAutoInitResultMaps,r=n.locationChange,o=n.bizStageContainerReady,e.delegateYield(this.checkAutoInitStateChange(r,o,(function(e){return e.shouldAutoInitOnLocationChange?e.shouldAutoInitOnLocationChange(t):null})),"t0",4);case 4:e.next=9;break;case 6:e.prev=6,e.t1=e.catch(0),(0,N.Tb)(e.t1);case 9:case"end":return e.stop()}}),r,this,[[0,6]])}))},{key:"bizStageContainerReady",value:v().mark((function(e){var t,n,r,o;return v().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=e.payload.containerReadyType,n=this.prevShouldAutoInitResultMaps,r=n.locationChange,o=n.bizStageContainerReady,i.delegateYield(this.checkAutoInitStateChange(o,r,(function(e){return e.shouldAutoInitOnContainerReady?null!==t&&e.shouldAutoInitOnContainerReady(t):null})),"t0",4);case 4:i.next=9;break;case 6:i.prev=6,i.t1=i.catch(0),(0,N.Tb)(i.t1);case 9:case"end":return i.stop()}}),o,this,[[0,6]])}))},{key:"checkAutoInitStateChange",value:v().mark((function e(t,n,r){var o,i;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=[],i=[],Object.keys(Er).forEach((function(e){var a=r(Er[e]);if(null!==a){var c=t.get(e);t.set(e,a);var u=n.get(e),s=c||Boolean(u),_=a||Boolean(u);!s&&_?o.push(e):s&&!_&&i.push(e)}})),!(o.length>0||i.length>0)){e.next=5;break}return e.delegateYield(this.resetBusinessStage(o,i),"t0",5);case 5:case"end":return e.stop()}}),e,this)}))},{key:"resetBusinessStage",value:v().mark((function e(t,n){var r,o,i,a,c,u;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=pr(n);try{for(r.s();!(o=r.n()).done;)i=o.value,this.clearTimeout(i)}catch(e){r.e(e)}finally{r.f()}a=pr(t),e.prev=3,a.s();case 5:if((c=a.n()).done){e.next=10;break}return u=c.value,e.delegateYield(this.setTimeout(u),"t0",8);case 8:e.next=5;break;case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(3),a.e(e.t1);case 15:return e.prev=15,a.f(),e.finish(15);case 18:return e.next=20,(0,L.put)(ar.bY(t,n));case 20:case"end":return e.stop()}}),e,this,[[3,12,15,18]])}))},{key:"setTimeout",value:v().mark((function e(t){var n,r,o,i,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=Er[t]).timeout,o=n.endStage,void 0!==r&&o&&0!==o.length){e.next=3;break}return e.abrupt("return");case 3:return this.clearTimeout(t),i=this,e.next=7,(0,L.fork)(v().mark((function e(){var n,a,c;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,te.delay)(r);case 2:return e.next=4,(0,L.put)(ar.pF(t));case 4:return e.next=6,(0,L.select)(ur.o);case 6:n=e.sent,(a=o.filter((function(e){return!(0,lr.oO)(t,e,n)}))).length>0&&(c=Object.keys(n).reduce((function(e,t){var r=n[t],o=Array.from(r.simpleStageSet);return e[t]=Object.assign({},r,{simpleStageSet:o}),e}),{}),(0,Vt.default)("multi_stage_render_timeout",{multi_stage_render_business:t,multi_stage_render_not_fulfilled_stages:a,multi_stage_render_state:c})),i.timeoutTaskMap.delete(t);case 10:case"end":return e.stop()}}),e)})));case 7:a=e.sent,this.timeoutTaskMap.set(t,a);case 9:case"end":return e.stop()}}),e,this)}))},{key:"clearTimeout",value:function(e){var t=this.timeoutTaskMap.get(e);void 0!==t&&(t.cancel(),this.timeoutTaskMap.delete(e))}}]),e}();function Rr(){var e;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Or,t.next=3,(0,L.takeEvery)(k.H.route.LOCATION_CHANGE,e.locationChange);case 3:return t.next=5,(0,L.takeEvery)(k.H.common.BIZ_STAGE_CONTAINER_READY,e.bizStageContainerReady);case 5:case"end":return t.stop()}}),fr)}function mr(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)("CONTENT_VISIBLE",v().mark((function e(t){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.payload){e.next=4;break}return e.next=4,(0,L.put)(ar.N6(_r.e.Sheet,_r.tb.Done));case 4:case"end":return e.stop()}}),e)})));case 2:return e.next=4,(0,L.takeEvery)(k.H.box.SET_IS_BOX_RENDERED,v().mark((function e(t){var n,r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,e.next=3,(0,L.select)(ur.o);case 3:if(r=e.sent,!n){e.next=9;break}return e.next=7,(0,L.put)(ar.N6(_r.e.Box,_r.ti.Done));case 7:e.next=12;break;case 9:if(!(0,lr.s2)(_r.e.Box,r)){e.next=12;break}return e.next=12,(0,L.put)(ar.bY([],[_r.e.Box]));case 12:case"end":return e.stop()}}),e)})));case 4:return e.next=6,(0,L.takeEvery)("SLIDE_GLOBAL_CANVAS_RENDERED",v().mark((function e(t){var n,r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sr.K){e.next=2;break}return e.abrupt("return");case 2:return n=t.payload,e.next=5,(0,L.select)(ur.o);case 5:if(r=e.sent,!n){e.next=11;break}return e.next=9,(0,L.put)(ar.N6(_r.e.Slide,_r.uR.Done));case 9:e.next=14;break;case 11:if(!(0,lr.s2)(_r.e.Slide,r)){e.next=14;break}return e.next=14,(0,L.put)(ar.bY([],[_r.e.Slide]));case 14:case"end":return e.stop()}}),e)})));case 6:return e.next=8,(0,L.takeEvery)("BITABLE_SET_STAGE",v().mark((function e(t){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("READY"!==t.payload){e.next=4;break}return e.next=4,(0,L.put)(ar.N6(_r.e.Bitable,_r.vB.Done));case 4:case"end":return e.stop()}}),e)})));case 8:case"end":return e.stop()}}),dr)}function Ar(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.all)([(0,L.fork)(Rr),(0,L.fork)(mr)]);case 2:case"end":return e.stop()}}),Tr)}Ir([(0,cr.WY)()],Or.prototype,"locationChange",null),Ir([(0,cr.WY)()],Or.prototype,"bizStageContainerReady",null),Ir([(0,cr.WY)()],Or.prototype,"checkAutoInitStateChange",null);var Cr=n(177236),hr=n(107621),vr=n(581034),Dr=v().mark(Lr),Nr=v().mark(gr);function Lr(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)([hr.$J,hr.Zl],gr);case 2:case"end":return e.stop()}}),Dr)}function yr(e){var t=(0,vr.Hx)(),n=(0,pt.default)(e,"i18n_msg.".concat(t));if(n)return{content:n}}function Pr(e){return(0,hr.$J)(e)?{type:f.y0.TOAST_TYPE.success}:(0,hr.Zl)(e)?{type:f.y0.TOAST_TYPE.error}:null}function gr(e){var t,n,r,o;return v().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t=(0,pt.default)(e,"error.data.err_msg")){i.next=3;break}return i.abrupt("return");case 3:if(n=yr(t)){i.next=6;break}return i.abrupt("return");case 6:return r=[],r=Array.isArray(n)?n:r.concat(n),o=[],r.forEach((function(t){var n=Pr(e);o.push((0,L.put)((0,Cr.showToast)(Object.assign({},n,{},t))))})),i.next=12,(0,L.all)(o);case 12:case"end":return i.stop()}}),Nr)}var Mr=Lr,br=v().mark(kr);function kr(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,D.A)([Mr],N.Tb);case 2:case"end":return e.stop()}}),br)}var wr=kr,Hr=n(357856),Ur=n(485981),Fr=n(535436),Zr=n(204273),xr=v().mark(Wr),Br=v().mark(Gr);function Wr(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)([f.Hp.onboarding.UNDO_REDO_GUIDE_CHECK_STATE],(0,D.B)(Gr));case 2:case"end":return e.stop()}}),xr)}function Gr(){var e,t,n;return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,L.call)(Hr.E9);case 2:return r.next=4,(0,L.call)(Zr.JM,Fr.STEP_TYPES.undo_redo_callout);case 4:if(!r.sent){r.next=7;break}return r.abrupt("return");case 7:return r.next=9,(0,L.call)(Zr.YB,Fr.PROFILE_GROUP.USER,Fr.PROFILE.user.docs_acc_editor_redo_count);case 9:if(!(-1===(e=r.sent)||e>0)){r.next=12;break}return r.abrupt("return");case 12:return r.next=14,(0,L.call)(Zr.YB,Fr.PROFILE_GROUP.USER,Fr.PROFILE.user.docs_acc_editor_undo_count);case 14:if(!(-1===(t=r.sent)||t>0)){r.next=17;break}return r.abrupt("return");case 17:return r.next=19,(0,L.call)(Zr.YB,Fr.PROFILE_GROUP.USER,Fr.PROFILE.user.docs_first_create_file_time);case 19:if(!(-1===(n=r.sent)||Date.now()/1e3-n<604800)){r.next=22;break}return r.abrupt("return");case 22:return r.next=24,(0,L.take)(jn.H.SET_EDITOR);case 24:return r.next=26,(0,L.put)((0,Ur.gD)());case 26:case"end":return r.stop()}}),Br)}var Kr=v().mark(Vr);function Vr(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.all)([(0,L.fork)(Hr.ry),(0,L.fork)(Wr),(0,L.fork)(Hr.Tm)]);case 2:case"end":return e.stop()}}),Kr)}var jr=Vr,Yr=v().mark(Xr),Jr=v().mark(qr);function Xr(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeLatest)([f.Hp.permission.BULK_SET_PERM_SUCCESS,f.Hp.permission.REMOVE_AUTHORIZED_MEMBERS_SUCCESS,f.Hp.permission.SET_SUITE_PUBLIC_PERMISSION_SUCCESS],qr);case 2:case"end":return e.stop()}}),Yr)}function qr(e){var t,n,r;return v().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.type,r=t.token,o.next=4,(0,L.put)((0,Ae.lu)(r,n));case 4:case"end":return o.stop()}}),Jr)}var Qr=Xr,zr=v().mark(to),$r=v().mark(no),eo=v().mark(ro);function to(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)([f.Hp.permission.FETCH_ALL_PERMISSION_INFO,f.Hp.permission.BULK_SET_PERM_SUCCESS,f.Hp.permission.SET_SUITE_PUBLIC_PERMISSION_SUCCESS,f.Hp.permission.REMOVE_AUTHORIZED_MEMBERS_SUCCESS],no);case 2:return e.next=4,(0,L.takeEvery)([f.Hp.permission.POST_SINGLE_CONTAINER_FOLDER_MEMBERS_CREATE_SUCCESS,f.Hp.permission.UPDATE_SINGLE_CONTAINER_FOLDER_SETTING_SUCCESS],ro);case 4:case"end":return e.stop()}}),zr)}function no(e){var t,n,r,o,i,a,c;return v().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(t=e.payload,n=t.token,r=t.type,o=t.isFromNotification,i=t.needSideEffect,a=!1,e.type===f.Hp.permission.SET_SUITE_PUBLIC_PERMISSION_SUCCESS?(c=e.payload.external_access,a=void 0!==c):a=Boolean(n&&r),!1===i&&(a=!1),!a){u.next=7;break}return u.next=7,(0,L.put)(It.fetchAuthorizedMembersV2({params:{token:n,type:r},isFromNotification:o}));case 7:case"end":return u.stop()}}),$r)}function ro(e){var t;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.token,n.next=3,(0,L.put)(It.fetchSingleContainerFolderMembers({params:{token:t}}));case 3:case"end":return n.stop()}}),eo)}var oo=to,io=v().mark(co),ao=v().mark(uo);function co(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)([f.Hp.permission.POST_ADD_ROLE_MEMBER_SUCCESS,f.Hp.permission.POST_UPDATE_ROLE_MEMBER_SUCCESS,f.Hp.permission.POST_UPDATE_ROLE_MEMBER_FAIL,f.Hp.permission.POST_DELETE_ROLE_MEMBER_FAIL],uo);case 2:case"end":return e.stop()}}),io)}function uo(e){var t,n,r;return v().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.token,r=t.type,o.next=3,(0,L.put)(It.fetchAuthorizedRoleMembers(n,r));case 3:case"end":return o.stop()}}),ao)}var so=co,_o=v().mark(lo),Eo=v().mark(fo);function lo(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)([f.Hp.explorer.ADD_MEMBERS_TO_FOLDER_SUCCESS,f.Hp.explorer.REMOVE_MEMBER_FROM_FOLDER_FAIL,f.Hp.permission.UPDATE_SHARE_SPACE_SETTING_SUCCESS,f.Hp.permission.UPDATE_SHARE_SPACE_MEMBER_PERMISSION_SUCCESS],fo);case 2:case"end":return e.stop()}}),_o)}function fo(e){var t;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.space_id,n.next=3,(0,L.put)((0,It.fetchShareFolderMembers)(t));case 3:case"end":return n.stop()}}),Eo)}var To=lo,po=v().mark(Io),So=v().mark(Oo);function Io(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)([f.Hp.permission.FETCH_ALL_PERMISSION_INFO],Oo);case 2:case"end":return e.stop()}}),po)}function Oo(e){var t,n,r,o;return v().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.token,r=t.type,o=t.isFromNotification,i.next=3,(0,L.put)(It.fetchSuitePublicPermission(n,r,o));case 3:case"end":return i.stop()}}),So)}var Ro=Io,mo=v().mark(ho),Ao=v().mark(vo),Co=v().mark(Do);function ho(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)([f.Hp.permission.POST_SUITE_UNLOCK_SUCCESS,f.Hp.permission.UPDATE_USER_PERMISSION_V2_SUCCESS,f.Hp.permission.REMOVE_AUTHORIZED_MEMBERS_SUCCESS,f.Hp.permission.SET_SUITE_PUBLIC_PERMISSION_SUCCESS],vo);case 2:return e.next=4,(0,L.takeEvery)([f.Hp.permission.POST_SPACE_UNLOCK_SUCCESS,f.Hp.permission.POST_SINGLE_CONTAINER_FOLDER_MEMBERS_UPDATE_SUCCESS,f.Hp.permission.POST_SINGLE_CONTAINER_FOLDER_MEMBERS_DELETE_SUCCESS,f.Hp.permission.UPDATE_SINGLE_CONTAINER_FOLDER_SETTING_SUCCESS],Do);case 4:case"end":return e.stop()}}),mo)}function vo(e){var t,n,r,o,i;return v().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=!0,[f.Hp.permission.UPDATE_USER_PERMISSION_V2_SUCCESS,f.Hp.permission.REMOVE_AUTHORIZED_MEMBERS_SUCCESS,f.Hp.permission.SET_SUITE_PUBLIC_PERMISSION_SUCCESS].includes(e.type)&&(n=e.payload.lockStateChange,t=Boolean(n)),!t){a.next=9;break}return r=e.payload,o=r.token,i=r.type,a.next=6,(0,L.put)(It.fetchSuitePublicPermission(o,i));case 6:if(f.Hp.permission.POST_SUITE_UNLOCK_SUCCESS!==e.type){a.next=9;break}return a.next=9,(0,L.put)(It.fetchAuthorizedMembersV2({params:{token:o,type:i}}));case 9:case"end":return a.stop()}}),Ao)}function Do(e){var t,n,r,o,i;return v().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=!0,n=e.payload,r=n.lockStateChange,o=n.needSideEffect,[f.Hp.permission.POST_SINGLE_CONTAINER_FOLDER_MEMBERS_UPDATE_SUCCESS,f.Hp.permission.POST_SINGLE_CONTAINER_FOLDER_MEMBERS_DELETE_SUCCESS,f.Hp.permission.UPDATE_SINGLE_CONTAINER_FOLDER_SETTING].includes(e.type)&&(t=Boolean(r)),!1===o&&(t=!1),!t){a.next=11;break}return i=e.payload.token,a.next=8,(0,L.put)(It.fetchSingleContainerFolderPublicPermission(i));case 8:if(f.Hp.permission.POST_SPACE_UNLOCK_SUCCESS!==e.type){a.next=11;break}return a.next=11,(0,L.put)(It.fetchSingleContainerFolderMembers({params:{token:i}}));case 11:case"end":return a.stop()}}),Co)}var No=ho,Lo=n(718361),yo=v().mark(bo),Po=v().mark(ko),go=v().mark(wo),Mo=v().mark(Ho);function bo(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeLatest)([f.Hp.permission.BULK_SET_PERM_START],ko);case 2:return e.next=4,(0,L.takeLatest)([f.Hp.permission.BULK_SET_PERM_SUCCESS],wo);case 4:return e.next=6,(0,L.takeLatest)([f.Hp.permission.BULK_SET_PERM_FAIL],Ho);case 6:case"end":return e.stop()}}),yo)}function ko(e){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,Lo.sX)({stage:Lo.bv.Invite_Member,load_status:"start"});case 1:case"end":return e.stop()}}),Po)}function wo(e){var t,n;return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=e.meta||{},n=t.durationTime,(0,Lo.sX)({stage:Lo.bv.Invite_Member,load_status:"success",cost_time:n});case 2:case"end":return r.stop()}}),go)}function Ho(e){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,Lo.sX)({stage:Lo.bv.Invite_Member,load_status:"fail"});case 1:case"end":return e.stop()}}),Mo)}var Uo=bo,Fo=n(738085),Zo=v().mark(Bo),xo=v().mark(Wo);function Bo(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)([f.Hp.permission.BULK_SET_PERM_SUCCESS,f.Hp.permission.SET_SUITE_PUBLIC_PERMISSION_SUCCESS],Wo);case 2:case"end":return e.stop()}}),Zo)}function Wo(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,Fo.Kg)();case 1:case"end":return e.stop()}}),xo)}var Go=Bo,Ko=v().mark(Yo),Vo=v().mark(Jo),jo=v().mark(Xo);function Yo(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)(f.Hp.permission.SET_SUITE_PUBLIC_PERMISSION_SUCCESS,Jo);case 2:case"end":return e.stop()}}),Ko)}function Jo(e){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xo(e);case 2:case"end":return t.stop()}}),Vo)}function Xo(e){var t,n,r;return v().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.type,r=t.token,o.next=4,(0,L.put)((0,Ae.lu)(r,n));case 4:case"end":return o.stop()}}),jo)}var qo=Yo,Qo=n(188206),zo=n(526510),$o=v().mark(oi),ei=v().mark(ii),ti=v().mark(ai),ni=v().mark(ci),ri=v().mark(ui);function oi(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)([f.Hp.explorer.ADD_MEMBERS_TO_FOLDER_SUCCESS,f.Hp.explorer.CREATE_SHARE_FOLDER_SUCCESS,f.Hp.permission.BULK_SET_PERM_SUCCESS,f.Hp.permission.TRANSFER_SUITE_OWNER_SUCCESS,f.Hp.explorer.TRANSFER_SHARE_FOLDER_OWNER_SUCCESS,f.Hp.permission.UPDATE_USER_PERMISSION_V2_SUCCESS],ii);case 2:return e.next=4,(0,L.takeEvery)([f.Hp.permission.BULK_ASK_OWNER_FAIL,f.Hp.permission.ASK_OWNER_OPEN_LINK_SHARING_FAIL],ui);case 4:case"end":return e.stop()}}),$o)}function ii(e){var t;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=e.payload.not_notify_users,setTimeout((function(){(0,zo.np)(t)}),0);case 2:case"end":return n.stop()}}),ei)}function ai(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)([f.Hp.explorer.ADD_MEMBERS_TO_FOLDER_FAIL,f.Hp.explorer.CREATE_SHARE_FOLDER_FAIL,f.Hp.permission.BULK_SET_PERM_FAIL,f.Hp.permission.BULK_SET_EMBED_PERM_FAIL,f.Hp.permission.BULK_SHARE_LINK_FAIL,f.Hp.permission.BULK_ASK_OWNER_FAIL,f.Hp.permission.ASK_OWNER_OPEN_LINK_SHARING_FAIL],ci);case 2:case"end":return e.stop()}}),ti)}function ci(e){var t,n,r,o,i,a,c,u;return v().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t=e.error.data||{},n=t.user_map,r=t.block_user_map,o=t.limit_num,i=t.source,a=t.success_count,c=e.error.code,u=e.payload.ownerName,setTimeout((function(){(0,zo.MK)({userMap:n,blockUserMap:r,limitNum:o,actionType:e.type,source:i,ownerName:u,actionErrorCode:c,successCount:a})}),0);case 4:case"end":return s.stop()}}),ni)}function ui(e){var t,n,r,o,i,a;return v().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:t=e.error,n=t.code,r=t.data,o=e.payload.ownerName,i=[f.vU.PERMISSION_REQUEST_DENIED_DUE_TO_ADMIN_CONTROL,f.vU.PERMISSION_REQUEST_DENIED_DUE_TO_BLOCKED,f.vU.PERMISSION_REQUEST_DENIED_DUE_TO_BE_BLOCKED,f.vU.PERMISSION_REQUEST_DENIED_DUE_TO_PRIVACY_SETTING,f.vU.PERMISSION_REQUEST_DENIED_DUE_TO_ERROR,f.vU.PERMISSION_REQUEST_DENIED_DUE_TO_LIMITED],0!==n&&Object.values(i).indexOf(n)>-1&&(a=r.limit_num,setTimeout((function(){(0,zo.ZV)((0,Qo.Z)(n),{ownerName:o,limitNum:a})}),0));case 5:case"end":return c.stop()}}),ri)}var si=v().mark(Ei),_i=v().mark(li);function Ei(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)([f.Hp.permission.UPDATE_USER_PERMISSION_SUCCESS,f.Hp.permission.UPDATE_USER_PERMISSION_V2_SUCCESS],li);case 2:case"end":return e.stop()}}),si)}function li(e){var t,n,r,o,i,a,c,u,s,_,E,l;return v().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return t=e.payload,n=t.owner_id,r=t.owner_type,o=t.token,i=t.type,a=t.permission,f.next=3,(0,L.select)(Tn.AI);case 3:if(c=f.sent,u=c.getIn([o,"authorizedMembersV2"])){f.next=7;break}return f.abrupt("return");case 7:if(-1!==(s=u.findIndex((function(e){return e.get("owner_id")===n&&e.get("owner_type")===r})))){f.next=10;break}return f.abrupt("return");case 10:return _=u.get(s),E=_.merge({permissions:a,perm_source:null}),l={index:s,member:E},f.next=15,(0,L.put)((0,It.updateAuthorizedMembers)(o,i,l));case 15:case"end":return f.stop()}}),_i)}var fi=Ei,di=n(948096),Ti=v().mark(Si),pi=v().mark(Ii);function Si(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)([f.Hp.permission.POST_SINGLE_CONTAINER_FOLDER_MEMBERS_CREATE_SUCCESS,f.Hp.permission.UPDATE_SINGLE_CONTAINER_FOLDER_SETTING_SUCCESS],Ii);case 2:case"end":return e.stop()}}),Ti)}function Ii(e){var t,n,r,o,i;return v().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.type,n=e.payload,r=n.token,a.next=4,(0,jt.lI)(r);case 4:if(!(o=a.sent)||!(0,Ot.EH)(o)){a.next=16;break}if(i=!1,t===f.Hp.permission.POST_SINGLE_CONTAINER_FOLDER_MEMBERS_CREATE_SUCCESS?i=!0:t===f.Hp.permission.UPDATE_SINGLE_CONTAINER_FOLDER_SETTING_SUCCESS&&(i=null!=n.link_share_entity&&n.link_share_entity!==Ne.FOLDER_PUBLIC_PERMISSION.PRIVATE),!i){a.next=16;break}return a.next=11,(0,L.put)((0,St.setNodeIsShareFolder)(r,i));case 11:if(!T.FQ){a.next=16;break}return a.next=14,(0,L.put)((0,di.PB)(Ze.u1.FetchVisible,Ze.hh.FetchReset));case 14:return a.next=16,(0,L.put)((0,di.PB)(Ze.u1.FetchHidden,Ze.hh.FetchReset));case 16:case"end":return a.stop()}}),pi)}var Oi=Si,Ri=n(412840),mi=n(389859),Ai=v().mark(hi),Ci=v().mark(vi);function hi(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)([f.Hp.explorer.FETCH_MEMBERS_OF_SHARE_FOLDER_SUCCESS,f.Hp.explorer.REMOVE_MEMBER_FROM_FOLDER_SUCCESS,f.Hp.permission.FETCH_SINGLE_CONTAINER_FOLDER_MEMBERS_SUCCESS,f.Hp.permission.UPDATE_SINGLE_CONTAINER_FOLDER_SETTING_SUCCESS,f.Hp.permission.POST_SINGLE_CONTAINER_FOLDER_MEMBERS_DELETE_SUCCESS],vi);case 2:case"end":return e.stop()}}),Ai)}function vi(e){var t,n,r,o,i,a,c,u;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.select)(mi.tn);case 2:return t=e.sent,e.next=5,(0,L.select)((0,Tn.zn)("linkPerm"));case 5:return n=e.sent,e.next=8,(0,L.select)(mi.C9);case 8:if(r=e.sent,t&&null!=n){e.next=11;break}return e.abrupt("return");case 11:if(o=Di(r,n),null==(i=t.get("is_external"))||i===o){e.next=27;break}return e.next=16,(0,L.select)(X.vj);case 16:if(a=e.sent,c=a&&a.get("space_id"),u=a&&a.get("token"),!1,!(a&&(0,Ot.HE)(a)?u===t.get("token"):null!=c&&c===t.get("space_id"))){e.next=25;break}setTimeout(J.YM,100),e.next=27;break;case 25:return e.next=27,(0,L.put)((0,St.setNodeIsExternal)(t.get("token"),o));case 27:case"end":return e.stop()}}),Ci)}function Di(e,t){var n;if((0,Ri.xV)(t))n=!0;else{var r=e.find((function(e){return e.get("is_external")}));n=Boolean(r)}return n}var Ni=hi,Li=v().mark(Pi),yi=v().mark(gi);function Pi(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)([f.Hp.permission.POST_SINGLE_CONTAINER_FOLDER_MEMBERS_DELETE_SUCCESS,f.Hp.permission.UPDATE_SINGLE_CONTAINER_FOLDER_SETTING_SUCCESS],gi);case 2:case"end":return e.stop()}}),Li)}function gi(e){var t,n,r,o,i,a,c;return v().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.type,n=e.payload,r=n.token,u.next=4,(0,jt.lI)(r);case 4:if(!(o=u.sent)||!(0,Ot.tf)(o)){u.next=20;break}return u.next=8,(0,L.select)(Tn.yt);case 8:if(i=u.sent,a=i.getIn([r,"totalNum"]),c=!1,t===f.Hp.permission.UPDATE_SINGLE_CONTAINER_FOLDER_SETTING_SUCCESS?c=n.link_share_entity===Ne.FOLDER_PUBLIC_PERMISSION.PRIVATE&&1===a:t===f.Hp.permission.POST_SINGLE_CONTAINER_FOLDER_MEMBERS_DELETE_SUCCESS&&(c=1===a),!c){u.next=20;break}return u.next=15,(0,L.put)((0,It.fetchSingleContainerFolderPublicPermission)(r));case 15:if(!T.FQ){u.next=20;break}return u.next=18,(0,L.put)((0,di.PB)(Ze.u1.FetchVisible,Ze.hh.FetchReset));case 18:return u.next=20,(0,L.put)((0,di.PB)(Ze.u1.FetchHidden,Ze.hh.FetchReset));case 20:case"end":return u.stop()}}),yi)}var Mi=Pi,bi=n(929667),ki=n(765461),wi=n(235724),Hi=n(60618),Ui=v().mark(xi),Fi=v().mark(Bi),Zi=[Ne.OWNER_TYPE.DEPARTMENT,Ne.OWNER_TYPE.WIKI_GROUP,Ne.OWNER_TYPE.APP,Ne.OWNER_TYPE.NEW_WIKI_MEMBER,Ne.OWNER_TYPE.LARK_CHAT_GROUP];function xi(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)(f.Hp.permission.UPDATE_USER_PERMISSION_V2_SUCCESS,Bi);case 2:case"end":return e.stop()}}),Ui)}function Bi(e){var t,n,r,o,i,a,c,u;return v().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,n=t.notification_id,r=t.owner_type,o=t.not_notify_users,i=Zi.includes(r),a=!o||0===Object.keys(o).length,c=Ne.OWNER_TYPE.APP===r,s.next=6,(0,L.call)(bi.G,Object.assign({key:"toast_permission",type:f.y0.TOAST_TYPE.success,closeAfterCancel:!0,duration:8e3,content:Hi(c?"CreationDoc_ECM_AppModificationToast":"abtest.permission_toast.changed_successfully")},i||!a?{}:{cancelable:!0,cancelText:(0,wi.isSingleProductUser)()?Hi("member.single_product_notity_lark"):Hi("abtest.permission_toast.send_lark_notification")}));case 6:if(u=s.sent,(0,ki.H)("click_alter_collaborate_perm_toast").report({toast:u===bi.p.Cancelled?"send":"close"}),u!==bi.p.Cancelled){s.next=11;break}return s.next=11,(0,L.put)((0,It.notifyMemberAfterUpdatePermission)(n));case 11:case"end":return s.stop()}}),Fi)}var Wi=xi,Gi=v().mark(Vi),Ki=v().mark(ji);function Vi(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)([f.Hp.permission.FETCH_ALL_PERMISSION_INFO],ji);case 2:case"end":return e.stop()}}),Gi)}function ji(e){var t,n,r,o;return v().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.token,r=t.type,o=t.isFromNotification,i.next=3,(0,L.put)(It.fetchUserPermissionOnSuite(n,r,o));case 3:case"end":return i.stop()}}),Ki)}var Yi=Vi,Ji=v().mark(qi),Xi=v().mark(Qi);function qi(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)([f.Hp.permission.FETCH_USER_PERMISSION_ON_SUITE_SUCCESS],Qi);case 2:case"end":return e.stop()}}),Ji)}function Qi(e){var t,n,r,o,i,a,c,u,s,_,E,l,f;return v().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.payload,n=t.token,r=t.type,o=t.permissions,d.next=3,(0,L.select)(vt.HF);case 3:return i=d.sent,a=i.get("id"),d.next=7,(0,L.select)(Tn.eH);case 7:if(c=d.sent){d.next=10;break}return d.abrupt("return");case 10:if(-1!==(u=c.findIndex((function(e){return e.get("owner_id")===a})))){d.next=13;break}return d.abrupt("return");case 13:if(s=(0,Ri.Vl)(o),_=c.get(u),E=(0,Ri.Vl)(_.get("permissions")),s!==E){d.next=19;break}return d.abrupt("return");case 19:return l=_.set("permissions",s),f={index:u,member:l},d.next=23,(0,L.put)((0,It.updateAuthorizedMembers)(n,r,f));case 23:case"end":return d.stop()}}),Xi)}var zi=qi,$i=n(234472),ea=n(215661),ta=n(223737),na=n(945237),ra=n(242759),oa=v().mark(ca),ia=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,ir.Z)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},aa=function(){function e(){(0,rr.Z)(this,e)}return(0,or.Z)(e,[{key:"selectCurrentSuiteToken",value:function(){return(0,L.select)(Se.Qh)}},{key:"selectHasEditPermission",value:function(){return(0,L.select)(Tn.Hy)}},{key:"selectIsOwner",value:function(){return(0,L.select)(Tn.W3)}},{key:"fetchPermissionStartWatcher",value:v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)([f.Hp.permission.FETCH_USER_PERMISSION_ON_SUITE_START,f.Hp.permission.FETCH_SUITE_PUBLIC_PERMISSION_START],this.fetchPermissionStartSaga);case 2:case"end":return e.stop()}}),e,this)}))},{key:"fetchPermissionStartSaga",value:v().mark((function e(t){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.selectCurrentSuiteToken();case 3:return this.suiteToken=e.sent,e.next=6,this.selectHasEditPermission();case 6:return this.hasEditPermission=e.sent,e.next=9,this.selectIsOwner();case 9:this.isOwner=e.sent,e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),(0,N.Tb)(e.t0),na.c("fetch start exception",e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,12]])}))},{key:"fetchPermissionSuccessWatcher",value:v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)([f.Hp.permission.FETCH_USER_PERMISSION_ON_SUITE_SUCCESS,f.Hp.permission.FETCH_SUITE_PUBLIC_PERMISSION_SUCCESS],this.fetchPermissionSuccessSaga);case 2:case"end":return e.stop()}}),e,this)}))},{key:"fetchPermissionFailWatcher",value:v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)([f.Hp.permission.FETCH_USER_PERMISSION_ON_SUITE_FAIL],this.fetchPermissionFailSaga);case 2:case"end":return e.stop()}}),e,this)}))},{key:"fetchPermissionSuccessSaga",value:v().mark((function e(t){var n,r,o,i,a,c,u;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.suiteToken,r=this.hasEditPermission,o=this.isOwner,i=t.payload.token,e.next=5,this.selectHasEditPermission();case 5:return a=e.sent,e.next=8,this.selectIsOwner();case 8:c=e.sent,this.suiteToken=i,this.hasEditPermission=a,this.isOwner=c,t.type===f.Hp.permission.FETCH_USER_PERMISSION_ON_SUITE_SUCCESS&&(u=!(0,Ri.OP)(t.payload.permissions),this.emitPermissionChange(u,i)),i!==n?(na.c("token changed"),(0,ta.H)({isTokenChanged:!0,isOwner:c,hasEditPermission:a})):c!==o||a!==r?(na.c("".concat(c!==o&&"owner"," ").concat(a!==r&&"edit-perm"," changed")),(0,ta.H)({isTokenChanged:!1,isOwner:c,hasEditPermission:a})):na.c("no expected permission change"),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),(0,N.Tb)(e.t0),na.c("fetch success exception",e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,16]])}))},{key:"fetchPermissionFailSaga",value:v().mark((function e(t){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.select)(Tn.KP);case 2:n=e.sent,this.emitPermissionChange(n,t.payload.token);case 4:case"end":return e.stop()}}),e,this)}))},{key:"emitPermissionChange",value:function(e,t){ra.Z.emit($i.Z.PC.COMMON.READABLE_PERMISSION_CHANGE,{isForbidden:e,token:t})}}]),e}();function ca(){var e,t;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new aa,n.next=3,(0,L.fork)(e.fetchPermissionSuccessWatcher);case 3:if(n.t0=n.sent,t=[n.t0],!ea.Z.isInVC){n.next=11;break}return n.t1=t,n.next=9,(0,L.fork)(e.fetchPermissionFailWatcher);case 9:n.t2=n.sent,n.t1.push.call(n.t1,n.t2);case 11:return n.next=13,(0,L.all)(t);case 13:case"end":return n.stop()}}),oa)}ia([(0,cr.WY)()],aa.prototype,"fetchPermissionStartWatcher",null),ia([(0,cr.WY)()],aa.prototype,"fetchPermissionStartSaga",null),ia([(0,cr.WY)()],aa.prototype,"fetchPermissionSuccessWatcher",null),ia([(0,cr.WY)()],aa.prototype,"fetchPermissionFailWatcher",null),ia([(0,cr.WY)()],aa.prototype,"fetchPermissionSuccessSaga",null),ia([(0,cr.WY)()],aa.prototype,"fetchPermissionFailSaga",null);var ua=ca,sa=v().mark(_a);function _a(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.all)([(0,L.fork)(Yi),(0,L.fork)(zi),(0,L.fork)(ua)]);case 2:case"end":return e.stop()}}),sa)}var Ea=v().mark(la);function la(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.all)([(0,L.fork)(To),(0,L.fork)(fi),(0,L.fork)(oo),(0,L.fork)(so),(0,L.fork)(Ro),(0,L.fork)(_a),(0,L.fork)(Go),(0,L.fork)(qo),(0,L.fork)(Qr),(0,L.fork)(Wi),(0,L.fork)(ai),(0,L.fork)(oi),(0,L.fork)(Ni),(0,L.fork)(Oi),(0,L.fork)(Mi),(0,L.fork)(Uo),(0,L.fork)(No)]);case 2:case"end":return e.stop()}}),Ea)}var fa,da=n(883213),Ta=n(93649),pa=n(53781),Sa=n(900495),Ia=n(399643),Oa=v().mark(ha),Ra=v().mark(va),ma=v().mark(Da),Aa=v().mark(Na),Ca=v().mark(Ma);function ha(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)(f.Hp.template.TOGGLE_TEMPLATE_VISIBLE,ya);case 2:case"end":return e.stop()}}),Oa)}function va(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)(f.Hp.template.TOGGLE_ANNOUNCE_TEMPLATE_VISIBLE,Pa);case 2:case"end":return e.stop()}}),Ra)}function Da(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)([f.Hp.template.CREATE_BY_TEMPLATE,f.Hp.template.INSERT_TEMPLATE,f.Hp.template.CREATE_BY_TEMPLATE_I18N_ID],ga);case 2:case"end":return e.stop()}}),ma)}function Na(){var e;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[f.Hp.template.CREATE_BY_TEMPLATE,f.Hp.template.CREATE_BY_TEMPLATE_I18N_ID].flatMap((function(e){var t=f.Hp.suffix;return[t.START,t.SUCCESS,t.FAIL,t.CANCEL].map((function(t){return"".concat(e).concat(t)}))})),t.next=3,(0,L.takeEvery)(e,La);case 3:case"end":return t.stop()}}),Aa)}function La(e){var t,n=e.type,r=f.Hp.suffix,o=r.START,i=r.SUCCESS,a=r.FAIL,c=r.CANCEL,u=n.endsWith(o),s=n.endsWith(i),_=n.endsWith(a)||n.endsWith(c);(u&&!Ia.default.isLark&&(fa=window.open("")),_)&&(null===(t=fa)||void 0===t||t.close());if(s){var E=e.payload.obj_url;Ia.default.isLark?(0,Sa.Cf)(E):fa&&(fa.location.href=(0,pa.yC)(E,"create_suite_template"),fa=null)}}function ya(e){var t=e.payload;Ta.Z.setItem("__template__",{visible:t})}function Pa(e){var t=e.payload;Ta.Z.setItem("__announce_template__",{visible:t})}function ga(e){var t=e.payload.objType;setTimeout((function(){(0,da.x)({event:"ccm_template_used",suiteType:Ne.mapTypeNumToFileType[t]})}),5e3)}function Ma(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.all)([(0,L.fork)(ha),(0,L.fork)(va),(0,L.fork)(Da),(0,L.fork)(Na)]);case 2:case"end":return e.stop()}}),Ca)}var ba=n(121),ka=n(157823),wa=n(830145),Ha=n(375949),Ua=n(117834),Fa=n(60618),Za=v().mark(Ka),xa=v().mark(Ja),Ba=v().mark(qa),Wa=v().mark(Qa),Ga=f.Hp.explorer;function Ka(){var e;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,(0,L.take)("*");case 3:return e=t.sent,t.next=6,(0,L.fork)(qa,e);case 6:t.next=0;break;case 8:case"end":return t.stop()}}),Za)}function Va(e){var t=e.operator,n=e.successCount,r=e.failCount,o="";return o+=n>1?Fa.call(null,"explorer.process.success.multi",t,n):r?Fa.call(null,"explorer.process.success.multi",t,1):Fa.call(null,"explorer.process.success.single",t),r&&(o+=Fa("common.comma_seperator"),o+=Fa.call(null,"explorer.process.fail.multi",r,t)),o}function ja(e,t){return e[f.y0.FROM_UNDO]?{type:f.y0.TOAST_TYPE.success,content:Fa("explorer.undo.success")}:t}function Ya(e,t){var n=t.operator,r=t.failCount,o="",i=e.error,a=e.type,c=e.payload;if(i.code===f.vU.MOVE_BIG_TREE)o=Fa("explorer.move_big_tree_fail",n);else if(i.code===f.vU.CROSS_UNIT_ERROR)o=a===Ga.MOVE_FILE_FAIL&&c.urlType===f.y0.EXPLORER_URL_TYPE.V2?Fa("CreationDoc_ECM_CrossRegionDesc"):Fa("CreationDoc_ECM_LimitationDesc");else{var u=(0,Ua.im)(Fa("explorer.process.fail.single",n),e),s=(0,Ua.a1)(i,u);o=s||(r>1?(0,Ua.im)(Fa("explorer.process.fail.multi",r,n),e):u)}return o}function Ja(e){var t,n;return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!==e){r.next=2;break}return r.abrupt("return");case 2:if(!(t=(0,Ua.a1)(e.error,(0,Ua.im)(Fa("common.operation_failed"),e)))){r.next=7;break}return n={type:f.y0.TOAST_TYPE.error,content:t},r.next=7,(0,L.put)((0,Cr.showToast)(n));case 7:case"end":return r.stop()}}),xa)}function Xa(e){return e?f.y0.TOAST_TYPE.error:f.y0.TOAST_TYPE.success}function qa(e){var t,n,r,o,i,a,c,u,s,_,E,l,d,T,p,S,I,O,R,m,A,C,h,D,N,y,P,g,M,b,k,w,H,U,F,Z,x,B,W,G,K,V,j,Y,J,X,q,Q,z,$,ee,te,ne,re,oe,ie,ae,ce,ue,se,_e,Ee,le,fe,de,Te,pe,Se,Ie,Oe,Re,me,Ae,Ce,he,ve,De,Ne,Le,ye,Pe,ge,Me,be,ke,we,He,Ue,Fe,Ze,xe,Be,We,Ge,Ke,Ve,je,Ye,Je,Xe,qe,Qe,ze,$e,et,tt,nt,rt,ot;return v().wrap((function(v){for(;;)switch(v.prev=v.next){case 0:if(!(0,pt.default)(e,"error.data.err_msg")){v.next=3;break}return v.abrupt("return");case 3:if(!(0,Cn.Id)(e)){v.next=6;break}return v.abrupt("return");case 6:if(t=e.type,n=e.rawAction,r=void 0===n?null:n,o=e.successAction,i=void 0===o?null:o,a=e.failAction,c=void 0===a?null:a,t){v.next=10;break}return v.abrupt("return");case 10:r||(t.match(f.Hp.suffix.SUCCESS)?i=e:c=e),v.t0=t,v.next=v.t0===Ga.BATCH_TASK_START?14:v.t0===Ga.BATCH_TASK_SUCCESS||v.t0===Ga.BATCH_TASK_FAIL?22:v.t0===Ga.BATCH_TASK_CANCEL?34:v.t0===Ga.COMMON_ADD_FILE_TO_SUCCESS?38:v.t0===Ga.COMMON_ADD_FILE_TO_FAIL?47:v.t0===Ga.COMMON_ADD_SHORTCUT_TO_SUCCESS?53:v.t0===Ga.COMMON_ADD_SHORTCUT_TO_FAIL?62:v.t0===Ga.DELETE_RECENT_RECORD_SUCCESS?68:v.t0===Ga.DELETE_RECENT_RECORD_FAIL?77:v.t0===Ga.RESTORE_REMOVED_FILE_SUCCESS?83:v.t0===Ga.RESTORE_REMOVED_FILE_FAIL?96:v.t0===Ga.DELETE_OBJECT_SUCCESS?102:v.t0===Ga.DELETE_OBJECT_FAIL?119:v.t0===Ga.MOVE_FILE_SUCCESS?125:v.t0===Ga.MOVE_FILE_FAIL?141:v.t0===Ga.REMOVE_FILE_SUCCESS?147:v.t0===Ga.REMOVE_FILE_FAIL||v.t0===Ga.DELETE_FOLDER_OBJECT_FAIL?167:v.t0===Ga.DELETE_FOLDER_OBJECT_SUCCESS?186:v.t0===Ga.DELETE_REMOVED_FILE_SUCCESS?194:v.t0===Ga.DELETE_REMOVED_FILE_FAIL?203:209;break;case 14:return v.next=16,(0,L.put)((0,Ha.kF)());case 16:return u=function(){Ct.ZP.dispatch({type:f.Hp.explorer.CANCEL_BATCH_TASK})},s=(0,pt.default)(e.rawAction,[f.y0.BATCH_REQUEST,f.y0.REQUEST,"urlType"]),_={content:Fa("explorer.processing",(0,Ua.w8)(e.subType,e.rawAction[f.y0.FROM_UNDO],s)),cancelText:Fa("explorer.cancel"),onCancel:u},v.next=21,(0,L.put)((0,Cr.showBatchRequestToast)(_));case 21:case 33:case 37:case 46:case 52:case 61:case 67:case 76:case 82:case 95:case 101:case 118:case 124:case 140:case 146:case 166:case 185:case 193:case 202:case 208:case 209:return v.abrupt("break",210);case 22:return v.next=24,(0,L.put)((0,Cr.closeBatchRequestToast)());case 24:return v.next=26,new Promise((function(e){setTimeout((function(){e(void 0)}),300)}));case 26:if(!t.match(f.Hp.suffix.SUCCESS)||!e.rawAction[f.y0.FROM_UNDO]){v.next=31;break}return E={type:f.y0.TOAST_TYPE.success,content:Fa("explorer.undo.success")},v.next=30,(0,L.put)((0,Cr.showToast)(E));case 30:return v.abrupt("return");case 31:return v.next=33,(0,L.fork)(qa,{type:e.subType,rawAction:e.rawAction,failAction:e.failAction,successAction:e.successAction});case 34:return l={type:f.y0.TOAST_TYPE.success,content:Fa("explorer.process.success.single",Fa("explorer.cancel"))},v.next=37,(0,L.put)((0,Cr.showToast)(l));case 38:return d=(0,pt.default)(i,"payload.tokens.length",1),T=(0,pt.default)(c,"payload.obj_token.length",0),p=Va({operator:Fa("explorer.added"),successCount:d,failCount:T}),S={type:Xa(T),content:p},v.next=44,(0,L.put)((0,Cr.showToast)(S));case 44:return v.next=46,(0,L.fork)(Ja,c);case 47:return I=(0,pt.default)(c,"payload.obj_token.length",1),O=Ya(c,{operator:Fa("explorer.added"),failCount:I}),R={type:f.y0.TOAST_TYPE.error,content:O},v.next=52,(0,L.put)((0,Cr.showToast)(R));case 53:return m=(0,pt.default)(i,"payload.node_list.length",1),A=(0,pt.default)(c,"payload.entities.length",0),C=Va({operator:Fa("explorer.added"),successCount:m,failCount:A}),h={type:Xa(A),content:C},v.next=59,(0,L.put)((0,Cr.showToast)(h));case 59:return v.next=61,(0,L.fork)(Ja,c);case 62:return D=(0,pt.default)(c,"payload.entities.length",1),N=Ya(c,{operator:Fa("explorer.added"),failCount:D}),y={type:f.y0.TOAST_TYPE.error,content:N},v.next=67,(0,L.put)((0,Cr.showToast)(y));case 68:return P=(0,pt.default)(i,"payload.objTokens.length",1),g=(0,pt.default)(c,"payload.obj_token.length",0),M=Va({operator:Fa("explorer.removed"),successCount:P,failCount:g}),b={type:Xa(g),content:M},v.next=74,(0,L.put)((0,Cr.showToast)(b));case 74:return v.next=76,(0,L.fork)(Ja,c);case 77:return k=(0,pt.default)(c,"payload.obj_token.length",1),w=Ya(c,{operator:Fa("explorer.removed"),failCount:k}),H={type:f.y0.TOAST_TYPE.error,content:w},v.next=82,(0,L.put)((0,Cr.showToast)(H));case 83:return U=(0,pt.default)(i,"payload.success_tokens.length",1),F=(0,pt.default)(c,"payload.token.length",0),Z=(0,pt.default)(i,"payload.urlType"),x=(0,pt.default)(i,"payload.restore_to_my_space.length",0),B="",W=Xa(F),Z!==f.y0.EXPLORER_URL_TYPE.V2||F?B=Va({operator:Fa("explorer.restored2"),successCount:U,failCount:F}):0===x?B=Fa("CreationDoc_ECM_RestoreSuccessToast"):U===x?(B=Fa("CreationDoc_ECM_RestoreFile_MySpace_toast"),W=f.y0.TOAST_TYPE.info):(B=Fa("CreationDoc_ECM_RestoreFile_PartiallyMySpace_toast"),W=f.y0.TOAST_TYPE.info),G={type:W,content:B},v.next=93,(0,L.put)((0,Cr.showToast)(G));case 93:return v.next=95,(0,L.fork)(Ja,c);case 96:return K=(0,pt.default)(c,"payload.token.length",1),V=Ya(c,{operator:Fa("explorer.restored2"),failCount:K}),j={type:f.y0.TOAST_TYPE.error,content:V},v.next=101,(0,L.put)((0,Cr.showToast)(j));case 102:if(i.payload.noSuccessToast){v.next=116;break}return Y=(0,pt.default)(i,"payload.success_obj_token.length",1),J=(0,pt.default)(c,"payload.obj_token.length",0),X=i.payload,q=X.listName,Q=X.success_token,z=X.parentObjToken,$=null!==q,ee=Va({operator:Fa("explorer.deleted2"),successCount:Y,failCount:J}),ne=Ga.DELETE_OBJECT_SUCCESS+Date.now(),Q?(re=(0,St.restoreRemovedFile)({urlType:f.y0.EXPLORER_URL_TYPE.V1,srcToken:Q,parentObjToken:z}),te={cancelable:$,onCancel:function(){Ct.ZP.dispatch((0,Cr.closeToast)({key:ne})),Ct.ZP.dispatch((0,Cn.oK)(re))}}):te={},oe=ja(i,Object.assign({type:Xa(J),key:ne,content:ee},te)),0===(0,pt.default)(i,"payload.success_obj_token",[]).length&&(oe={type:f.y0.TOAST_TYPE.error,key:ne,content:Fa("explorer.delete_failed")}),v.next=116,(0,L.put)((0,Cr.showToast)(oe));case 116:return v.next=118,(0,L.fork)(Ja,c);case 119:return ie=(0,pt.default)(c,"payload.obj_token.length",1),ae=Ya(c,{operator:Fa("explorer.deleted2"),failCount:ie}),ce={type:f.y0.TOAST_TYPE.error,content:ae},v.next=124,(0,L.put)((0,Cr.showToast)(ce));case 125:return ue=(0,pt.default)(i,"payload.success_tokens.length",1),se=(0,pt.default)(c,"payload.src_token.length",0),_e=i.payload,Ee=_e.srcToken,le=_e.parentObjToken,fe=_e.destToken,de=_e.cancelable,Te=le!==ka.DummyTokens.ShareFolders&&de,v.next=131,(0,jt.OO)(Ee[0]);case 131:return pe=v.sent,Se=(0,St.moveFile)({urlType:(0,ba.p)(pe),srcToken:Ee,destToken:le,parentObjToken:fe,cancelable:!1}),Ie=Va({operator:Fa("explorer.moved"),successCount:ue,failCount:se}),Oe=Ga.MOVE_FILE_SUCCESS+Date.now(),Re=ja(i,{type:Xa(se),key:Oe,content:Ie,cancelable:Te,onCancel:function(){Ct.ZP.dispatch((0,Cr.closeToast)({key:Oe})),Ct.ZP.dispatch((0,Cn.oK)(Se))}}),v.next=138,(0,L.put)((0,Cr.showToast)(Re));case 138:return v.next=140,(0,L.fork)(Ja,c);case 141:return me=(0,pt.default)(c,"payload.src_token.length"),Ae=Ya(c,{failCount:me,operator:Fa("explorer.moved")}),Ce={type:f.y0.TOAST_TYPE.error,content:Ae},v.next=146,(0,L.put)((0,Cr.showToast)(Ce));case 147:return he=i.payload.parentObjToken,ve=(0,pt.default)(i,"payload.urlType"),De=(0,pt.default)(i,"payload.success_token.length",1),Ne=(0,pt.default)(c,"payload.token.length")-De,Le=i.payload.success_token||[],ye=i.payload.success_obj_token||[],v.next=155,(0,jt.OO)(Le);case 155:return Pe=v.sent,ge=Pe.every((function(e){return Boolean(e)&&f.y0.folderType.includes(e.get("type"))})),Me=ve===f.y0.EXPLORER_URL_TYPE.V1&&Le.length>0&&0===ye.length&&ge,ke=Ga.REMOVE_FILE_SUCCESS+Date.now(),Me?(we=(0,St.restoreRemovedFile)({urlType:f.y0.EXPLORER_URL_TYPE.V1,srcToken:Le,parentObjToken:he}),be={cancelable:!0,onCancel:function(){Ct.ZP.dispatch((0,Cr.closeToast)({key:ke})),Ct.ZP.dispatch((0,Cn.oK)(we))}}):be={},He=Va({operator:ve===f.y0.EXPLORER_URL_TYPE.V2?Fa("explorer.deleted2"):Fa("explorer.removed"),successCount:De,failCount:Ne}),Ue=ja(i,Object.assign({type:Xa(Ne),key:ke,content:He},be)),v.next=164,(0,L.put)((0,Cr.showToast)(Ue));case 164:return v.next=166,(0,L.fork)(Ja,c);case 167:return Fe=(0,pt.default)(c,"batchErrors",[]),Ze=Fe.reduce((function(e,t){return(0,pt.default)(t,"code")===f.vU.STATUS_CODE.FORBIDDEN?e.concat((0,pt.default)(t,"data.node_list",[])):e}),[]),v.next=171,(0,jt.OO)(Ze);case 171:if(xe=v.sent,!((Be=xe.filter(Boolean)).length>0)){v.next=179;break}return We={removeFailedList:Be},v.next=177,(0,L.put)((0,Ha.h7)(wa.MODAL_TYPES.REMOVE_FAILED_INFO,We));case 177:v.next=185;break;case 179:return Ge=(0,pt.default)(c,"payload.urlType"),Ke=(0,pt.default)(c,"payload.token.length",1),Ve=Ya(c,{failCount:Ke,operator:c.type===Ga.DELETE_FOLDER_OBJECT_FAIL||Ge===f.y0.EXPLORER_URL_TYPE.V2?Fa("explorer.deleted2"):Fa("explorer.removed")}),je={type:f.y0.TOAST_TYPE.error,content:Ve},v.next=185,(0,L.put)((0,Cr.showToast)(je));case 186:return Ye=(0,pt.default)(i,"payload.success_token.length",1),Je=(0,pt.default)(c,"payload.token.length")-Ye,Xe=Ga.DELETE_FOLDER_OBJECT_SUCCESS+Date.now(),qe=Va({operator:Fa("explorer.deleted2"),successCount:Ye,failCount:Je}),Qe=ja(i,{type:Xa(Je),key:Xe,content:qe}),v.next=193,(0,L.put)((0,Cr.showToast)(Qe));case 194:return ze=(0,pt.default)(i,"payload.success_tokens.length",1),$e=(0,pt.default)(c,"payload.token.length",0),et=Va({operator:Fa("explorer.deleted2"),successCount:ze,failCount:$e}),tt={type:Xa($e),content:et},v.next=200,(0,L.put)((0,Cr.showToast)(tt));case 200:return v.next=202,(0,L.fork)(Ja,c);case 203:return nt=(0,pt.default)(c,"payload.token.length"),rt=Ya(c,{failCount:nt,operator:Fa("explorer.deleted2")}),ot={type:f.y0.TOAST_TYPE.error,content:rt},v.next=208,(0,L.put)((0,Cr.showToast)(ot));case 210:case"end":return v.stop()}}),Ba)}function Qa(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.all)([(0,L.fork)(Ka)]);case 2:case"end":return e.stop()}}),Wa)}var za,$a=Qa,ec=v().mark(rc),tc=v().mark(ic),nc=(za={},(0,c.Z)(za,f.Hp.explorer.SUBSCRIBE,f.Hp.explorer.SUBSCRIBE),(0,c.Z)(za,f.Hp.explorer.UNSUBSCRIBE,f.Hp.explorer.UNSUBSCRIBE),za);function rc(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)([hr.$J,hr.Zl,f.Hp.explorer.SUBSCRIBE_START,f.Hp.explorer.UNSUBSCRIBE_START],ic);case 2:case"end":return e.stop()}}),ec)}function oc(e){return(0,hr.$J)(e)?{type:f.y0.TOAST_TYPE.success}:(0,hr.Zl)(e)?{type:f.y0.TOAST_TYPE.error}:null}function ic(e){var t,n,r,o;return v().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(0,pt.default)(e,"error.data.err_msg")){i.next=3;break}return i.abrupt("return");case 3:if(void 0!==Ua.ZP[e.type]){i.next=5;break}return i.abrupt("return");case 5:if(t=e.type,n=Ua.ZP[t](e)){i.next=9;break}return i.abrupt("return");case 9:return r=[],r=Array.isArray(n)?n:r.concat(n),o=[],r.forEach((function(n){var r=oc(e),i=t.replace(/_(SUCCESS|START|FAIL)$/,"");!nc[i]||t!=="".concat(i,"_FAIL")&&t!=="".concat(i,"_SUCCESS")||o.push((0,L.put)((0,Cr.closeToast)({key:"".concat(i,"_START_TOAST")}))),o.push((0,L.put)((0,Cr.showToast)(Object.assign({},r,{},n))))})),i.next=15,(0,L.all)(o);case 15:case"end":return i.stop()}}),tc)}var ac=rc,cc=v().mark(uc);function uc(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,D.A)([ac,$a],N.Tb);case 2:case"end":return e.stop()}}),cc)}var sc=uc,_c=n(275408),Ec=n(435104),lc=n(157684),fc=["code","nextTrans","defaultLang"],dc=v().mark(Cc),Tc=v().mark(hc),pc=v().mark(vc),Sc=v().mark(Dc),Ic=v().mark(Nc),Oc=v().mark(Lc),Rc=v().mark(yc),mc=v().mark(Pc),Ac=v().mark(gc);function Cc(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)(f.Hp.translate.TOGGLE_TRANSLATE,hc);case 2:case"end":return e.stop()}}),dc)}function hc(e){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.payload.type!==Ne.NUM_FILE_TYPE.DOC){t.next=3;break}return t.next=3,vc(e);case 3:case"end":return t.stop()}}),Tc)}function vc(e){var t,n,r,o,i,a;return v().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=e.payload,n=t.token,r=t.type,o=t.status,i=t.targetLang,!o){c.next=18;break}return c.next=4,(0,L.select)(Zn.sw);case 4:if(c.sent){c.next=7;break}return c.abrupt("return");case 7:return c.next=9,(0,L.put)(_c.kX({translating:!0}));case 9:return c.next=11,(0,L.select)(Zn.uk);case 11:return a=c.sent,c.next=14,(0,L.put)(_c.Sh(a));case 14:return c.next=16,(0,L.put)(_c.UQ(n,r,!0,i));case 16:c.next=20;break;case 18:return c.next=20,(0,L.put)(_c.Sh(null));case 20:case"end":return c.stop()}}),pc)}function Dc(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)([f.Hp.translate.GET_TRANSLATE_CONFIG_SUCCESS,f.Hp.translate.GET_TRANSLATE_CONFIG_FAIL],Nc);case 2:case"end":return e.stop()}}),Sc)}function Nc(e){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(![Ne.NUM_FILE_TYPE.DOC,Ne.NUM_FILE_TYPE.DOCX].includes(e.payload.type)){t.next=3;break}return t.next=3,Lc(e);case 3:(0,lc.A)();case 4:case"end":return t.stop()}}),Ic)}function Lc(e){var t,n,r,o,i,a;return v().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=e.payload,n=t.code,r=t.nextTrans,o=t.defaultLang,i=(0,_n.Z)(t,fc),e.type!==f.Hp.translate.GET_TRANSLATE_CONFIG_FAIL&&!n){c.next=5;break}return c.next=4,(0,L.put)(_c.kX({translating:!1,error:r?"fail":""}));case 4:return c.abrupt("return");case 5:return a=(0,Ec.TA)(i),o&&o!==a.target_lang&&(a.target_lang=o),c.next=9,(0,L.put)(_c.Uw(Object.assign({},a)));case 9:if(!r){c.next=12;break}return c.next=12,(0,L.put)(_c.kX({translate_start:!0,translating:!0}));case 12:case"end":return c.stop()}}),Oc)}function yc(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)([f.Hp.translate.SUBMIT_TRANSLATE_SUCCESS,f.Hp.translate.SUBMIT_TRANSLATE_FAIL],Pc);case 2:case"end":return e.stop()}}),Rc)}function Pc(e){var t,n;return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t={translate_start:!1,translating:!1},n=e.payload.code,e.type!==f.Hp.translate.SUBMIT_TRANSLATE_FAIL&&!n){r.next=6;break}return r.next=5,(0,L.put)(_c.kX(Object.assign({},t,{error:"fail"})));case 5:return r.abrupt("return");case 6:return r.next=8,(0,L.put)(_c.kX(Object.assign({},t,{translating:!0})));case 8:case"end":return r.stop()}}),mc)}function gc(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.all)([(0,L.fork)(Dc),(0,L.fork)(Cc),(0,L.fork)(yc)]);case 2:case"end":return e.stop()}}),Ac)}var Mc=v().mark(kc),bc=v().mark(wc);function kc(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,ne.A4)();case 1:case"end":return e.stop()}}),Mc)}function wc(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)(f.Hp.route.LOCATION_CHANGE,kc);case 2:case"end":return e.stop()}}),bc)}var Hc,Uc=n(829033),Fc=n(189443),Zc=n(758837);!function(e){e.SET_FETCH_STATUS="SET_FETCH_STATUS",e.RESET_FETCH_STATUS="RESET_FETCH_STATUS"}(Hc||(Hc={}));var xc=function(e){return{type:Hc.SET_FETCH_STATUS,payload:e}},Bc=function(){return{type:Hc.RESET_FETCH_STATUS,payload:{}}},Wc=n(354198),Gc=n(134408),Kc=v().mark(Yc),Vc=v().mark(Xc),jc=v().mark(qc);function Yc(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)("*",Xc);case 2:case"end":return e.stop()}}),Kc)}function Jc(e,t,n){return(0,Zc.Z)(e.slice(t.length).slice(0,0-n.length))}function Xc(e){var t,n,r,o,i,a,c,u,s,_,E,l,d,T,p,S,I,O,R,m,A,C,h,D,N;return v().wrap((function(v){for(;;)switch(v.prev=v.next){case 0:if(e.type!==f.Hp.route.LOCATION_CHANGE){v.next=6;break}if(t=e.payload,n=t.hash,r=t.isPathChanged,""!==n||!r){v.next=5;break}return v.next=5,(0,L.put)(Bc());case 5:case 9:case 27:case 34:return v.abrupt("return");case 6:if(e.type!==f.Hp.explorer.SET_CURRENT_SUITE_TOKEN){v.next=10;break}return v.next=9,(0,L.put)(Bc());case 10:if(o=(0,Gc.Z)(e),i=o[Wc.F]){v.next=14;break}return v.abrupt("return");case 14:if(a=e.type,c=f.Hp.prefix.FETCH,u=f.Hp.suffix,s=u.START,_=u.BEGIN,E=u.SUCCESS,l=u.COMPLETE,d=u.FAIL,T=u.ERROR,p=a.startsWith(c)?c:"",S=a.endsWith(s),I=a.endsWith(_),!S&&!I){v.next=28;break}return O=Jc(a,p,S?s:_),R={actionName:O,status:f.y0.StatusMap.loading},(0,Uc.default)((0,pt.default)(e,"payload.options.isContinuous"))||(R.isContinuous=e.payload.options.isContinuous),(0,Fc.Z)(i)&&(R.options=i),v.next=27,(0,L.put)(xc(R));case 28:if(m=a.endsWith(E),A=a.endsWith(l),!m&&!A){v.next=35;break}return C=Jc(a,p,m?E:l),v.next=34,(0,L.put)(xc({actionName:C,status:f.y0.StatusMap.loaded}));case 35:if(h=a.endsWith(d),D=a.endsWith(T),!h&&!D){v.next=41;break}return N=Jc(a,p,h?d:T),v.next=41,(0,L.put)(xc({code:e.error&&e.error.code,actionName:N,status:f.y0.StatusMap.failed}));case 41:case"end":return v.stop()}}),Vc)}function qc(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.all)([(0,L.fork)(Yc)]);case 2:case"end":return e.stop()}}),jc)}var Qc=n(300408),zc=n(219567),$c=n(870959),eu=n(103742),tu=v().mark(ru),nu=v().mark(ou);function ru(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeLatest)(eu.H.FETCH_TREE_FILE_META_WITHIN_PARAMS,ou);case 2:case"end":return e.stop()}}),tu)}function ou(e){var t,n,r,o,i,a;return v().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e[Ne.DEFERRED],c.next=3,(0,L.select)(zc.Lc);case 3:return n=c.sent,r=e.payload,o=r.urlType,i=r.token,c.prev=5,c.next=8,L.put.resolve((0,$c.GS)(o,Object.assign({},n,{token:i})));case 8:a=c.sent,t&&t.resolve(a),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(5),t&&t.reject(c.t0);case 15:case"end":return c.stop()}}),nu,null,[[5,12]])}var iu=n(32644),au=n(734504),cu=v().mark(Eu),uu=v().mark(lu),su=(0,zc.Co)(E.Gv.MyObject),_u=(0,zc.dC)(E.Gv.MyObject);function Eu(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeLatest)(pn.H.FETCH_MY_OBJECT_LIST_WITHIN_PARAMS,lu);case 2:case"end":return e.stop()}}),cu)}function lu(e){var t,n,r,o,i,a,c;return v().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e[Ne.DEFERRED],u.next=3,(0,L.select)(_u);case 3:if(n=u.sent,r=document.getElementById(wa.explorerMyObjectListWrapperId)){u.next=7;break}return u.abrupt("return");case 7:return u.prev=7,o=(0,iu.RX)({wrapperRef:r,viewMode:n}),u.next=11,(0,L.select)(su);case 11:return i=u.sent,a=Object.assign({length:o},i),u.next=15,L.put.resolve((0,au.i)({params:a}));case 15:c=u.sent,t&&t.resolve(c),u.next=22;break;case 19:u.prev=19,u.t0=u.catch(7),t&&t.reject(u.t0);case 22:case"end":return u.stop()}}),uu,null,[[7,19]])}var fu=n(288776),du=n(188572),Tu=n(465872),pu=v().mark(Au),Su=v().mark(Cu),Iu=v().mark(hu),Ou=v().mark(vu),Ru=(0,zc.Co)(E.Gv.MySpace),mu=(0,zc.dC)(E.Gv.MySpace);function Au(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeLatest)(Tu.H.FETCH_MY_SPACE_2_NEW_OBJ_LIST_WITHIN_PARAMS,vu);case 2:case"end":return e.stop()}}),pu)}function Cu(e){var t,n,r,o,i,a,c;return v().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e[Ne.DEFERRED],u.next=3,(0,L.select)(Ru);case 3:return n=u.sent,r=e.payload,o=r.fetchType,i=r.fetchLength,u.next=7,(0,L.select)(fu.OT);case 7:return a=u.sent,u.next=10,(0,L.select)(fu.vc);case 10:if(u.sent){u.next=13;break}return u.abrupt("return");case 13:return u.prev=13,u.next=16,L.put.resolve((0,du.t)({requestParams:n,fetchType:o,lastLabel:a,fetchLength:i}));case 16:c=u.sent,t&&t.resolve(c),u.next=23;break;case 20:u.prev=20,u.t0=u.catch(13),t&&t.reject(u.t0);case 23:case"end":return u.stop()}}),Su,null,[[13,20]])}function hu(e){var t,n,r,o,i,a;return v().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e[Ne.DEFERRED],c.next=3,(0,L.select)(Ru);case 3:return n=c.sent,r=e.payload,o=r.fetchType,i=r.fetchLength,c.prev=5,c.next=8,L.put.resolve((0,du.t)({requestParams:n,fetchType:o,fetchLength:i}));case 8:a=c.sent,t&&t.resolve(a),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(5),t&&t.reject(c.t0);case 15:case"end":return c.stop()}}),Iu,null,[[5,12]])}function vu(e){var t,n,r,o,i;return v().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.payload,n=t.fetchType,t.fetchLength){a.next=10;break}return a.next=4,(0,L.select)(mu);case 4:if(r=a.sent,o=document.getElementById(wa.explorerMyObjectListWrapperId)){a.next=8;break}return a.abrupt("return");case 8:i=(0,iu.RX)({wrapperRef:o,viewMode:r}),e.payload.fetchLength=i;case 10:a.t0=n,a.next=a.t0===Ze.hh.FetchNormal?13:a.t0===Ze.hh.FetchReset?16:19;break;case 13:return a.next=15,Cu(e);case 15:return a.abrupt("break",20);case 16:return a.next=18,hu(e);case 18:return a.abrupt("break",20);case 19:return a.abrupt("return");case 20:case"end":return a.stop()}}),Ou)}var Du=n(117595),Nu=n(383127),Lu=v().mark(Pu),yu=v().mark(gu);function Pu(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)(Nu.H.FETCH_MY_SPACE_LIST_WITHIN_PARAMS,gu);case 2:case"end":return e.stop()}}),Lu)}function gu(e){var t,n,r;return v().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e[Ne.DEFERRED],o.next=3,(0,L.select)(zc.iL);case 3:return n=o.sent,o.prev=4,o.next=7,L.put.resolve((0,Du.F)({params:n}));case 7:r=o.sent,t&&t.resolve(r),o.next=14;break;case 11:o.prev=11,o.t0=o.catch(4),t&&t.reject(o.t0);case 14:case"end":return o.stop()}}),yu,null,[[4,11]])}var Mu=n(438203),bu=n(253232),ku=v().mark(Hu),wu=v().mark(Uu);function Hu(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)(bu.H.FETCH_MY_SPACE_FOLDER_WITHIN_PARAMS,Uu);case 2:case"end":return e.stop()}}),ku)}function Uu(e){var t,n,r;return v().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e[Ne.DEFERRED],o.next=3,(0,L.select)(zc.Hl);case 3:return n=o.sent,o.prev=4,o.next=7,L.put.resolve((0,Mu.E$)({requestParams:n}));case 7:r=o.sent,t&&t.resolve(r),o.next=14;break;case 11:o.prev=11,o.t0=o.catch(4),t&&t.reject(o.t0);case 14:case"end":return o.stop()}}),wu,null,[[4,11]])}var Fu=n(937727),Zu=n(404671),xu=n(549318),Bu=v().mark(Vu),Wu=v().mark(ju),Gu=v().mark(Yu),Ku=v().mark(Ju);function Vu(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)(Zu.H.FETCH_MY_SPACE_2_NEW_FOLDER_WITHIN_PARAMS,Ju);case 2:case"end":return e.stop()}}),Bu)}function ju(e){var t,n,r,o,i,a,c;return v().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e[Ne.DEFERRED],u.next=3,(0,L.select)(zc._m);case 3:return n=u.sent,r=e.payload.fetchType,u.next=7,(0,L.select)(xu.UB);case 7:return o=u.sent,u.next=10,(0,L.select)(xu.Jl);case 10:return i=u.sent,u.next=13,(0,L.select)((0,zc.M$)(E.Gv.MyFolder2));case 13:if(a=u.sent,i){u.next=16;break}return u.abrupt("return");case 16:return u.prev=16,u.next=19,L.put.resolve((0,Fu.Q)({requestParams:n,fetchType:r,lastLabel:o,onlyPersonalFolders:a.onlyPersonalFolders}));case 19:c=u.sent,t&&t.resolve(c),u.next=26;break;case 23:u.prev=23,u.t0=u.catch(16),t&&t.reject(u.t0);case 26:case"end":return u.stop()}}),Wu,null,[[16,23]])}function Yu(e){var t,n,r,o,i;return v().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e[Ne.DEFERRED],a.next=3,(0,L.select)(zc._m);case 3:return n=a.sent,r=e.payload.fetchType,a.next=7,(0,L.select)((0,zc.M$)(E.Gv.MyFolder2));case 7:return o=a.sent,a.prev=8,a.next=11,L.put.resolve((0,Fu.Q)({requestParams:n,fetchType:r,onlyPersonalFolders:o.onlyPersonalFolders}));case 11:i=a.sent,t&&t.resolve(i),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(8),t&&t.reject(a.t0);case 18:case"end":return a.stop()}}),Gu,null,[[8,15]])}function Ju(e){var t;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=e.payload.fetchType,n.t0=t,n.next=n.t0===Ze.hh.FetchNormal?4:n.t0===Ze.hh.FetchReset?7:10;break;case 4:return n.next=6,ju(e);case 6:case 9:return n.abrupt("break",11);case 7:return n.next=9,Yu(e);case 10:return n.abrupt("return");case 11:case"end":return n.stop()}}),Ku)}var Xu=n(477671),qu=n(798016),Qu=v().mark($u),zu=v().mark(es);function $u(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeLatest)(qu.H.FETCH_ROOT_SHARE_FOLDER_WITHIN_PARAMS,es);case 2:case"end":return e.stop()}}),Qu)}function es(e){var t,n,r,o;return v().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e[Ne.DEFERRED],i.next=3,(0,L.select)(zc.PG);case 3:return n=i.sent,r=e.payload.hidden,i.prev=5,i.next=8,L.put.resolve((0,Xu.HW)({requestParams:n,hidden:r,willUpdatePath:!1}));case 8:o=i.sent,t&&t.resolve(o),i.next=15;break;case 12:i.prev=12,i.t0=i.catch(5),t&&t.reject(i.t0);case 15:case"end":return i.stop()}}),zu,null,[[5,12]])}var ts=n(278084),ns=n(175526),rs=v().mark(cs),os=v().mark(us),is=v().mark(ss),as=v().mark(_s);function cs(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeLatest)(ts.H.FETCH_V2_SHARED_FOLDER_WITHIN_PARAMS,_s);case 2:case"end":return e.stop()}}),rs)}function us(e){var t,n,r,o,i,a,c;return v().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e[Ne.DEFERRED],u.next=3,(0,L.select)(zc.Ej);case 3:if(n=u.sent,r=e.payload,o=r.hidden,i=r.fetchType,o!==Ze.u1.FetchVisible){u.next=11;break}return u.next=8,(0,L.select)(ns.Sj);case 8:u.t0=u.sent,u.next=14;break;case 11:return u.next=13,(0,L.select)(ns.OQ);case 13:u.t0=u.sent;case 14:if(a=u.t0,o!==Ze.u1.FetchVisible){u.next=21;break}return u.next=18,(0,L.select)(ns.EX);case 18:u.t1=u.sent,u.next=24;break;case 21:return u.next=23,(0,L.select)(ns.Kz);case 23:u.t1=u.sent;case 24:if(u.t1){u.next=27;break}return u.abrupt("return");case 27:return u.prev=27,u.next=30,L.put.resolve((0,di.LD)({params:n,hidden:o,fetchType:i,lastLabel:a}));case 30:c=u.sent,t&&t.resolve(c),u.next=37;break;case 34:u.prev=34,u.t2=u.catch(27),t&&t.reject(u.t2);case 37:case"end":return u.stop()}}),os,null,[[27,34]])}function ss(e){var t,n,r,o,i,a;return v().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e[Ne.DEFERRED],c.next=3,(0,L.select)(zc.Ej);case 3:return n=c.sent,r=e.payload,o=r.hidden,i=r.fetchType,c.prev=5,c.next=8,L.put.resolve((0,di.LD)({params:n,hidden:o,fetchType:i}));case 8:a=c.sent,t&&t.resolve(a),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(5),t&&t.reject(c.t0);case 15:case"end":return c.stop()}}),is,null,[[5,12]])}function _s(e){var t;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=e.payload.fetchType,n.t0=t,n.next=n.t0===Ze.hh.FetchNormal?4:n.t0===Ze.hh.FetchReset?7:10;break;case 4:return n.next=6,us(e);case 6:case 9:return n.abrupt("break",11);case 7:return n.next=9,ss(e);case 10:return n.abrupt("return");case 11:case"end":return n.stop()}}),as)}var Es=n(740777),ls=n(18465),fs=v().mark(Ts),ds=v().mark(ps);function Ts(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeLatest)(ls.H.FETCH_ALL_TEAM_SPACE_WITHIN_PARAMS,ps);case 2:case"end":return e.stop()}}),fs)}function ps(e){var t,n,r;return v().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e[Ne.DEFERRED],o.next=3,(0,L.select)(zc.Hh);case 3:return n=o.sent,o.prev=4,o.next=7,L.put.resolve((0,Es.C)({params:n}));case 7:r=o.sent,t&&t.resolve(r),o.next=14;break;case 11:o.prev=11,o.t0=o.catch(4),t&&t.reject(o.t0);case 14:case"end":return o.stop()}}),ds,null,[[4,11]])}var Ss=n(67982),Is=n(205695),Os=v().mark(ms),Rs=v().mark(As);function ms(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeLatest)(Is.H.FETCH_V2_ROOT_SHARE_FOLDER_WITHIN_PARAMS,As);case 2:case"end":return e.stop()}}),Os)}function As(e){var t,n,r;return v().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e[Ne.DEFERRED],o.next=3,(0,L.select)(zc.UQ);case 3:return n=o.sent,o.prev=4,o.next=7,L.put.resolve((0,Ss.j6)({params:n}));case 7:r=o.sent,t&&t.resolve(r),o.next=14;break;case 11:o.prev=11,o.t0=o.catch(4),t&&t.reject(o.t0);case 14:case"end":return o.stop()}}),Rs,null,[[4,11]])}var Cs=v().mark(hs);function hs(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,D.A)([$u,cs,ms,Hu,Vu,Pu,Eu,Au,Ts,ru],N.Tb);case 2:case"end":return e.stop()}}),Cs)}var vs=n(859878),Ds=n(126368),Ns=n(346530),Ls=n(258116),ys=n(885463);var Ps=(0,A.f)(Ls.Ep,(function(e,t){if((0,fe.isUnderSuiteView)()&&!(0,fe.isUnderWiki)())if(t.type===q.H.FETCH_CURRENT_SUITE_SUCCESS){var n=t.payload,r=n.owner_id,o=n.create_time,i=n.tenant_id,a=n.token;Ds.Z.batchMark(["owner_id","create_time","create_date","file_tenant_id"],(function(){if((0,fe.isUnderSuiteView)()&&a===(0,Ns.z)(Gt.Z.pathname))return{owner_id:(0,R.p)(r),create_time:String(o),create_date:(0,vs.mu)(o),file_tenant_id:(0,R.p)(i)}}))}else Ds.Z.batchMark(["owner_id","file_tenant_id"],(function(){var e=function(e){var t,n="",r="",o=(0,Ns.z)(Gt.Z.pathname),i=o&&(0,jt.tU)(o),a=(0,ys.M)(e);return i&&(n=i.get("owner_id"),t=i.get("create_time"),r=a.getIn([n,"tenant_id"],"")),{createTime:t,fileTenantId:r,ownerId:n}}(Ct.ZP.getState()),t=e.ownerId,n=e.fileTenantId;if(t&&n)return{owner_id:(0,R.p)(t),file_tenant_id:n?(0,R.p)(n):""}}))})),gs=n(900967),Ms=(0,n(204328).U3)({APP_INITIALIZE:"APP_INITIALIZE",APP_INITIALIZED:"APP_INITIALIZED"},gs.L.INITIALIZATION),bs=function(){return{type:Ms.APP_INITIALIZED}},ks=n(922081),ws=n(341889),Hs=n(902774),Us=n(77255),Fs=n(76028),Zs=v().mark(Ws),xs=v().mark(Gs),Bs=v().mark(Ks);function Ws(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)(Ms.APP_INITIALIZE,Gs);case 2:case"end":return e.stop()}}),Zs)}function Gs(e){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,L.put)((0,Us.B)());case 2:return t.next=4,(0,L.race)({initSaga:(0,L.call)(Ks,e),timeout:(0,L.call)(be._v,5e3)});case 4:return t.next=6,(0,L.put)(bs());case 6:case"end":return t.stop()}}),xs)}function Ks(e){var t,n,r,o,i,a,c,u;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,L.all)([(0,L.call)(Hs.rV,f.tO.STORAGE_KEY.explorer.EXPLORER_ROOT_TOKEN_MAP),(0,L.call)(Hs.rV,f.tO.STORAGE_KEY.explorer.LIST_VIEW_VERSION_CODE),(0,L.call)(Hs.rV,f.tO.STORAGE_KEY.explorer.LIST_VIEW_SETTING)].concat(window.__RECENT_REQUEST_PARAMS_INITIAL_CACHE_INVALID?[]:(0,L.call)(Hs.rV,f.tO.STORAGE_KEY.explorer.RECENT_LIST_VIEW)));case 3:if(t=e.sent,n=(0,ks.Z)(t,4),r=n[0],o=n[1],i=n[2],a=n[3],r){e.next=14;break}return e.next=12,(0,L.put)((0,Fs.t)());case 12:e.next=23;break;case 14:if("string"!=typeof r){e.next=21;break}return e.next=17,(0,L.call)(Hs.cl,f.tO.STORAGE_KEY.explorer.EXPLORER_ROOT_TOKEN_MAP);case 17:return e.next=19,(0,L.put)((0,Fs.D)(JSON.parse(r)));case 19:e.next=23;break;case 21:return e.next=23,(0,L.put)((0,Fs.D)(r));case 23:if(o===E.sA){e.next=34;break}return e.next=27,(0,L.call)(Hs.cl,f.tO.STORAGE_KEY.explorer.LIST_VIEW_SETTING);case 27:return e.next=29,(0,L.call)(Hs.cl,f.tO.STORAGE_KEY.explorer.RECENT_LIST_VIEW);case 29:return e.next=31,(0,L.call)(Hs.LS,f.tO.STORAGE_KEY.explorer.LIST_VIEW_VERSION_CODE,E.sA);case 31:(0,Vt.default)("localListViewSettingCleared"),e.next=41;break;case 34:if(!i){e.next=38;break}return c=(0,l.H5)(i),e.next=38,(0,L.put)((0,ws.cC)(c));case 38:if(!a){e.next=41;break}return e.next=41,(0,L.put)((0,ws.YO)(a));case 41:if(!window.__RECENT_REQUEST_PARAMS_INITIAL_CACHE_INVALID){e.next=45;break}return e.next=44,(0,L.fork)(Hs.cl,f.tO.STORAGE_KEY.explorer.RECENT_LIST_VIEW);case 44:window.__RECENT_REQUEST_PARAMS_INITIAL_CACHE_INVALID=void 0;case 45:return u=f.tO.STORAGE_KEY.explorer.ORDERING_MAP,e.next=48,(0,L.fork)(Hs.cl,u);case 48:e.next=53;break;case 50:e.prev=50,e.t0=e.catch(0),console.error(e.t0);case 53:case"end":return e.stop()}}),Bs,null,[[0,50]])}var Vs,js=n(719226),Ys=(0,_.handleActions)((0,c.Z)({},js.H.SET_DRIVE_FILE_INFO,(function(e,t){return t.payload})),null),Js=(0,_.handleActions)((0,c.Z)({},js.H.SET_IS_FILE_DRAGGING,(function(e,t){return t.payload})),!1),Xs=(0,_.handleActions)((Vs={},(0,c.Z)(Vs,js.H.SET_CURRENT_FOLDER_IMAGE_LIST_INFO,(function(e,t){return t.payload})),(0,c.Z)(Vs,js.H.RESET_CURRENT_FOLDER_IMAGE_LIST_INFO,(function(e,t){return(0,u.aV)()})),(0,c.Z)(Vs,f.Hp.route.LOCATION_CHANGE,(function(e,t){var n=t.payload.pathname;return(0,fe.locateRoute)(n).isFile?e:(0,u.aV)()})),Vs),(0,u.aV)()),qs=(0,_.handleActions)((0,c.Z)({},f.Hp.box.SET_IS_PREVIEW_HISTORY,(function(e,t){return t.payload})),!1),Qs=(0,_.handleActions)((0,c.Z)({},f.Hp.box.SET_IS_BOX_RENDERED,(function(e,t){return t.payload})),!1),zs=(0,_.handleActions)((0,c.Z)({},js.H.SET_BOX_SUITE_IS_IN_EDIT_MODE,(function(e,t){return t.payload})),!1),$s=(0,_.handleActions)((0,c.Z)({},js.H.SET_IS_PDF_PREVIEW_ON,(function(e,t){return t.payload})),!1),e_=(0,_.handleActions)((0,c.Z)({},js.H.SET_FIND_FUNCTION_IS_AVAILABLE,(function(e,t){return t.payload})),!1),t_=(0,s.combineReducers)({currentDriveFileInfo:Ys,isFileDragging:Js,currentFolderImageListInfo:Xs,isPreviewHistory:qs,isBoxRendered:Qs,isInEditMode:zs,isPDFPreviewOn:$s,findFunctionIsAvailable:e_}),n_=n(510286),r_=n(670025),o_=n(519643),i_=n(41240),a_=n(682460),c_=n(791670),u_=n(169573),s_=n(60618),__=v().mark(T_),E_=v().mark(p_),l_=v().mark(S_),f_=v().mark(I_),d_=v().mark(O_);function T_(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)(m.H.FETCH_CURRENT_USER_SUCCESS,I_);case 2:case"end":return e.stop()}}),__)}function p_(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)("*",S_);case 2:case"end":return e.stop()}}),E_)}function S_(e){var t,n,r;return v().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(e[u_.jN]){o.next=2;break}return o.abrupt("return");case 2:if(t=e[u_.jN](e)){o.next=5;break}return o.abrupt("return");case 5:return o.next=7,(0,L.select)(vt.HF);case 7:if(n=o.sent){o.next=10;break}return o.abrupt("return");case 10:if(r=t[n.toJS().id]){o.next=13;break}return o.abrupt("return");case 13:return o.next=15,(0,L.put)((0,n_.ps)(n.merge({avatar_url:r.avatar_url,is_anonymous:r.is_anonymous,name:r.name,en_name:r.en_name,cn_name:r.cn_name,tenant_id:r.tenant_id,uid:r.uid}).toJS()));case 15:case"end":return o.stop()}}),l_)}function I_(e){var t,n,r,o,i,a,c;return v().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return(0,wi.isSingleProduct)()&&(0,a_.G)(),t=e.payload,n=t.cn_name,r=t.en_name,o=t.tenant_name,u.next=4,(0,L.select)(mt.xM);case 4:if((i=u.sent)&&(0,o_.NZ)(i)){u.next=7;break}return u.abrupt("return");case 7:""!==(a=(0,vr.tn)()?n:r)&&(i_.Z.success({content:s_("explorer.v3.permissiom_switch_success",a,o)}),c=r_.exclude(Gt.Z.search,[o_.ZK]),c_.ZP.replace({search:c}));case 9:case"end":return u.stop()}}),f_)}function O_(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.all)([(0,L.fork)(T_),(0,L.fork)(p_)]);case 2:case"end":return e.stop()}}),d_)}var R_,m_,A_=n(193654),C_=n(464133);function h_(e){return[null,void 0,NaN].includes(e)}function v_(e){return Object.prototype.toString.call(e).slice(8,-1)}function D_(e){return"String"===v_(e)}var N_=Object.keys(Fr.STEP_TYPES).reduce((function(e,t){return e[Fr.STEP_TYPES[t]]=!0,e}),{}),L_=(0,u.D5)((R_={},(0,c.Z)(R_,Fr.DATA_FIELD.PROFILE,(0,u.D5)(Fr.PROFILE).map((function(e){return(0,u.D5)(e).map((function(){return-1}))}))),(0,c.Z)(R_,Fr.DATA_FIELD.GUIDES,(0,u.D5)(N_).map((function(){var e;return(0,u.D5)((e={},(0,c.Z)(e,Fr.STEP_STATE.DONE,!0),(0,c.Z)(e,Fr.STEP_STATE.CONTEXT,""),e))}))),(0,c.Z)(R_,Fr.DATA_FIELD.FIRSTLOGIN,(0,u.D5)(Fr.FIRSTLOGIN_TYPE).map((function(){return 0}))),(0,c.Z)(R_,Fr.DATA_FIELD.FIRST_TIME_FETCHED,!1),R_)),y_=(0,_.handleActions)((m_={},(0,c.Z)(m_,f.Hp.guide.FETCH_USER_GUIDE_SUCCESS,(function(e,t){return e.mergeIn([Fr.DATA_FIELD.GUIDES],(0,u.d0)(t.payload.guides).mapEntries((function(e){var t,n=(0,ks.Z)(e,2),r=n[0],o=n[1];return[(0,A_.U)(r),(0,u.D5)((t={},(0,c.Z)(t,Fr.STEP_STATE.DONE,o.get("is_done")),(0,c.Z)(t,Fr.STEP_STATE.CONTEXT,o.get("context")),(0,c.Z)(t,Fr.STEP_STATE.MAX_COUNT,o.get("max_count")),(0,c.Z)(t,Fr.STEP_STATE.COUNT,o.get(Fr.STEP_STATE.COUNT)),t))]}))).mergeIn([Fr.DATA_FIELD.PROFILE],t.payload.profile).mergeIn([Fr.DATA_FIELD.PROPERTIES],t.payload.properties).mergeIn([Fr.DATA_FIELD.FIRSTLOGIN],t.payload.firstlogin).mergeIn([Fr.DATA_FIELD.ACTIVITY_BANNER],t.payload.activity_banner).setIn([Fr.DATA_FIELD.FIRST_TIME_FETCHED],!0)})),(0,c.Z)(m_,f.Hp.guide.UPDATE_USER_GUIDE_SUCCESS,(function(e,t){var n,r,o,i,s={},_=t.payload,E=_.guideType,l=_.context,f=_.keys,d=(n=void 0===f?[]:f,r=E,o=Array.isArray(n)?n:[n],i=Array.isArray(r)?r:[r],[].concat((0,a.Z)(o),(0,a.Z)(i)).filter((function(e,t,n){return!!h_(e)||n.indexOf(e,0)===t}))),T=D_(l)&&D_(E)?(0,c.Z)({},E,l):"Object"===v_(l)?l:{};return d.forEach((function(t){var n;if(t){var r=e.getIn([Fr.DATA_FIELD.GUIDES,t]),o=r.get(Fr.STEP_STATE.MAX_COUNT),i=r.get(Fr.STEP_STATE.DONE)||!1,a=T[t]||r.get(Fr.STEP_STATE.CONTEXT),u=(r.get(Fr.STEP_STATE.COUNT)||C_.y)+1,_=i||h_(u)||h_(o)||u>=o;s[t]=(n={},(0,c.Z)(n,Fr.STEP_STATE.CONTEXT,a),(0,c.Z)(n,Fr.STEP_STATE.DONE,_),(0,c.Z)(n,Fr.STEP_STATE.COUNT,u),(0,c.Z)(n,Fr.STEP_STATE.MAX_COUNT,o),n)}})),e.mergeIn([Fr.DATA_FIELD.GUIDES],(0,u.d0)(s))})),(0,c.Z)(m_,f.Hp.guide.CLOSE_USER_GUIDE_SUCCESS,(function(e,t){var n=t.payload.guideType;return e.mergeIn([Fr.DATA_FIELD.GUIDES,n],(0,u.d0)((0,c.Z)({},Fr.STEP_STATE.DONE,!0)))})),(0,c.Z)(m_,f.Hp.guide.SET_USER_GUIDE_DONE,(function(e,t){var n=t.payload;return e.mergeIn([Fr.DATA_FIELD.GUIDES,n],(0,u.d0)((0,c.Z)({},Fr.STEP_STATE.DONE,!0)))})),m_),L_),P_=n(464691),g_=n(278272),M_=v().mark(w_),b_=v().mark(H_),k_=f.tO.STORAGE_KEY.explorer.EXPLORER_ROOT_TOKEN_MAP;function w_(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.takeEvery)(g_.H.FETCH_EXPLORER_ROOT_TOKEN_MAP_SUCCESS,H_);case 2:case"end":return e.stop()}}),M_)}function H_(e){var t;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,window.User.id){n.next=4;break}return n.abrupt("return");case 4:return t=e.payload,n.next=7,(0,L.call)(Hs.LS,k_,t);case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.error(n.t0);case 12:case"end":return n.stop()}}),b_,null,[[0,9]])}var U_,F_,Z_,x_,B_,W_,G_,K_,V_,j_,Y_,J_,X_,q_,Q_,z_,$_,eE,tE,nE,rE,oE,iE,aE,cE,uE,sE,_E,EE,lE,fE,dE,TE,pE=n(155284),SE=n(281180),IE=n(228243),OE=(0,_.handleActions)((U_={},(0,c.Z)(U_,m.H.FETCH_CURRENT_USER_SUCCESS,(function(e,t){if(!t.payload)return e;var n=new IE.n(t.payload);return e.merge(n)})),(0,c.Z)(U_,m.H.DELETE_CURRENT_USER,(function(){return u.ZP.fromJS({})})),(0,c.Z)(U_,m.H.SET_USER_INFO,(function(e,t){var n=new IE.n(t.user);return e.merge(n)})),U_),u.ZP.fromJS({})),RE=n(987141),mE=n(835010),AE=(0,_.handleActions)((F_={},(0,c.Z)(F_,(0,_.combineActions)(g_.H.FETCH_EXPLORER_ROOT_TOKEN_MAP_SUCCESS,g_.H.LOAD_PERSISTED_ROOT_TOKEN_MAP),(function(e,t){return t.payload?e.merge(t.payload):e})),(0,c.Z)(F_,(0,_.combineActions)(RE.H.FETCH_FOLDER_FILE_META_SUCCESS,mE.H.FETCH_PATH_TREE_SUCCESS),(function(e,t){var n=t.payload,r=n.entities.nodes,o=n.path,i=o&&o[0];if(i&&(r[i]&&r[i].type)===Ne.NUM_ROOT_META.EXPLORER)return e.set("".concat(Ne.NUM_ROOT_META.EXPLORER),i);return e})),F_),(0,u.D5)()),CE=(0,_.handleActions)((0,c.Z)({},Ms.APP_INITIALIZED,(function(){return!0})),!1),hE=n(483362),vE=n(109373),DE=n(699325),NE=(0,_.handleActions)((Z_={},(0,c.Z)(Z_,f.Hp.search.RESET_ADVANCED_SEARCH,(function(e,t){return vE.OBJ_TYPE.ALL})),(0,c.Z)(Z_,f.Hp.search.SWITCH_TAB,(function(e,t){return t.payload})),Z_),vE.OBJ_TYPE.ALL),LE=(0,_.handleActions)((x_={},(0,c.Z)(x_,f.Hp.search.RESET_ADVANCED_SEARCH,(function(e,t){return vE.RECENT_TYPE.OPENED})),(0,c.Z)(x_,f.Hp.search.SWITCH_RECENT_TAB,(function(e,t){return t.payload})),x_),vE.RECENT_TYPE.OPENED),yE=(0,_.handleActions)((B_={},(0,c.Z)(B_,f.Hp.search.RESET_ADVANCED_SEARCH,(function(e,t){var n=t.payload,r=(0,hE.pe)(vE.FILTER.CURRENT_SEARCH_USERS);if(n){var o=new DE.Ge(n.toJS()).set("isChosen",!1);return r.unshift(new DE.Ge(o))}return r})),(0,c.Z)(B_,m.H.FETCH_CURRENT_USER_SUCCESS,(function(e,t){if(!t.payload)return e;var n=new DE.Ge(t.payload);if(-1===e.findIndex((function(e){return e.getId()===n.getId()}))){var r=n.set("isChosen",!1);return e.unshift(r)}return e})),(0,c.Z)(B_,f.Hp.search.TOGGLE_USER_CHOSEN,(function(e,t){var n=t.payload;if(!n)return e;var r=e.findIndex((function(e){return e.getId()===n}));return-1===r?e:e.updateIn([r,"isChosen"],(function(e){return!e}))})),(0,c.Z)(B_,f.Hp.search.SELECT_USER,(function(e,t){var n=new DE.Ge(t.payload);if(-1===e.findIndex((function(e){return e.getId()===n.getId()}))){var r=n.set("isChosen",!0);return e.push(r)}return e})),(0,c.Z)(B_,f.Hp.search.DELETE_USER,(function(e,t){var n=t.payload,r=e.findIndex((function(e){return e.getId()===n}));return-1!==r?e.splice(r,1):e})),B_),(0,hE.pe)(vE.FILTER.CURRENT_SEARCH_USERS)),PE=(0,_.handleActions)((W_={},(0,c.Z)(W_,f.Hp.search.RESET_ADVANCED_SEARCH,(function(e,t){return(0,hE.pe)(vE.FILTER.CURRENT_SEARCH_CHATS)})),(0,c.Z)(W_,f.Hp.search.TOGGLE_CHAT_CHOSEN,(function(e,t){var n=t.payload;if(!n)return e;var r=e.findIndex((function(e){return e.getId()===n}));return-1===r?e:e.updateIn([r,"isChosen"],(function(e){return!e}))})),(0,c.Z)(W_,f.Hp.search.SELECT_CHAT,(function(e,t){var n=new DE.dE(t.payload);if(-1===e.findIndex((function(e){return e.getId()===n.getId()}))){var r=n.set("isChosen",!0);return e.push(r)}return e})),(0,c.Z)(W_,f.Hp.search.DELETE_CHAT,(function(e,t){var n=t.payload,r=e.findIndex((function(e){return e.getId()===n}));return-1!==r?e.splice(r,1):e})),W_),(0,hE.pe)(vE.FILTER.CURRENT_SEARCH_CHATS)),gE=(0,_.handleActions)((G_={},(0,c.Z)(G_,f.Hp.search.RESET_ADVANCED_SEARCH,(function(e,t){return(0,u.aV)([DE.B9]).concat((0,hE.pe)(vE.FILTER.CURRENT_SEARCH_WIKI_SPACE))})),(0,c.Z)(G_,f.Hp.search.TOGGLE_WIKI_SPACE_CHOSEN,(function(e,t){var n=t.payload;return n?e.map((function(e){return e.id===n?e.set("isChosen",!e.isChosen):e})):e})),(0,c.Z)(G_,f.Hp.search.SELECT_WIKI_SPACE,(function(e,t){var n=new DE.FI(t.payload),r=e.findIndex((function(e){return e.id===n.id}));if(-1===r){var o=n.set("isChosen",!0);return e.push(o)}return e.updateIn([r,"isChosen"],(function(e){return!0}))})),(0,c.Z)(G_,f.Hp.search.DELETE_WIKI_SPACE,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),G_),(0,u.aV)([DE.B9]).concat((0,hE.pe)(vE.FILTER.CURRENT_SEARCH_WIKI_SPACE))),ME=(0,_.handleActions)((K_={},(0,c.Z)(K_,f.Hp.search.RESET_ADVANCED_SEARCH,(function(e,t){return(0,u.aV)([])})),(0,c.Z)(K_,f.Hp.search.SELECT_FOLDER,(function(e,t){var n=t.payload,r=t.isAppend;if(u.aV.isList(n)){var o=n;return r?e.concat(o):n}var i=new DE.Iq(n);i.id||(i=i.set("id",i.token));var a=i.get("token"),c=e.findIndex((function(e,t){return e.get("token")===a}));if(r||(e=e.map((function(e,t){var n=t===c;return e.set("isChosen",n)}))),c<0){var s=i.set("isChosen",!0);return e.push(s)}return e})),(0,c.Z)(K_,f.Hp.search.TOGGLE_FOLDER_CHOSEN,(function(e,t){var n=t.payload;return n?e.map((function(e){return e.get("token")===n?e.set("isChosen",!e.get("isChosen")):e})):e})),(0,c.Z)(K_,f.Hp.search.RESET_FOLDER,(function(e,t){return e.withMutations((function(e){e.map((function(t,n){e=e.updateIn([n,"isChosen"],(function(e){return!1}))}))}))})),(0,c.Z)(K_,f.Hp.search.DELETE_FOLDER,(function(e,t){var n=t.payload;return e.filter((function(e){return e.get("token")!==n}))})),K_),(0,u.aV)([])),bE=(0,_.handleActions)((V_={},(0,c.Z)(V_,f.Hp.search.RESET_ADVANCED_SEARCH,(function(e,t){return[]})),(0,c.Z)(V_,f.Hp.search.CHANGE_OPEN_TIME,(function(e,t){return t.payload})),V_),[]),kE=(0,_.handleActions)((j_={},(0,c.Z)(j_,f.Hp.search.RESET_ADVANCED_SEARCH,(function(e,t){return""})),(0,c.Z)(j_,f.Hp.search.CHOOSE_FILE_TYPE,(function(e,t){return t.payload})),j_),""),wE={keyword:"",source:vE.SEARCH_SOURCE.INPUT,searchSessionId:""},HE=(0,_.handleActions)((Y_={},(0,c.Z)(Y_,f.Hp.search.RESET_ADVANCED_SEARCH,(function(e,t){return wE})),(0,c.Z)(Y_,f.Hp.search.SHOW_ADVANCED_SEARCH,(function(e,t){var n=t.payload.searchWord;return n?{keyword:n,source:vE.SEARCH_SOURCE.INPUT}:e})),(0,c.Z)(Y_,f.Hp.search.CHANGE_SEARCH_KEYWORD,(function(e,t){return t.payload})),Y_),wE),UE=(0,_.handleActions)((J_={},(0,c.Z)(J_,f.Hp.search.RESET_ADVANCED_SEARCH,(function(e,t){return 0})),(0,c.Z)(J_,f.Hp.search.LOAD_MORE_REFINE_SEARCH,(function(e,t){return t.payload})),(0,c.Z)(J_,f.Hp.search.LOAD_RELEVANT_MORE_REFINE_SEARCH,(function(e,t){return t.payload})),J_),0),FE=(0,_.handleActions)((X_={},(0,c.Z)(X_,f.Hp.search.RESET_ADVANCED_SEARCH,(function(e,t){return{}})),(0,c.Z)(X_,f.Hp.search.FILL_ADVANCED_SEARCH_LIST,(function(e,t){return t.payload})),X_),{}),ZE=(0,_.handleActions)((q_={},(0,c.Z)(q_,f.Hp.search.RESET_ADVANCED_SEARCH,(function(e,t){return vE.ADVANCED_SEARCH_LOAD_TYPE.NORMAL})),(0,c.Z)(q_,f.Hp.search.SET_ADVANCED_SEARCH_LOAD_TYPE,(function(e,t){return t.payload})),q_),vE.ADVANCED_SEARCH_LOAD_TYPE.NORMAL),xE=(0,_.handleActions)((0,c.Z)({},f.Hp.search.SET_IS_SEARCH_HISTORY_SHOWN,(function(e,t){return t.payload})),!0),BE=(0,_.handleActions)((Q_={},(0,c.Z)(Q_,f.Hp.search.SET_IS_ADVANCE_SEARCH_ICON_SHOWN,(function(e,t){return t.payload})),(0,c.Z)(Q_,f.Hp.search.LEAVE_WIKI,(function(e,t){return!0})),(0,c.Z)(Q_,f.Hp.search.ENTER_WIKI,(function(e,t){return!1})),Q_),!0),WE=(0,_.handleActions)((0,c.Z)({},f.Hp.search.SET_IS_BROWSE_HISTORY_SHOWN,(function(e,t){return t.payload})),!0),GE=(0,_.handleActions)((z_={},(0,c.Z)(z_,f.Hp.search.SET_IS_MORE_RECENT_BTN_SHOWN,(function(e,t){return t.payload})),(0,c.Z)(z_,f.Hp.search.LEAVE_WIKI,(function(e,t){return!0})),(0,c.Z)(z_,f.Hp.search.ENTER_WIKI,(function(e,t){return!1})),z_),!0),KE=(0,_.handleActions)(($_={},(0,c.Z)($_,f.Hp.search.SET_IS_USER_CANDIDATE_ITEMS_SHOWN,(function(e,t){return t.payload})),(0,c.Z)($_,f.Hp.search.LEAVE_WIKI,(function(e,t){return!0})),(0,c.Z)($_,f.Hp.search.ENTER_WIKI,(function(e,t){return!1})),$_),!0),VE=(0,_.handleActions)((eE={},(0,c.Z)(eE,f.Hp.search.SET_IS_USER_CANDIDATE_ITEMS_SHOWN,(function(e,t){return t.payload})),(0,c.Z)(eE,f.Hp.search.LEAVE_WIKI,(function(e,t){return!0})),(0,c.Z)(eE,f.Hp.search.ENTER_WIKI,(function(e,t){return!1})),eE),!0),jE=(0,_.handleActions)((tE={},(0,c.Z)(tE,f.Hp.search.LEAVE_WIKI,(function(e,t){return!0})),(0,c.Z)(tE,f.Hp.search.ENTER_WIKI,(function(e,t){return!1})),tE),!0),YE=(0,_.handleActions)((nE={},(0,c.Z)(nE,f.Hp.search.LEAVE_WIKI,(function(e,t){return!1})),(0,c.Z)(nE,f.Hp.search.ENTER_WIKI,(function(e,t){return!0})),nE),!1),JE=(0,_.handleActions)((rE={},(0,c.Z)(rE,f.Hp.search.LEAVE_WIKI,(function(e,t){return!0})),(0,c.Z)(rE,f.Hp.search.ENTER_WIKI,(function(e,t){return!1})),rE),!0),XE=(0,_.handleActions)((oE={},(0,c.Z)(oE,f.Hp.search.LEAVE_WIKI,(function(e,t){return!0})),(0,c.Z)(oE,f.Hp.search.ENTER_WIKI,(function(e,t){return!1})),oE),!0),qE=(0,s.combineReducers)({currentSearchTab:NE,currentRecentTab:LE,currentSearchedUsers:yE,currentSearchedChats:PE,currentSearchedFolders:ME,currentOpenTime:bE,currentSearchedWikiSpaces:gE,currentSearchFileType:kE,currentSearchResult:FE,currentSearchLoadType:ZE,currentSearchOffset:UE,currentSearchDemand:HE,isChatCandidateItemsShown:VE,isUserCandidateItemsShown:KE,isRelatedResultBtnShown:JE,isAdvanceSearchByGlobalSearchEnable:XE,isMoreRecentBtnShown:GE,isAdvanceSearchIconShown:BE,isSearchHistoryShown:xE,isSearchIconTooltipShown:jE,isSearchWikiOnly:YE,isBrowseHistoryShown:WE}),QE=(0,_.handleActions)((0,c.Z)({},f.Hp.explorer.FETCH_TEAM_SPACE_COVERS_SUCCESS,(function(e,t){var n=t.payload.cover_list;return(0,u.aV)(n)})),(0,u.aV)()),zE=n(196282),$E=n(268374),el=(0,_.handleActions)((0,c.Z)({},P.H.SET_CURRENT_WIKI_VERSION,(function(e,t){return t.payload.wikiVersion})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,fe.locateRoute)(),t=e.isWikiHomeV2,n=e.isWikiSpaces,r=e.isSpaceOverView;return t||r?"2":n?"1":void 0}()||function(){var e=(0,g.getSpaceIdFromUrl)();if(e)return(0,$E.getValidWikiVersionFromTemplateBySpaceId)(e)}()||(iE=(0,g.getWikiTokenFromUrl)(),(0,$E.getValidWikiVersionFromTemplate)(iE))||""),tl=(0,_.handleActions)((0,c.Z)({},P.H.SET_CURRENT_WIKI_HOME_VERSION,(function(e,t){return t.payload.wikiHomeVersion})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,fe.locateRoute)(),t=e.isWikiSpaces;return t&&!ht.hM?"v1":"v2"}()),nl=n(349944),rl=(0,_.handleActions)((0,c.Z)({},"".concat(nl.H.WIKI_GET_ALL_SPACE_V1,"_SUCCESS"),(function(e,t){return t.payload.map((function(e){return e.space_id}))})),[]),ol=(0,_.handleActions)((aE={},(0,c.Z)(aE,(0,_.combineActions)("".concat(nl.H.WIKI_GET_ALL_SPACE_V1,"_SUCCESS")),(function(e,t){return t.payload.reduce((function(e,t){var n=t.space_id;return e[n]={spaceId:n,spaceName:t.space_name,spaceIcon:t.space_icon,isStar:t.is_star,homePage:{objToken:(0,pt.default)(t,"home_page.obj_token"),objType:(0,pt.default)(t,"home_page.obj_type"),wikiToken:(0,pt.default)(t,"home_page.wiki_token")},description:t.description,attr:t.attr,migrateStatus:t.migrateStatus,spaceCover:{key:(0,pt.default)(t,"space_cover.key"),origin:(0,pt.default)(t,"space_cover.origin"),thumbnail:(0,pt.default)(t,"space_cover.thumbnail"),isGraphDark:(0,pt.default)(t,"space_cover.is_graph_dark")}},e}),{})})),(0,c.Z)(aE,"".concat(nl.H.WIKI_ADD_STAR_SPACE,"_SUCCESS"),(function(e,t){var n=t.payload.space_id,r=Object.assign({},e[n],{isStar:!0});return Object.assign({},e,(0,c.Z)({},n,r))})),(0,c.Z)(aE,"".concat(nl.H.WIKI_DEL_STAR_SPACE,"_SUCCESS"),(function(e,t){var n=t.payload.space_id,r=Object.assign({},e[n],{isStar:!1});return Object.assign({},e,(0,c.Z)({},n,r))})),(0,c.Z)(aE,nl.H.WIKI_UPDATE_DATA_WHEN_LEAVE,(function(e,t){var n=t.payload;return n.spaces?n.spaces:e})),aE),{}),il=(0,_.handleActions)((0,c.Z)({},(0,_.combineActions)("".concat(nl.H.WIKI_FETCH_RECENT_VISIT_PAGE_IN_SUITE_BACK_NAV,"_SUCCESS")),(function(e,t){var n=t.payload,r=n.wiki_browses,o=n.options,i=r.map((function(e){return{wikiId:e.wiki_id,wikiToken:e.wiki_token,wikiTitle:e.title,objToken:e.obj_token,objType:e.obj_type}}));return o.isContinuous?e.concat(i):i})),[]),al=(0,_.handleActions)((cE={},(0,c.Z)(cE,"".concat(nl.H.WIKI_FETCH_EDITABLE_SPACES,"_SUCCESS"),(function(e,t){return t.payload.reduce((function(e,t){var n=t.space_id,r=t.space_name,o=t.space_icon,i=t.home_page;return e[n]={spaceId:n,spaceName:r,spaceIcon:o,homePage:{objToken:(0,pt.default)(i,"obj_token"),objType:(0,pt.default)(i,"obj_type"),wikiToken:(0,pt.default)(i,"wiki_token")}},e}),{})})),(0,c.Z)(cE,nl.H.WIKI_UPDATE_EDITABLE_SPACE,(function(e,t){var n=t.payload,r=n.spaceId;return Object.assign({},e,(0,c.Z)({},r,Object.assign({},e[r],{},n)))})),cE),{}),cl=n(142732),ul=(0,_.handleActions)((0,c.Z)({},"".concat(nl.H.WIKI_FETCH_SPACE_PERMISSION_CONFIG,"_SUCCESS"),(function(e,t){var n=t.payload,r=n.role,o=n.prop,i=n.space_id;return(0,cl.Uy)(e,(function(e){var t={role:r,memberProp:o,timestamp:Date.now()},n=e[i];n?Object.assign(n,t):e[i]=t}))})),{}),sl=n(98390),_l=n(926801),El=(0,_.handleActions)((uE={},(0,c.Z)(uE,"".concat(_l.H.WIKI_FETCH_SPACE_INFO,"_SUCCESS"),(function(e,t){return(0,cl.Uy)(e,(function(e){Object.keys(t.payload).forEach((function(n){var r=t.payload[n].user_space_perm;r&&(e[n]=(0,sl._A)(r))}))}))})),(0,c.Z)(uE,"".concat(_l.H.WIKI_FETCH_SPACE_INFO_BATCH,"_SUCCESS"),(function(e,t){var n=t.payload.space_info_map||{};return(0,cl.Uy)(e,(function(e){Object.keys(n).forEach((function(t){var r=n[t].user_space_perm;r&&(e[t]=(0,sl._A)(r))}))}))})),uE),{}),ll=n(654313),fl=n(282898),dl=n(497111),Tl=n(555535),pl=n(490178),Sl=["is_success","space_id","first_level_perm","can_comment","can_other_perm"],Il=["user_space_perm","space_perm_setting"],Ol=(0,_.handleActions)((sE={},(0,c.Z)(sE,"".concat(_l.H.WIKI_GET_ALL_SPACE,"_SUCCESS"),(function(e,t){return t.payload.map((function(e){return e.space_id}))})),(0,c.Z)(sE,"".concat(_l.H.WIKI_DELETE_SPACE,"_SUCCESS"),(function(e,t){var n=t.payload;return e.filter((function(e){return e!==n.spaceId}))})),sE),[]),Rl=(0,_.handleActions)((_E={},(0,c.Z)(_E,(0,_.combineActions)("".concat(_l.H.WIKI_GET_ALL_SPACE,"_SUCCESS")),(function(e,t){var n=t.payload;return(0,cl.Uy)(e,(function(e){n.forEach((function(t){var n=t.space_id,r=e[n],o=(0,sl._A)(t);r?(0,fl.Z)(r,o):e[n]=o}))}))})),(0,c.Z)(_E,(0,_.combineActions)("".concat(_l.H.WIKI_FETCH_STARRED_SPACES,"_SUCCESS"),"".concat(_l.H.WIKI_FETCH_SPACES_BY_TYPE,"_SUCCESS")),(function(e,t){var n=t.payload;return(0,cl.Uy)(e,(function(e){n.spaces.forEach((function(t){var n=t.space_id,r=e[n],o=(0,sl._A)(t);r?(0,fl.Z)(r,o):e[n]=o}))}))})),(0,c.Z)(_E,"".concat(_l.H.WIKI_ADD_STAR_SPACE,"_SUCCESS"),(function(e,t){var n=t.payload;return(0,cl.Uy)(e,(function(e){var t=e[n.space_id];t&&(t.isStar=!0)}))})),(0,c.Z)(_E,"".concat(_l.H.WIKI_DEL_STAR_SPACE,"_SUCCESS"),(function(e,t){var n=t.payload;return(0,cl.Uy)(e,(function(e){var t=e[n.space_id];t&&(t.isStar=!1)}))})),(0,c.Z)(_E,_l.H.WIKI_UPDATE_DATA_WHEN_LEAVE,(function(e,t){var n=t.payload;return(0,cl.Uy)(e,(function(e){n.spaces&&(0,fl.Z)(e,n.spaces)}))})),(0,c.Z)(_E,"".concat(_l.H.WIKI_UPDATE_SPACE_INFO,"_SUCCESS"),(function(e,t){var n=t.payload,r=(n.is_success,n.space_id),o=(n.first_level_perm,n.can_comment,n.can_other_perm,(0,_n.Z)(n,Sl));return(0,cl.Uy)(e,(function(t){e[r]&&Object.assign(t[r],Object.assign({},(0,sl._A)(o)))}))})),(0,c.Z)(_E,_l.H.WIKI_SET_SPACES,(function(e,t){var n=t.payload;return(0,cl.Uy)(e,(function(e){n.spaces.length&&n.spaces.forEach((function(t){var n=t.spaceId,r=e[n];r?(0,fl.Z)(r,t):e[n]=t}))}))})),(0,c.Z)(_E,"".concat(_l.H.WIKI_FETCH_SPACE_INFO,"_SUCCESS"),(function(e,t){return(0,cl.Uy)(e,(function(e){Object.keys(t.payload).forEach((function(n){var r=e[n],o=t.payload[n],i=(o.user_space_perm,o.space_perm_setting,(0,_n.Z)(o,Il));e[n]=(0,dl.C3)(n,i,r)}))}))})),(0,c.Z)(_E,"".concat(_l.H.WIKI_FETCH_SPACE_INFO_BATCH,"_SUCCESS"),(function(e,t){var n=t.payload.space_info_map||{},r=Object.keys(n);return(0,cl.Uy)(e,(function(e){r.forEach((function(t){var r=(0,sl._A)(n[t]),o=e[t];o?(0,fl.Z)(o,r):e[t]=r}))}))})),(0,c.Z)(_E,"".concat(_l.H.WIKI_FETCH_PAGE_TREE_INIT_DATA_NEW,"_SUCCESS"),(function(e,t){return(0,cl.Uy)(e,(function(n){var r=t.payload.space;if(r){var o=r.space_id,i=(0,sl._A)(r);e[o]?(0,fl.Z)(n[o],i):n[o]=i}}))})),_E),{}),ml=(0,_.handleActions)((0,c.Z)({},(0,_.combineActions)("".concat(_l.H.WIKI_FETCH_RECENT_VISIT_PAGE_IN_SUITE_BACK_NAV,"_SUCCESS")),(function(e,t){var n=t.payload,r=n.wiki_browses,o=n.options,i=r.map((function(e){return{wikiId:e.wiki_id,wikiToken:e.wiki_token,wikiTitle:e.title,objToken:e.obj_token,objType:e.obj_type}}));return o.isContinuous?e.concat(i):i})),[]),Al=(0,_.handleActions)((0,c.Z)({},(0,_.combineActions)("".concat(_l.H.WIKI_FETCH_STARRED_SPACES,"_SUCCESS")),(function(e,t){var n=t.payload,r=n.hasMore,o=n.lastLabel;return(0,cl.Uy)(e,(function(e){Object.assign(e,{hasMore:r,lastLabel:o})}))})),{hasMore:!1,lastLabel:""}),Cl=(0,_.handleActions)((EE={},(0,c.Z)(EE,(0,_.combineActions)("".concat(_l.H.WIKI_FETCH_STARRED_SPACES,"_SUCCESS")),(function(e,t){var n=t.payload,r=n.spaces,o=n.isContinuous,i=r.map((function(e){return e.space_id}));return o?(0,ll.Z)(e.concat(i)):(0,ll.Z)(i)})),(0,c.Z)(EE,"".concat(_l.H.WIKI_ADD_STAR_SPACE,"_SUCCESS"),(function(e,t){var n=t.payload.space_id;return[n].concat((0,a.Z)(e.filter((function(e){return e!==n}))))})),(0,c.Z)(EE,"".concat(_l.H.WIKI_DEL_STAR_SPACE,"_SUCCESS"),(function(e,t){var n=t.payload.space_id;return e.filter((function(e){return e!==n}))})),(0,c.Z)(EE,"".concat(_l.H.WIKI_SPACE_CREATE_BY_TEMPLATE,"_SUCCESS"),(function(e,t){var n=t.payload,r=n.space_id;return n.is_star?[r].concat((0,a.Z)(e.filter((function(e){return e!==r})))):e})),EE),[]),hl=function(e){return void 0===e?pl.dE.ALL:pl.ci[e]},vl=function(e){return function(t,n){var r=n.payload,o=r.spaceType,i=r.isContinuous,a=e===Ne.StatusMap.loading,c=hl(o);return(0,cl.Uy)(t,(function(t){Object.assign(t[c],{fetchStatus:e}),a&&!i&&(t[c].hasMore=!0)}))}},Dl=(0,_.handleActions)((lE={},(0,c.Z)(lE,"".concat(_l.H.WIKI_FETCH_SPACES_BY_TYPE,"_START"),vl(Ne.StatusMap.loading)),(0,c.Z)(lE,(0,_.combineActions)("".concat(_l.H.WIKI_FETCH_SPACES_BY_TYPE,"_FAIL"),"".concat(_l.H.WIKI_FETCH_SPACES_BY_TYPE,"_CANCEL")),vl(Ne.StatusMap.failed)),(0,c.Z)(lE,"".concat(_l.H.WIKI_FETCH_SPACES_BY_TYPE,"_SUCCESS"),(function(e,t){var n=t.payload,r=n.spaces,o=n.spaceType,i=n.isContinuous,a=n.hasMore,c=n.lastLabel,u=r.map((function(e){return e.space_id})),s=hl(o),_=i?Array.from(new Set(e[s].ids.concat(u))):Array.from(new Set(u)),E=i?e[s].pageCount+1:1;return(0,cl.Uy)(e,(function(e){e[s]={pageCount:E,hasMore:a,lastLabel:c,ids:_,fetchStatus:Ne.StatusMap.loaded}}))})),(0,c.Z)(lE,_l.H.WIKI_SET_SPACES,(function(e,t){var n=t.payload.spaces;return(0,cl.Uy)(e,(function(t){var r,o=(r={},(0,c.Z)(r,pl.dE.ALL,[]),(0,c.Z)(r,pl.dE.TEAM,[]),(0,c.Z)(r,pl.dE.PERSONAL,[]),r);n.length&&(n.forEach((function(e){o[hl(e.spaceType)].push(e.spaceId),o[pl.dE.ALL].push(e.spaceId)})),Object.keys(o).forEach((function(n){t[n].ids=Array.from(new Set(e[n].ids.concat(o[n])))})))}))})),(0,c.Z)(lE,"".concat(_l.H.WIKI_FETCH_SPACE_INFO_BATCH,"_SUCCESS"),(function(e,t){var n=t.payload.space_info_map||{},r=Object.keys(n);return(0,cl.Uy)(e,(function(t){var o,i=(o={},(0,c.Z)(o,pl.dE.ALL,[]),(0,c.Z)(o,pl.dE.TEAM,[]),(0,c.Z)(o,pl.dE.PERSONAL,[]),o);r.forEach((function(e){var t=n[e];i[hl(t.space_type)].push(e),i[pl.dE.ALL].push(e)})),Object.keys(i).forEach((function(n){t[n].ids=Array.from(new Set(e[n].ids.concat(i[n])))}))}))})),(0,c.Z)(lE,"".concat(_l.H.WIKI_DELETE_SPACE,"_SUCCESS"),(function(e,t){var n=t.payload;return(0,cl.Uy)(e,(function(t){Object.keys(pl.dE).forEach((function(r){t[r].ids=e[r].ids.filter((function(e){return e!==n.spaceId}))}))}))})),(0,c.Z)(lE,"".concat(_l.H.WIKI_FETCH_PAGE_TREE_INIT_DATA_NEW,"_SUCCESS"),(function(e,t){return(0,cl.Uy)(e,(function(n){var r=t.payload.space;r&&(n[pl.dE.ALL].ids=Array.from(new Set(e[pl.dE.ALL].ids.concat(r.space_id))))}))})),lE),(fE={},(0,c.Z)(fE,pl.dE.ALL,{ids:[],hasMore:!0,lastLabel:"",pageCount:0,fetchStatus:Ne.StatusMap.uninitialized}),(0,c.Z)(fE,pl.dE.TEAM,{ids:[],hasMore:!0,lastLabel:"",pageCount:0,fetchStatus:Ne.StatusMap.uninitialized}),(0,c.Z)(fE,pl.dE.PERSONAL,{ids:[],hasMore:!0,lastLabel:"",pageCount:0,fetchStatus:Ne.StatusMap.uninitialized}),fE)),Nl=function(e,t){return e&&(ht.P3||e!==pl.bb.LIST)?e:t};try{var Ll=ht.P3?pl.bb.LIST:pl.bb.GRID,yl=localStorage.getItem(pl.dT);TE=Nl(yl,Ll)}catch(Rt){(0,Tl.cA)({type:"store",action:"getWikiSpacesCollectionViewMode"},Rt)}var Pl,gl,Ml,bl,kl,wl,Hl,Ul,Fl,Zl,xl,Bl,Wl,Gl,Kl,Vl=(0,_.handleActions)((0,c.Z)({},_l.H.WIKI_SET_COLLECTION_VIEW_MODE,(function(e,t){var n=t.payload;return Nl(n.viewMode,e)})),TE),jl=(0,_.handleActions)((dE={},(0,c.Z)(dE,"".concat(_l.H.WIKI_FETCH_NOTICE_LIST,"_SUCCESS"),(function(e,t){var n=t.payload;if(n&&n.notices&&n.notices.length){var r=n.notices[0];return{id:r.notice_id,content:decodeURIComponent(r.content),hasRead:r.have_read_flag,isManager:n.is_wiki_manager}}return n?{isManager:n.is_wiki_manager}:{}})),(0,c.Z)(dE,"".concat(_l.H.WIKI_FETCH_NOTICE_LIST,"_FAIL"),(function(e,t){t.payload;return{}})),dE),{}),Yl=n(919103),Jl=n(109724),Xl=(0,_.handleActions)((0,c.Z)({},"".concat(nl.H.WIKI_FETCH_SUBSCRIBED_LIST,"_SUCCESS"),(function(e,t){var n=t.payload,r=n.subscribed_list?n.subscribed_list.map((function(e){return{editRecords:e.edit_records?(0,a.Z)(e.edit_records.map((function(e){return{time:e.time,url:e.url,userName:e.user_name,userEnName:e.user_en_name,userId:e.user_id}}))):[],isVisited:e.is_visited,objToken:e.obj_token,objType:e.obj_type,spaceId:e.space_id,title:e.title,wikiToken:e.wiki_token}})):[];return{hasMore:n.has_more,listData:(0,Yl.Z)([].concat((0,a.Z)(e.listData),(0,a.Z)(r)),"wikiToken"),lastLabel:n.last_label}})),{listData:[],hasMore:!1,lastLabel:""}),ql=(0,_.handleActions)((Pl={},(0,c.Z)(Pl,"".concat(nl.H.WIKI_FETCH_RECENT_HOT_LIST,"_SUCCESS"),(function(e,t){var n=t.payload,r=n.recommend||[],o={isCache:!1,recent_popular:e.isCache?r:[].concat((0,a.Z)(e.recent_popular),(0,a.Z)(r)),has_more:n.has_more,last_label:n.last_label};return o.recent_popular.length>=Jl.bA&&(o.recent_popular.splice(Jl.bA,Jl.$p),o.has_more=!1),o})),(0,c.Z)(Pl,nl.H.WIKI_CACHE_RECENT_HOT_LIST,(function(e,t){t.payload;return{isCache:!0,recent_popular:(0,a.Z)(e.recent_popular.slice(0,Jl.$p)),has_more:!0,last_label:""}})),Pl),{isCache:!1,recent_popular:[],has_more:!0,last_label:""}),Ql=(0,_.handleActions)((0,c.Z)({},"".concat(nl.H.WIKI_FETCH_BANNER_LIST,"_SUCCESS"),(function(e,t){return t.payload.data})),[]),zl=(0,_.handleActions)((gl={},(0,c.Z)(gl,f.Hp.onboarding.HOME_GUIDE_PREPARE,(function(e){return Object.assign({},e,{homeGuideOn:!1})})),(0,c.Z)(gl,f.Hp.onboarding.HOME_GUIDE_READY,(function(e,t){var n=t.payload.on;return Object.assign({},e,{homeGuideOn:n})})),(0,c.Z)(gl,f.Hp.onboarding.SHARED_DOC_GUIDE_PREPARE,(function(e){return Object.assign({},e,{sharedDocGuideOn:!1})})),(0,c.Z)(gl,f.Hp.onboarding.SHARED_DOC_GUIDE_READY,(function(e,t){var n=t.payload.on;return Object.assign({},e,{sharedDocGuideOn:n})})),(0,c.Z)(gl,f.Hp.onboarding.UNDO_REDO_GUIDE_CHECK_STATE,(function(e){return Object.assign({},e,{undoRedoGuideRequired:!1})})),(0,c.Z)(gl,f.Hp.onboarding.UNDO_REDO_GUIDE_SET_ON,(function(e){return Object.assign({},e,{undoRedoGuideRequired:!0})})),(0,c.Z)(gl,f.Hp.onboarding.SET_SPACE_TUTORIAL_CREATE_MENU_VISIBLE,(function(e,t){var n=t.payload.visible;return Object.assign({},e,{createMenuVisible:n})})),(0,c.Z)(gl,f.Hp.onboarding.INIT_PREFERENCE_OPTIONS,(function(e,t){return Object.assign({},e,{preferenceOptions:t.payload})})),(0,c.Z)(gl,f.Hp.onboarding.TOGGLE_PREFERENCE_OPTION,(function(e,t){var n=t.payload;if(!n)return e;var r=e.preferenceOptions.map((function(e){return e.type===n&&(e.selected=!e.selected),e}));return Object.assign({},e,{preferenceOptions:r})})),gl),{homeGuideOn:!1,sharedDocGuideOn:!1,undoRedoGuideRequired:!1,createMenuVisible:!1,preferenceOptions:[]}),$l=n(47817),ef=n.n($l),tf=(0,_.handleActions)((Ml={},(0,c.Z)(Ml,f.Hp.route.LOCATION_CHANGE,(function(e,t){var n=t.payload,r=n.pathname,o=n.search,i=r;try{i=encodeURI(i)}catch(e){console.info("pathname encode failed:",e)}var a=(0,fe.getCurrentRouteObj)(i),c=ef().parse(o.replace("?",""));return u.ZP.fromJS(Object.assign({},a,{query:c}))})),(0,c.Z)(Ml,f.Hp.route.SET_ROUTE_OBJ,(function(e,t){if(t.payload)return u.ZP.fromJS(t.payload)})),Ml),u.ZP.Map({})),nf=(0,_.handleActions)((bl={},(0,c.Z)(bl,f.Hp.ui.OPEN_MODAL,(function(e,t){return e})),(0,c.Z)(bl,f.Hp.ui.CLOSE_MODAL,(function(e,t){return e})),(0,c.Z)(bl,f.Hp.ui.CLOSE_ALL_MODAL,(function(e,t){return e})),bl),u.ZP.OrderedSet([])),rf=(0,_.handleActions)((0,c.Z)({},f.Hp.template.SET_TEMPLATE_MODE,(function(e,t){return t.payload})),!1),of=(0,_.handleActions)((0,c.Z)({},f.Hp.template.TOGGLE_TEMPLATE_VISIBLE,(function(e,t){return t.payload})),!0),af=(0,_.handleActions)((0,c.Z)({},f.Hp.template.TOGGLE_ANNOUNCE_TEMPLATE_VISIBLE,(function(e,t){return t.payload})),!0),cf=(0,_.handleActions)((0,c.Z)({},f.Hp.template.FETCH_TEMPLATE_LIST_SUCCESS,(function(e,t){return Object.values((0,pt.default)(t,"payload.entities.nodes")).filter((function(e){return e.type!==Ne.NUM_FILE_TYPE.FOLDER}))})),[]),uf=(0,_.handleActions)((0,c.Z)({},f.Hp.template.FETCH_TEMPLATE_BANNER_RECOMMENDATIONS_SUCCESS,(function(e,t){return t.payload.templates})),[]),sf=(0,_.handleActions)((0,c.Z)({},f.Hp.template.FETCH_TEMPLATE_BANNER_RECOMMENDATIONS_V2_SUCCESS,(function(e,t){return t.payload.template_banners})),[]),_f=(0,_.handleActions)((0,c.Z)({},f.Hp.template.SET_TEMPLATE_CENTER_ENTRY,(function(e,t){return t.payload})),""),Ef=(0,_.handleActions)((0,c.Z)({},f.Hp.template.UPDATE_TEMPLATE_APPEAL_STATUS,(function(e,t){return t.payload})),!1),lf=(0,s.combineReducers)({isTemplateMode:rf,isTemplateVisible:of,templateList:cf,recommendTemplates:uf,recommendTemplatesV2:sf,templateCenterEntry:_f,isAnnounceTemplateVisible:af,templateAlreadyAppeal:Ef}),ff=(0,_.handleActions)((kl={},(0,c.Z)(kl,f.Hp.todo.TOGGLE_TODO_CENTER_PANEL,(function(e){return Object.assign({},e,{isTodoCenterOpen:!e.isTodoCenterOpen})})),(0,c.Z)(kl,f.Hp.todo.SET_TODO_CENTER_PANEL_OPEN_STATUS,(function(e,t){var n=t.payload;return Object.assign({},e,{isTodoCenterOpen:n})})),kl),{isTodoCenterOpen:!1}),df=n(972429),Tf=n(298015),pf=n(429511),Sf=n(318449),If=n(221603),Of=(0,_.handleActions)((0,c.Z)({},q.H.SYNC_NOTE_META,(function(e,t){return t.payload})),{}),Rf=(0,_.handleActions)((0,c.Z)({},q.H.FETCH_CURRENT_SUITE_SUCCESS,(function(e,t){return t.payload.ssid||""})),""),mf=(0,_.handleActions)((wl={},(0,c.Z)(wl,Tf.H.route.LOCATION_CHANGE,(function(e,t){var n,r=(0,re.oR)(),o=t.payload.pathname,i=(0,Ns.z)(o);return i?(n=i,window.noteToken=n,e.clear().merge({type:r,obj_token:n})):e.clear()})),(0,c.Z)(wl,q.H.SET_CURRENT_SUITE_TOKEN,(function(e,t){var n=t.payload,r=n.obj_token,o=n.type;return e.clear().merge({obj_token:r,type:parseInt(o,10)})})),wl),u.ZP.fromJS({})),Af=(0,_.handleActions)((0,c.Z)({},q.H.SET_SHOULD_PRINT,(function(e,t){return t.payload})),!1),Cf=(0,_.handleActions)((0,c.Z)({},q.H.UPDATE_APPEAL_STATUS,(function(e,t){return t.payload})),!1),hf=(0,_.handleActions)((0,c.Z)({},q.H.SET_HELP_BTN_VISIBLE,(function(e,t){return t.payload})),!0),vf=(0,_.handleActions)((0,c.Z)({},q.H.SET_HELP_BTN_ACTIVATED,(function(e,t){return t.payload})),!1),Df=(0,_.handleActions)((0,c.Z)({},q.H.SET_HELP_SIDE_BAR_VISIBLE,(function(e,t){return t.payload})),!0),Nf=(0,_.handleActions)((Hl={},(0,c.Z)(Hl,q.H.FETCH_SUITE_WIKI_INFO_SUCCESS,(function(e,t){var n=t.payload;return Object.assign({},n,{isPublishToWiki:!(0,df.default)(n)})})),(0,c.Z)(Hl,q.H.REMOVE_SUITE_WIKI_INFO,(function(e,t){var n=t.payload;if(!n)return Object.assign({},e,{isPublishToWiki:!1});var r=e.node_path,o=e.space_value;return delete r[n],delete o[n],Object.assign({},e,{isPublishToWiki:!(0,df.default)(r)&&!(0,df.default)(o)})})),(0,c.Z)(Hl,q.H.UPDATE_DOC_TITLE,(function(e,t){if((0,re.pv)()===pf.I.WIKI)return{};var n=t.payload.title,r=e.isPublishToWiki,o=e.node_path,i=void 0===o?{}:o;return r?(Object.keys(i).forEach((function(e){var t=i[e];t[t.length-1].title=n})),Object.assign({},e)):e})),Hl),{isPublishToWiki:!1}),Lf=(0,_.handleActions)((Ul={},(0,c.Z)(Ul,q.H.FETCH_WIKI_ENTITY_START,(function(e,t){var n=t.payload.wiki_token;return e&&e.wiki_token!==n?null:e})),(0,c.Z)(Ul,q.H.FETCH_WIKI_ENTITY_SUCCESS,(function(e,t){return t.payload})),(0,c.Z)(Ul,f.Hp.explorer.UPDATE_SUBSCRIBE_STATUS,(function(e,t){var n=t.payload,r=n.isSubscribed,o=n.wikiToken,i=n.isSubscribedComment,a=n.objToken,c=n.objType;return Object.assign({},e,{wikiToken:o,objToken:a,objType:c,is_subscribed:r,is_subscribed_comment:i})})),(0,c.Z)(Ul,(0,_.combineActions)(f.Hp.explorer.SUBSCRIBE_SUCCESS,f.Hp.explorer.UNSUBSCRIBE_SUCCESS),(function(e,t){var n=t.payload,r=n.field,o=n.value;return Object.assign({},e,(0,c.Z)({},r,o))})),(0,c.Z)(Ul,(0,_.combineActions)(If.H.ADD_STAR_SUCCESS,If.H.REMOVE_STAR_SUCCESS,Sf.H.ADD_PIN_SUCCESS,Sf.H.REMOVE_PIN_SUCCESS),(function(e,t){var n=t.payload,r=n.objToken,o=n.field,i=n.value;return null===e||ht.zx&&e.wiki_token!==r?e:ht.zx||e.obj_token===r?Object.assign({},e,(0,c.Z)({},o,i)):e})),(0,c.Z)(Ul,q.H.SET_EXPLORER_WIKI_ENTITY,(function(e,t){return null===e||e.wiki_token!==t.payload.wiki_token?t.payload:Object.assign({},e,{},t.payload)})),(0,c.Z)(Ul,q.H.UPDATE_WIKI_ENTITY,(function(e,t){var n=t.payload,r=n.field,o=n.value;return null===e?e:Object.assign({},e,(0,c.Z)({},r,o))})),Ul),null),yf=(0,_.handleActions)((0,c.Z)({},q.H.FETCH_OBJ_CONTAINER_V2_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload,r=n.objToken,o=n.path,i=n.is_dissociated;e[r]={isDissociated:Boolean(i),nodeToken:o.length<=2?o[o.length-1]:void 0}}))),{}),Pf=function(){return{shortcutTokens:[],shortcutContainerTokenList:new Set,objContainerTokenList:[],isDissociated:!1,hasMore:!0,lastLabel:"",fetchStatus:{isObjContainerTokenListFetched:void 0,isShortcutContainerTokenListFetched:void 0,isShortcutTokenListFetched:void 0}}},gf=(0,_.handleActions)((Fl={},(0,c.Z)(Fl,q.H.FETCH_SHORTCUT_LIST_FROM_OBJ_V2_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload,r=n.objToken,o=n.shortcuts,i=n.last_label,a=n.has_more;e[r]||(e[r]=Pf());var c=e[r];c.hasMore=a,c.lastLabel=i,c.shortcutTokens=c.shortcutTokens.concat(o),c.fetchStatus.isShortcutTokenListFetched=!0,e[r]=c}))),(0,c.Z)(Fl,q.H.FETCH_SHORTCUTS_CONTAINER_V2_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload,r=n.objToken,o=n.entities.nodes,i=n.path;if(!e[r])return e;i.filter((function(e){return!(!Array.isArray(e)||2!==e.length)&&!!o[e[0]]}));var a=new Set;i.forEach((function(e){a.add(e[1])}));var c=e[r].shortcutTokens;e[r].shortcutTokens=c.filter((function(e){return!a.has(e)}));var u=e[r].shortcutContainerTokenList;return i.forEach((function(e){return u.add(e[0])})),e[r].shortcutContainerTokenList=u,e[r].fetchStatus.isShortcutContainerTokenListFetched=!0,e}))),(0,c.Z)(Fl,q.H.CLEAR_OBJ_CONTAINER_V3,(0,cl.ZP)((function(e,t){var n=t.payload.objToken;return e[n]?(e[n]=Pf(),e):e}))),(0,c.Z)(Fl,q.H.FETCH_OBJ_CONTAINER_V2_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload,r=n.objToken,o=n.path,i=n.is_dissociated;e[r]||(e[r]=Pf()),2===o.length&&(e[r].objContainerTokenList=[o[0]]),e[r].fetchStatus.isObjContainerTokenListFetched=!0,e[r].isDissociated=Boolean(i)}))),(0,c.Z)(Fl,q.H.FETCH_SHORTCUT_LIST_FROM_OBJ_V2_FAIL,(0,cl.ZP)((function(e,t){var n=t.payload.objToken;e[n]||(e[n]=Pf()),e[n].fetchStatus.isShortcutTokenListFetched=!1,void 0===e[n].fetchStatus.isShortcutContainerTokenListFetched&&(e[n].fetchStatus.isShortcutContainerTokenListFetched=!1)}))),(0,c.Z)(Fl,q.H.FETCH_SHORTCUTS_CONTAINER_V2_FAIL,(0,cl.ZP)((function(e,t){var n=t.payload.objToken;e[n]||(e[n]=Pf()),e[n].fetchStatus.isShortcutContainerTokenListFetched=!1}))),(0,c.Z)(Fl,q.H.FETCH_OBJ_CONTAINER_V2_FAIL,(0,cl.ZP)((function(e,t){var n=t.payload.objToken;e[n]||(e[n]=Pf()),e[n].fetchStatus.isObjContainerTokenListFetched=!1}))),Fl),{}),Mf=n(543369),bf=(0,_.handleActions)((Zl={},(0,c.Z)(Zl,f.Hp.common.MARK_MODULE_ADDED,(function(e,t){var n=t.payload.moduleId;return Object.assign({},e,(0,c.Z)({},n,!0))})),(0,c.Z)(Zl,f.Hp.common.MARK_MODULE_REMOVED,(function(e,t){var n=t.payload.moduleId;return(0,Mf.default)(e,[n])})),Zl),{}),kf=n(222023),wf=n(251488),Hf=n(630252),Uf=function(e){var t,n=e.rootType,r=e.rootToken,o=e.subCommentToken,i=e.commentId,a=e.replyId,u=e.state,s=e.updateReplyInfo,_=(0,Hf.$)(n,r,o),E=Object.assign({},u,(0,c.Z)({},_,Object.assign({},u[_]))),l=E[_][i],f=l.commentList,d=(0,wf.Z)(f,(function(e){return e.replyId===a}));return t=s.shouldDelete?f.filter((function(e){return e.replyId!==a})):[].concat(l.commentList),d>-1?t[d]=Object.assign({},t[d],{},s):t.push(s),E[_][i]=Object.assign({},l,{commentList:t}),E},Ff=function(e,t){var n=t.payload,r=n.comments,o=n.rootToken,i=n.rootType,a=n.subCommentToken,u=(0,Hf.$)(i,o,a),s=e,_=Object.assign({},e,(0,c.Z)({},u,Object.assign({},e[u])));return r.forEach((function(e){var t=e.commentId,n=s[u],r=n&&n[t];if(!(0,kf.default)(r,e)){var o=(0,pt.default)(r,"commentList",[]),i=o.filter((function(t){var n=t.type,r=t.sending,o=t.error,i=t.replyId;return"reply"===n&&(!e.commentList.find((function(e){return e.replyId===i||e.compatibleReplyIdBeforeSend===i}))&&(r||o))})),a=e.commentList.map((function(e){var t=e.replyId,n=e.updateTimestamp,r=o.find((function(e){return e.replyId===t}));if(r){var i=r.updateTimestamp;if("update"===r.type&&n&&i&&i>n)return Object.assign({},e,{},r)}return Object.assign({},e)})).concat(i);if(0===a.length)return void delete _[u][t];_[u][t]=Object.assign({},e,{commentList:a})}})),_},Zf=function(){var e=Date.now();return Math.floor(e/1e3)},xf=function(e){var t=e.userId,n=e.replyId,r=e.content,o=e.extra,i=e.realReplyId,a=Zf();return{userId:t,replyId:n,content:r,extra:o,realReplyId:i,type:"reply",createTimestamp:a,updateTimestamp:a}},Bf=(0,_.handleActions)((xl={},(0,c.Z)(xl,f.Hp.commentData.FETCH_COMMENT_COMPLETE,(function(e,t){return t.payload?Ff(e,t):e})),(0,c.Z)(xl,f.Hp.commentData.MERGE_COMMENTS,(function(e,t){return t.payload?Ff(e,t):e})),(0,c.Z)(xl,f.Hp.commentData.MERGE_COMMENTS_NEW,(function(e,t){if(!t.payload)return e;var n=function(e,t){var n=t.payload,r=n.comments,o=n.rootToken,i=n.rootType,a=n.subCommentToken,u=(0,Hf.$)(i,o,a),s=Object.assign({},e,(0,c.Z)({},u,Object.assign({},e[u])));return s[u]=r,s}(e,t);return n})),(0,c.Z)(xl,f.Hp.commentData.RESET_COMMENTS,(function(e,t){if(!t.payload)return e;var n=t.payload,r=n.rootType,o=n.rootToken,i=n.subCommentToken,a=(0,Hf.$)(r,o,i);return Object.assign({},e,(0,c.Z)({},a,[]))})),(0,c.Z)(xl,f.Hp.commentData.REPLY_COMMENT_BEGIN,(function(e,t){if(!t.payload)return e;var n=t.payload,r=n.replyCommentParams,o=n.rootType,i=n.rootToken,a=n.subCommentToken,c=r.commentId,u=r.replyId,s=Object.assign({},xf(r),{sending:!0,error:null});return Uf({rootType:o,rootToken:i,subCommentToken:a,commentId:c,replyId:u,state:e,updateReplyInfo:s})})),(0,c.Z)(xl,f.Hp.commentData.REPLY_COMMENT_ERROR,(function(e,t){if(!t.payload)return e;var n=t.payload,r=t.error,o=n.replyCommentParams,i=n.rootType,a=n.rootToken,c=n.subCommentToken,u=o.commentId,s=o.replyId,_=Object.assign({},xf(o),{sending:!1,error:r});return Uf({rootType:i,rootToken:a,subCommentToken:c,commentId:u,replyId:s,state:e,updateReplyInfo:_})})),(0,c.Z)(xl,f.Hp.commentData.RESOLVE_COMMENT_ANIMATION_END,(function(e,t){if(!t.payload)return e;var n=t.payload,r=n.rootType,o=n.rootToken,i=n.subCommentToken,a=n.commentId,u=(0,Hf.$)(r,o,i),s=e[u];return delete s[a],Object.assign({},e,(0,c.Z)({},u,Object.assign({},s)))})),(0,c.Z)(xl,f.Hp.commentData.UPDATE_COMMENT_BEGIN,(function(e,t){if(!t.payload)return e;var n=t.payload,r=n.updateCommentParams,o=n.rootType,i=n.rootToken,a=n.subCommentToken,c=r.commentId,u=r.replyId;return Uf({rootType:o,rootToken:i,subCommentToken:a,commentId:c,replyId:u,state:e,updateReplyInfo:Object.assign({},r,{type:"update",sending:!0,error:null})})})),(0,c.Z)(xl,f.Hp.commentData.UPDATE_COMMENT_ERROR,(function(e,t){if(!t.payload)return e;var n=t.payload,r=t.error,o=n.updateCommentParams,i=n.rootType,a=n.rootToken,c=n.subCommentToken,u=o.commentId,s=o.replyId;return Uf({rootType:i,rootToken:a,subCommentToken:c,commentId:u,replyId:s,state:e,updateReplyInfo:Object.assign({},o,{type:"update",sending:!1,error:r})})})),(0,c.Z)(xl,f.Hp.commentData.DELETE_COMMENT_BEGIN,(function(e,t){if(!t.payload)return e;var n=t.payload,r=n.deleteCommentParams,o=n.rootType,i=n.rootToken,a=n.subCommentToken,c=r.commentId,u=r.replyId;return Uf({rootType:o,rootToken:i,subCommentToken:a,commentId:c,replyId:u,state:e,updateReplyInfo:{type:"delete",sending:!0,error:null}})})),(0,c.Z)(xl,f.Hp.commentData.DELETE_COMMENT_ERROR,(function(e,t){if(!t.payload)return e;var n=t.payload,r=t.error,o=n.deleteCommentParams,i=n.rootType,a=n.rootToken,c=n.subCommentToken,u=o.commentId,s=o.replyId;return Uf({rootType:i,rootToken:a,subCommentToken:c,commentId:u,replyId:s,state:e,updateReplyInfo:{sending:!1,type:"delete",error:r}})})),(0,c.Z)(xl,f.Hp.commentData.START_NEW_COMMENT,(function(e,t){if(!t.payload)return e;var n=t.payload,r=n.commentId,o=n.rootType,i=n.subCommentToken,a=n.rootToken,u=n.quote,s=n.source,_=n.isWhole,E=(0,Hf.$)(o,a,i),l=Object.assign({},e,(0,c.Z)({},E,Object.assign({},e[E])));return l[E][r]={commentId:r,quote:u,source:s,unSubmitComment:!0,commentList:[],isWhole:_},l})),(0,c.Z)(xl,f.Hp.commentData.ADD_COMMENT_BEGIN,(function(e,t){if(!t.payload)return e;var n=t.payload,r=n.rootType,o=n.rootToken,i=n.addCommentParams,a=n.subCommentToken,c=i.commentId,u=i.replyId,s=i.userId,_=i.content,E=i.extra,l=i.realReplyId,f=Zf();return Uf({rootType:r,rootToken:o,subCommentToken:a,commentId:c,replyId:u,state:e,updateReplyInfo:{userId:s,realReplyId:l,replyId:u,content:_,extra:E,createTimestamp:f,updateTimestamp:f,sending:!0,error:null}})})),(0,c.Z)(xl,f.Hp.commentData.ADD_COMMENT_ERROR,(function(e,t){if(!t.payload)return e;var n=t.error,r=t.payload,o=r.rootType,i=r.rootToken,a=r.addCommentParams,c=r.subCommentToken,u=a.commentId,s=a.replyId;return Uf({rootType:o,rootToken:i,subCommentToken:c,commentId:u,replyId:s,state:e,updateReplyInfo:{replyId:s,sending:!1,error:n}})})),(0,c.Z)(xl,f.Hp.commentData.LINK_COMMENT_TO_DOC,(function(e,t){if(!t.payload)return e;var n=t.error,r=t.payload,o=r.commentId,i=r.replyId,a=r.tempReplyId,c=r.rootType,u=r.rootToken,s=r.subCommentToken;return Uf({rootType:c,rootToken:u,subCommentToken:s,commentId:o,replyId:a,state:e,updateReplyInfo:{replyId:i,sending:!0,error:n}})})),(0,c.Z)(xl,f.Hp.commentData.LINK_COMMENT_TO_DOC_OK,(function(e,t){if(!t.payload)return e;var n=t.payload,r=n.tempCommentId,o=n.commentId,i=n.rootType,a=n.rootToken,u=n.subCommentToken,s=(0,Hf.$)(i,a,u),_=Object.assign({},e,(0,c.Z)({},s,Object.assign({},e[s]))),E=_[s][r],l=E.commentList.map((function(e,t){return 0===t?Object.assign({},e,{sending:!1,error:null}):Object.assign({},e)}));return _[s][o]||(_[s][o]=Object.assign({},E,{unSubmitComment:!1,commentId:o,commentList:l})),r!==o&&delete _[s][r],_})),(0,c.Z)(xl,f.Hp.commentData.LINK_COMMENT_TO_DOC_ERROR,(function(e,t){if(!t.payload)return e;var n=t.payload,r=n.commentId,o=n.error,i=n.replyId,a=n.rootType,c=n.rootToken,u=n.subCommentToken;return Uf({rootType:a,rootToken:c,subCommentToken:u,commentId:r,replyId:i,state:e,updateReplyInfo:{sending:!1,error:o}})})),(0,c.Z)(xl,f.Hp.commentData.DELETE_TEMPLATE_COMMENT,(function(e,t){if(!t.payload)return e;var n=t.payload,r=n.commentId,o=n.replyId,i=n.rootType,a=n.rootToken,u=n.subCommentToken,s=n.type,_=n.oldContent,E=(0,Hf.$)(i,a,u),l=Object.assign({},e,(0,c.Z)({},E,Object.assign({},e[E])));if("add"===s){var f=l[E][r];l[E][r]=Object.assign({},f,{commentList:[]})}else if("reply"===s){var d=l[E][r],T=d.commentList.filter((function(e,t){return e.replyId!==o}));l[E][r]=Object.assign({},d,{commentList:T})}else if("update"===s){var p=l[E][r],S=p.commentList.map((function(e,t){return e.replyId===o?Object.assign({},e,{content:_,sending:null,error:null}):e}));l[E][r]=Object.assign({},p,{commentList:S})}return l})),xl),{}),Wf=Bf,Gf=(0,_.handleActions)((0,c.Z)({},f.Hp.commentHistory.SET_COMMENT_HISTORY_REOPENING,(function(e,t){if(t.payload){var n=t.payload,r=n.commentId;return n.reopening?e.add(r):e.delete(r),new Set(e)}return e})),new Set([])),Kf=(0,s.combineReducers)({reopening:Gf}),Vf=(0,_.handleActions)((0,c.Z)({},f.Hp.commentLoadStatus.SET_COMMENT_LOAD_STATUS,(function(e,t){if(!t.payload)return e;var n=t.payload.statusData,r=Object.assign({},e);return n.forEach((function(e){var t=e.serviceToken,n=e.serviceType,o=e.isLoading,i="".concat(n,"-").concat(t);r[i]=o})),r})),{}),jf=Vf,Yf=(0,_.handleActions)((0,c.Z)({},f.Hp.commentPanelPosition.SET_COMMENT_PANEL_POSITION_DATA,(function(e,t){if(!t.payload)return e;var n=t.payload,r=n.data,o=n.dirty,i=n.ableToChange;return{data:r?[].concat(r):e.data,dirty:o||e.dirty,ableToChange:i||e.ableToChange}})),{data:[],dirty:null,ableToChange:null}),Jf=Yf,Xf=["commentId","visible","context"],qf=(0,_.handleActions)((Bl={},(0,c.Z)(Bl,f.Hp.commentPosition.SET_COMMENT_POSITION_DATA,(function(e,t){if(!t.payload)return e;var n=t.payload,r=n.commentPositions,o=n.rootToken,i=n.rootType,a=n.subCommentToken,u=n.isLoaded,s=void 0===u||u,_=(0,Hf.$)(i,o,a),E=r.map((function(e){var t=e.commentId,n=e.visible,r=e.context,o=(0,_n.Z)(e,Xf);return r?e:{commentId:t,visible:n,context:Object.assign({},r,{},o)}}));return Object.assign({},e,(0,c.Z)({},_,Object.assign({},e[_],{positions:[].concat(E),isLoaded:s})))})),(0,c.Z)(Bl,f.Hp.commentPosition.TOGGLE_COMMENT_SHOWN,(function(e,t){if(!t.payload)return e;var n=t.payload,r=n.rootToken,o=n.rootType,i=n.subCommentToken,a=n.shown,u=(0,Hf.$)(o,r,i);return Object.assign({},e,(0,c.Z)({},u,Object.assign({},e[u],{shown:a})))})),(0,c.Z)(Bl,f.Hp.commentPosition.TOGGLE_CHECK_COMMENT_SHOWN,(function(e,t){if(!t.payload)return e;var n=t.payload,r=n.rootToken,o=n.rootType,i=n.subCommentToken,a=n.checkCommentShown,u=(0,Hf.$)(o,r,i);return Object.assign({},e,(0,c.Z)({},u,Object.assign({},e[u],{checkCommentShown:a})))})),Bl),{}),Qf=qf,zf=(0,_.handleActions)((0,c.Z)({},f.Hp.commentReaction.SET_COMMENT_REACTION,(function(e,t){return t.payload?t.payload:e})),new Map),$f=(0,_.handleActions)((0,c.Z)({},f.Hp.commentReaction.SET_COMMENT_REACTION_LOAD_STATUS,(function(e,t){var n=t.payload,r=n.suiteType,o=n.suiteToken,i=n.status,a=new Map(e);return a.set("".concat(r,":").concat(o),i),a})),new Map),ed=n(620253);function td(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return nd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nd(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function nd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(0,_.handleActions)((Wl={},(0,c.Z)(Wl,f.Hp.messageData.SET_NOTIFICATIONS,(function(e,t){if(!t.payload)return e;var n=e.messages,r=t.payload.messages,o=new Map;return r.forEach((function(e){var t=e.mentionId,r=e.messageId,i=e.related;if(r){if(t&&!i)return;var a=n.get(e.messageId),c=a?a.initStatus:e.status,u=Object.assign({},e,{initStatus:c});o.set(e.messageId,u)}})),Object.assign({},e,{messages:o})})),(0,c.Z)(Wl,f.Hp.messageData.UPDATE_BUTTON_STATUS,(function(e,t){if(!t.payload)return e;var n=t.payload,r=n.type,o=n.messageId,i=n.actionId,a=n.actionBtnIndex,c=e.messages,u=new Map(c),s=c.get(o);if(!s)return e;if("message-card"===r&&a){var _=s.content,E=JSON.parse(_);if(!E)return e;E.action_button_index=a;var l=JSON.stringify(E),f=Object.assign({},s,{content:l});return u.set(o,f),Object.assign({},e,{messages:u})}if("message-card-new"===r&&i){var d=s.content.richtext.elements.dictionary,T=Object.assign({},d);for(var p in T){var S=T[p],I=S.property.actionId;I&&I===i?S.property.disable=!0:I&&I!==i&&(S.property.visible=!1)}s.content.richtext.elements.dictionary=T;var O=Object.assign({},s);return u.set(o,O),Object.assign({},e,{messages:u})}return e})),(0,c.Z)(Wl,f.Hp.messageData.SET_ACTIVE_NOTIFICATION,(function(e,t){if(!t.payload)return e;var n=t.payload,r=n.commentId,o=n.mentionId,i=n.commentOption;return Object.assign({},e,{commentId:r,mentionId:o,commentOption:i})})),Wl),{messages:new Map,commentId:null,mentionId:null,commentOption:{}});var rd,od,id,ad,cd,ud,sd,_d,Ed=(0,_.handleActions)((Gl={},(0,c.Z)(Gl,f.Hp.messageData.SET_MESSAGES,(function(e,t){if(!t.payload)return e;var n=e,r=t.payload.messages,o=new Map;return r.forEach((function(e){var t=e.mentionId,r=e.messageId,i=e.related;if(r){if(t&&!i)return;var a=n.get(e.messageId),c=a?a.initStatus:e.status,u=Object.assign({},e,{initStatus:c});o.set(e.messageId,u)}})),o})),(0,c.Z)(Gl,f.Hp.messageData.RESET_MESSAGES,(function(e,t){return new Map})),(0,c.Z)(Gl,f.Hp.messageData.SET_MESSAGE_STATUS,(function(e,t){if(!t.payload)return e;var n,r=t.payload,o=r.type,i=r.id,a=new Map(e),c=td(a.values());try{for(c.s();!(n=c.n()).done;){var u=n.value,s=u.commentId,_=u.mentionId,E=u.messageId;if("comment"===o&&s===i&&E||"mention"===o&&_===i&&E){var l=Object.assign({},u,{initStatus:2});a.set(E,l)}}}catch(e){c.e(e)}finally{c.f()}return a})),(0,c.Z)(Gl,f.Hp.messageData.SET_LOCAL_MESSAGE_STATUS_READED,(function(e,t){if(!t.payload)return e;var n,r=t.payload.id,o=new Map(e),i=td(o.values());try{for(i.s();!(n=i.n()).done;){var a=n.value,c=a.mentionId,u=a.messageId;if(2!==a.status&&(c===r||u===r)){var s=Object.assign({},a,{status:2});o.set(u,s)}}}catch(e){i.e(e)}finally{i.f()}return o})),Gl),new Map),ld=(0,_.handleActions)((0,c.Z)({},f.Hp.messageData.SET_INCOMING_MESSAGES,(function(e,t){if(!t.payload)return e;var n=t.payload.messages;return[].concat(n)})),[]),fd=(0,_.handleActions)((Kl={},(0,c.Z)(Kl,f.Hp.messageData.FETCH_MESSAGES_COMPLETE,(function(e,t){if(!t.payload)return e;var n=t.payload.messages,r=(0,ed.Z)(n,"commentId"),o={},i={};for(var a in delete r.undefined,r){var c=r[a],u=!1,s=c.sort((function(e,t){return t.createTime-e.createTime}))[0].createTime;c.forEach((function(e){e.related&&(u=!0)})),u&&(o[a]=s)}return n.forEach((function(e){var t=e.type,n=e.related,r=e.mentionId,o=e.createTime;"MESSAGE_DOC_MENTION"===t&&n&&(i[r]=o)})),{comment:o,mention:i}})),(0,c.Z)(Kl,f.Hp.messageData.SET_MESSAGES,(function(e,t){if(!t.payload)return e;var n=t.payload.messages,r=e.comment,o=e.mention;return n.forEach((function(e){var t=e.mentionId,n=e.commentId,i=e.related,a=e.createTime;n&&!r[n]&&i?r[n]=a:t&&!o[t]&&i&&(o[t]=a)})),{comment:Object.assign({},r),mention:Object.assign({},o)}})),(0,c.Z)(Kl,f.Hp.messageData.REMOVE_MESSAGES_NEW_STATUS,(function(e,t){if(!t.payload)return e;var n=t.payload,r=n.commentId,o=n.mentionId,i=e.comment,a=e.mention;return r&&(i[r]=!1),o&&(a[o]=!1),{comment:Object.assign({},i),mention:Object.assign({},a)}})),(0,c.Z)(Kl,f.Hp.messageData.RESET_MESSAGES_NEW_STATUS,(function(e,t){return{comment:{},mention:{}}})),Kl),{comment:{},mention:{}}),dd=(0,_.handleActions)((rd={},(0,c.Z)(rd,f.Hp.messagePosition.SET_MESSAGE_POSITION_DATA,(function(e,t){return t.payload?{position:[].concat(t.payload),isInit:!0}:e})),(0,c.Z)(rd,f.Hp.messagePosition.RESET_MESSAGE_POSITION_DATA,(function(e,t){return{position:[],isInit:!1}})),(0,c.Z)(rd,f.Hp.messagePosition.SET_ACTIVE_NOTIFICATION,(function(e,t){if(!t.payload)return e;var n=t.payload,r=n.commentId,o=n.mentionId;return Object.assign({},e,{commentId:r,mentionId:o})})),rd),{position:[],isInit:!1,commentId:null,mentionId:null}),Td=dd,pd=n(635382),Sd=n(592802),Id=n(537058),Od=["member_id"],Rd=["member_id"],md=(0,_.handleActions)((od={},(0,c.Z)(od,f.Hp.member.ADD_SUITE_MEMBERS,(function(e,t){var n=t.payload,r=n.type,o=n.token,i=n.members,a=Object.assign({},e),c=e[(0,Id.Qx)(r,o)]||[],u=i.map((function(e){return(0,wi.makeCompatibleUser)(e)})),s=(0,Yl.Z)(c.concat(u),"member_id");return(0,Id.gu)(a,{type:r,token:o,members:(0,pd.Z)(s,"create_time")}),a})),(0,c.Z)(od,f.Hp.member.UPDATE_SUITE_MEMBER,(function(e,t){var n=t.payload,r=n.type,o=n.token,i=n.memberInfo,a=i.member_id,c=(0,_n.Z)(i,Od),u=e[(0,Id.Qx)(r,o)]||[],s=(0,wf.Z)(u,(function(e){return e.member_id===a})),_=Object.assign({},e);if(-1!==s)return u[s]=Object.assign({},u[s],{},c),_;var E=(0,wi.makeCompatibleUser)(i),l=[].concat(u);return l.push(E),(0,Id.gu)(_,{type:r,token:o,members:(0,pd.Z)(l,"create_time")}),_})),(0,c.Z)(od,f.Hp.member.UPDATE_SUITE_MEMBERS,(function(e,t){var n=t.payload,r=n.type,o=n.token,i=n.memberInfoList,c=e[(0,Id.Qx)(r,o)]||[],u=c.reduce((function(e,t,n){return e.set(t.member_id,n)}),new Map),s=Object.assign({},e),_=(0,a.Z)(c);return i.forEach((function(e){var t=e.member_id,n=(0,_n.Z)(e,Rd);if(u.has(t)){var r=u.get(t);_[r]=Object.assign({},c[r],{},n)}else{var o=(0,wi.makeCompatibleUser)(e);_.push(o)}})),(0,Id.gu)(s,{type:r,token:o,members:(0,pd.Z)(_,"create_time")}),s})),(0,c.Z)(od,f.Hp.member.REMOVE_SUITE_MEMBERS,(function(e,t){var n=t.payload,r=n.type,o=n.token,i=n.memberIds,a=e[(0,Id.Qx)(r,o)]||[],c=[].concat(a);i.forEach((function(e){c=(0,Sd.Z)(c,(function(t){return t.member_id!==e}))}));var u=Object.assign({},e);return(0,Id.gu)(u,{type:r,token:o,members:c}),u})),(0,c.Z)(od,f.Hp.member.RESET_SUITE_MEMBERS,(function(e,t){var n=t.payload,r=n.type,o=n.token,i=n.members,a=n.count,c=Object.assign({},e);if(i&&a){var u=i.map((function(e){return(0,wi.makeCompatibleUser)(e)})),s=(0,Yl.Z)(u,"member_id");return(0,Id.gu)(c,{type:r,token:o,members:(0,pd.Z)(s,"create_time")}),c}return(0,Id.kH)(c,{type:r,token:o}),c})),od),{}),Ad=(0,_.handleActions)((0,c.Z)({},f.Hp.member.SET_CURRENT_MEMBER_ID,(function(e,t){return String(t.payload)})),null),Cd=(0,_.handleActions)((0,c.Z)({},(0,_.combineActions)(f.Hp.member.ADD_SUITE_MEMBERS,f.Hp.member.REMOVE_SUITE_MEMBERS,f.Hp.member.UPDATE_SUITE_MEMBERS,f.Hp.member.RESET_SUITE_MEMBERS),(function(e,t){var n=t.payload,r=n.token,o=n.count,i=void 0===o?0:o;return Object.assign({},e,(0,c.Z)({},r,Math.max(i-1,0)))})),{}),hd=n(22342),vd=n(886982),Dd=(0,u.WV)({selectedMatchIndex:0,total:0,canReplaceSelected:!1,canReplaceAll:!1},"FindReplaceState"),Nd=new((0,u.WV)({isOpen:!1,showOnlyFindRow:!0,findText:"",replaceText:"",isFinding:!1,isReplacingAll:!1,result:new Dd,style:(0,u.D5)({})},"FindReplaceState")),Ld=(0,_.handleActions)((id={},(0,c.Z)(id,f.Hp.findReplace.OPEN_FIND_REPLACE_BOX,(function(e,t){return e.merge(Object.assign({isOpen:!0,style:(0,u.D5)(t.payload.style||{})},(0,vd.Z)(t.payload,"findText","showOnlyFindRow")))})),(0,c.Z)(id,f.Hp.findReplace.CLOSE_FIND_REPLACE_BOX,(function(e,t){var n=e.result,r=n.selectedMatchIndex;return e.merge({isOpen:!1,showOnlyFindRow:!0,isFinding:!1,result:n.clear().merge({selectedMatchIndex:r})})})),(0,c.Z)(id,f.Hp.findReplace.START_FINDING,(function(e,t){var n=t.payload.findText;return e.merge({isFinding:!0,findText:n})})),(0,c.Z)(id,f.Hp.findReplace.UPDATE_FIND_REPLACE_RESULT,(function(e,t){return e.merge({isFinding:!1,result:e.result.merge(t.payload)})})),(0,c.Z)(id,f.Hp.findReplace.SET_REPLACE_TEXT,(function(e,t){return e.merge({replaceText:t.payload})})),(0,c.Z)(id,f.Hp.findReplace.SET_IS_REPLACING_ALL,(function(e,t){return e.merge({isReplacingAll:t.payload})})),(0,c.Z)(id,f.Hp.findReplace.FIND_REPLACE_SHOW_MORE,(function(e,t){return e.merge({showOnlyFindRow:!1})})),id),Nd),yd=Ld,Pd=n(528093),gd=n(312167),Md={translating:!1,translated:!1,error:"",translate_start:!1,translate_exiting:!1,comment_enable_translate:!1,had_enter_translate_mode:!1},bd={target_lang:"zh",src_lang:"zh",display_type:Pd.Qs.ONLY_TRANSLATION,enable_auto_translate:!1,supported_src_langs:["en","zh","ja"]},kd={type:gd.F.ORIGINAL,isOpenHistory:!1},wd=(0,_.handleActions)((0,c.Z)({},f.Hp.translate.SET_CLIENTVARS,(function(e,t){return t.payload.clientVars})),null),Hd=(0,_.handleActions)((ad={},(0,c.Z)(ad,f.Hp.translate.TOGGLE_TRANSLATE,(function(e,t){var n=t.payload;return Object.assign({},Md,{translating:n.status,had_enter_translate_mode:e.had_enter_translate_mode})})),(0,c.Z)(ad,f.Hp.translate.UPDATE_TRANSLATE_STATUS,(function(e,t){var n=t.payload;return Object.assign({},e,{},n,{had_enter_translate_mode:e.had_enter_translate_mode||!!n.translated})})),(0,c.Z)(ad,f.Hp.translate.RESET_TRANSLATE_STATUS,(function(){return Object.assign({},Md)})),ad),Md),Ud=(0,_.handleActions)((0,c.Z)({},f.Hp.translate.UPDATE_TRANSLATE_CONFIG,(function(e,t){var n=t.payload,r=Object.assign({},e,{},n);return r.enable_auto_translate_doc_body=r.enable_auto_translate,r.enable_auto_translate_doc_comment=r.enable_auto_translate,r})),bd),Fd=(0,_.handleActions)((0,c.Z)({},f.Hp.translate.UPDATE_TRANSLATION_VIEW,(function(e,t){var n=t.payload;return Object.assign({},e,{},n)})),kd),Zd=(0,s.combineReducers)({status:Hd,config:Ud,originClientVars:wd,view:Fd}),xd=(0,_.handleActions)((0,c.Z)({},f.Hp.etherpad.UPDATE_DOC_PERMISSION_USER_MAP,(function(e,t){return Object.assign({},e,{},t.payload)})),{}),Bd=xd,Wd=n(764026),Gd=n(209653),Kd=(0,_.handleActions)((cd={},(0,c.Z)(cd,Gd.H.FETCH_OBJ_SETTINGS_SUCCESS,(function(e,t){return t.payload})),(0,c.Z)(cd,Gd.H.SET_OBJ_SETTINGS,(function(){return{enable_watermark:1}})),cd),{enable_watermark:0,dark_watermark:{enable:0}}),Vd=(0,_.handleActions)((ud={},(0,c.Z)(ud,Gd.H.FETCH_OBJ_PATHS_SUCCESS,(function(e,t){var n=t.payload,r=n.paths,o=n.objToken;return e.merge((0,c.Z)({},o,r))})),(0,c.Z)(ud,(0,_.combineActions)(Sn.H.FETCH_RECENT_OBJS_SUCCESS,Sn.H.FETCH_RECENT_OBJS_FOR_CHECK_SUCCESS),(function(e,t){var n=(0,pt.default)(t.payload,"entities.paths",null);if(!n)return e;var r=(0,Wd.Z)(n,(function(e){return 0===e.length?[]:[e]}));return e.merge(r)})),ud),(0,u.D5)()),jd=n(300527),Yd=(0,_.handleActions)((sd={},(0,c.Z)(sd,f.Hp.settings.FETCH_USER_SETTING_SUCCESS,(function(e,t){var n=t.payload,r=n.settings,o=n.permission_type;return e.merge({permission_type:o||jd.Hw.CompanyReadable,allow_share_outside:r.allow_share_outside,enable_auto_capitalize:r.initial_setting?1:0,lang_correction_perm:r.ai_setting?1:0,view_record_setting:r.allow_read_list_setting?1:0})})),(0,c.Z)(sd,f.Hp.settings.FETCH_USER_TRANSLATE_SETTING_SUCCESS,(function(e,t){return e.merge(Object.assign({},t.payload))})),(0,c.Z)(sd,f.Hp.settings.FETCH_IS_USER_TRANSLATE_VIP_SUCCESS,(function(e,t){var n=t.payload.is_success;return e.merge({is_user_translate_vip:n})})),(0,c.Z)(sd,f.Hp.settings.UPDATE_USER_SETTING_SUCCESS,(function(e,t){var n=t.payload,r=n.permission_type,o=n.allow_share_outside,i=n.initial_setting;return e.merge({permission_type:r||jd.Hw.CompanyReadable,allow_share_outside:o,enable_auto_capitalize:i?1:0})})),(0,c.Z)(sd,f.Hp.settings.UPDATE_USER_TRANSLATE_SETTING_SUCCESS,(function(e,t){var n=t.payload.settings;return e.merge(Object.assign({},n))})),(0,c.Z)(sd,f.Hp.settings.FETCH_USER_LANG_CORRECTION_SETTING_SUCCESS,(function(e,t){return e.merge(Object.assign({},t.payload))})),(0,c.Z)(sd,f.Hp.settings.UPDATE_USER_LANG_CORRECTION_SETTING_SUCCESS,(function(e,t){return e.merge(Object.assign({},t.payload))})),(0,c.Z)(sd,f.Hp.settings.FETCH_SMART_COMPOSE_SETTING_SUCCESS,(function(e,t){var n=t.payload,r=n.enable_docs,o=n.personalize;return e.merge({smart_compose_setting:r,smart_compose_personalization_setting:o})})),(0,c.Z)(sd,f.Hp.settings.FETCH_UPDATE_SMART_COMPOSE_SETTING_SUCCESS,(function(e,t){var n=t.payload,r=n.enable_docs,o=void 0===r?e.get("smart_compose_setting"):r,i=n.personalize,a=void 0===i?e.get("smart_compose_personalization_setting"):i;return e.merge({smart_compose_setting:o,smart_compose_personalization_setting:a})})),(0,c.Z)(sd,f.Hp.settings.FETCH_ABBREVIATION_SETTING,(function(e,t){var n=(0,ks.Z)(t.payload,2),r=n[0],o=n[1];return e.merge({abbreviation_installed:r,abbreviation_setting:o})})),(0,c.Z)(sd,f.Hp.settings.UPDATE_ABBREVIATION_SETTING,(function(e,t){return e.merge({abbreviation_setting:t.payload.isEnabled})})),(0,c.Z)(sd,f.Hp.settings.UPDATE_USER_VIEW_RECORD_SETTING_SUCCESS,(function(e,t){return e.merge(Object.assign({},t.payload))})),sd),jd.$p),Jd=u.ZP.fromJS({dontAskBeforeUpload:0,dontAskAgainOpenAllShareSwitch:0}),Xd=(0,_.handleActions)((_d={},(0,c.Z)(_d,f.Hp.preference.FETCH_USER_PREFERENCE_SUCCESS,(function(e,t){var n=t.payload,r=n.dont_ask_before_uploading_log,o=n.dont_ask_again_open_all_share_switch;return u.ZP.fromJS({dontAskBeforeUpload:r,dontAskAgainOpenAllShareSwitch:o})})),(0,c.Z)(_d,f.Hp.preference.FETCH_UPDATE_USER_PREFERENCE_SUCCESS,(function(e,t){var n=t.payload,r=n.dont_ask_before_uploading_log,o=n.dont_ask_again_open_all_share_switch,i=u.ZP.fromJS({dontAskBeforeUpload:r,dontAskAgainOpenAllShareSwitch:o});return e.mergeWith((function(e,t){return void 0===t?e:t}),i)})),_d),Jd),qd=(0,_.handleActions)((0,c.Z)({},f.Hp.explorer.UPDATE_LEANMODE_CONFIG,(function(e,t){return t.payload?e.merge(t.payload):e})),(0,u.D5)({folderHidden:!1,favoritesHidden:!1,pinDragDisabled:!1,wikiHidden:!1,searchLimited:!1,fetchPartData:!1}));function Qd(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return zd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zd(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function zd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $d=[f.Hp.permission.FETCH_USER_PERMISSION_ON_EMBED_OBJECT_FAIL,f.Hp.template.FETCH_USER_PERMISSION_ON_IMPORT_SUITE_FAIL],eT=["userPermissionOnSuite","wikiV2PageTreeInitDataNew","wikiV2WikiNode"];function tT(e,t){return!t.payload.isPathChanged}function nT(e){var t=(e||{}).type;return $d.includes(t)}var rT,oT,iT=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.ZP.Map({}),t=arguments.length>1?arguments[1]:void 0,n=(0,Zc.Z)(t.type.replace(f.Hp.prefix.FETCH,"").replace(f.Hp.suffix.SUCCESS,"").replace(f.Hp.suffix.FAIL,""));if(t.type===f.Hp.route.LOCATION_CHANGE){if(tT(0,t)){var r,o={},i=Qd(eT);try{for(i.s();!(r=i.n()).done;){var a=r.value,c=e.get(a);c&&(o[a]=c.toJS())}}catch(e){i.e(e)}finally{i.f()}return e.clear().merge(o)}return e.clear()}if((0,hr.Zl)(t)&&t.error){var s=t.error,_=s.code,E=s.msg,l=s.meta,d=s.data;return nT(t)?e:e.mergeIn([n],{code:_,msg:E,meta:l,data:d,payload:t.payload||{}})}if((0,hr.$J)(t)&&null!=e.get(n))return e.deleteIn([n]);if(t.type===f.Hp.permission.SET_USER_PERMISSION_ERROR){var T=t.payload,p=T.msg,S=T.code;return e.mergeIn(["userPermissionOnSuite"],{code:S,msg:p})}return e},aT=["actionName"],cT=(0,_.handleActions)((rT={},(0,c.Z)(rT,"".concat(Hc.SET_FETCH_STATUS),(function(e,t){var n=t.payload,r=n.actionName,o=(0,_n.Z)(n,aT);return e.updateIn([r],(function(e){return e?e.delete("code").merge(o):(0,u.d0)(Object.assign({status:Ne.StatusMap.uninitialized,isContinuous:!1},o))}))})),(0,c.Z)(rT,"".concat(Hc.RESET_FETCH_STATUS),(function(e,t){return e.map((function(e){return e.getIn(["options","resetWhenSuiteTokenChange"])?e.merge({status:Ne.StatusMap.uninitialized}):e}))})),rT),(0,u.D5)()),uT=(0,_.handleActions)((0,c.Z)({},f.Hp.network.SET_NETWORK_STATE,(function(e,t){if(t.payload)return t.payload.data})),{connected:!0});function sT(){return{numberStage:_r.TH,simpleStageSet:new Set,hasTimedOut:!1}}var _T=(0,_.handleActions)((oT={},(0,c.Z)(oT,f.Hp.common.INIT_BUSINESS_STAGE,(function(e,t){var n=t.payload;return Object.assign({},e,(0,c.Z)({},n,sT()))})),(0,c.Z)(oT,f.Hp.common.UPDATE_BUSINESS_STAGE,(function(e,t){for(var n=!1,r=Object.assign({},e),o=(new Set).add(t.payload),i=0,a=function(){i+=1;var e=o.values().next().value;o.delete(e);var t=e.business,a=e.stage;if(!(0,lr.s2)(t,r)||(0,lr.oO)(t,a,r))return"continue";var c=(0,lr.Jw)(a)?{numberStage:a}:{simpleStageSet:new Set(r[t].simpleStageSet).add(a)};r[t]=Object.assign({},r[t],{},c),n=!0;var u=Er[t].autoUpdateRules;u&&u.forEach((function(e){e.when.every((function(e){return(0,lr.oO)(t,e,r)}))&&(0,lr.s2)(e.update.business,r)&&!(0,lr.oO)(e.update.business,e.update.stage,r)&&o.add(e.update)}))};o.size>0&&i<10;)a();return n?r:e})),(0,c.Z)(oT,f.Hp.common.RESET_BUSINESS_STAGE,(function(e,t){var n=t.payload,r=n.toInit,o=n.toClear,i=Object.assign({},e);return o.forEach((function(e){return delete i[e]})),r.forEach((function(e){i[e]=sT()})),i})),(0,c.Z)(oT,f.Hp.common.TIMEOUT_BUSINESS_STAGE,(function(e,t){var n=t.payload;return(0,lr.s2)(n,e)?Object.assign({},e,(0,c.Z)({},n,Object.assign({},e[n],{hasTimedOut:!0}))):e})),oT),{}),ET=n(647246),lT=n(549031),fT=(0,_.handleActions)((0,c.Z)({},f.Hp.opendoc.SET_FEATURE_CONFIG,(function(e,t){var n=t.payload.featureConfig,r=void 0===n?{}:n;return(0,ET.default)((0,fl.Z)({},e,r))})),lT.Q),dT=(0,_.handleActions)((0,c.Z)({},f.Hp.opendoc.SET_OPENDOC_OPTIONS,(function(e,t){var n=t.payload.options,r=void 0===n?{}:n;return(0,ET.default)((0,fl.Z)({},e,r))})),lT.E),TT=(0,s.combineReducers)({options:dT,config:fT}),pT=(0,_.handleActions)((0,c.Z)({},f.Hp.export.TOGGLE_EXPORTING,(function(e,t){return t.payload})),!1),ST=(0,s.combineReducers)({exporting:pT}),IT=(0,_.handleActions)((0,c.Z)({},f.Hp.account.FETCH_ACCOUNT_USER_INFO_SUCCESS,(function(e,t){return Object.assign({},e,t.payload)})),{has_pwd:!0,credentials:[],user_info:{}}),OT=IT;function RT(){var e,t,n,o=Object.assign({dynamicModules:bf,appInitialized:CE,currentUser:OE,currentNoteToken:mf,currentWikiEntity:Lf,currentSsid:Rf,noteMeta:Of,shouldPrint:Af,alreadyAppeal:Cf,helpBtnVisible:hf,helpSideBarVisible:Df,helpBtnActivated:vf,onboarding:zl,todo:ff,rootToken:AE,route:tf,members:md,currentMemberId:Ad,membersCount:Cd,commentData:Wf,commentLoadStatus:jf,messageData:Ed,newOldMessage:fd,incomingMessages:ld,commentPosition:Qf,commentPanelPosition:Jf,commentHistory:Kf,commentReaction:zf,commentReactionLoadStatus:$f,messagePosition:Td,fetchStatus:cT,error:iT,router:SE.mg,ui:(0,s.combineReducers)({currentModals:nf}),networkState:uT,userSettings:Yd,userPreference:Xd,template:lf,like:hd.ZP,findReplace:yd,translate:Zd,leanModeConfig:qd},r,{search:qE,permissionUserMap:Bd,multiStageRender:_T,teamSpaceCoverList:QE,export:ST,account:OT}),i={editableSpaces:al,recentHotList:ql,bannerList:Ql,subscriptionData:Xl,suiteWikiInfo:Nf},a=(e={},(0,c.Z)(e,zE.Wr,rl),(0,c.Z)(e,zE.Wd,ol),(0,c.Z)(e,zE.g3,il),(0,c.Z)(e,zE.fm,ul),e),u=(t={},(0,c.Z)(t,zE.WZ,Ol),(0,c.Z)(t,zE.sl,Rl),(0,c.Z)(t,zE.z8,ml),(0,c.Z)(t,zE.q$,El),(0,c.Z)(t,"wikiV2StarredSpacesIdList",Cl),(0,c.Z)(t,"wikiV2StarredSpacesPaginationStatus",Al),(0,c.Z)(t,"wikiV2SpaceIdListMap",Dl),(0,c.Z)(t,"wikiV2ClassifiedSpacesCollectionViewMode",Vl),(0,c.Z)(t,"wikiV2CurrentNotice",jl),t),_=(n={},(0,c.Z)(n,zE.S2,el),(0,c.Z)(n,zE.GF,tl),n);return o=ht.hM?Object.assign({},o,{},i,{},u):Object.assign({},o,{},i,{},a,{},ht.No?u:{},{},ht.No?_:{}),ea.Z.isOpendoc&&(o=Object.assign({},o,{opendoc:TT})),(0,s.combineReducers)(o)}var mT,AT=n(116072),CT=n(574049),hT=n(913867);function vT(e,t){var n=t.parentObjToken,r=t.childToken,o=(0,hT.Z)(r)?[r]:r,i=e[n];i&&(0,CT.Z)(i,(function(e){return o.includes(e)}))}function DT(e,t){var n=t.childToken,r=(0,hT.Z)(n)?[n]:n;(0,CT.Z)(e,(function(e){return(r||[]).includes(e)}))}var NT,LT,yT,PT,gT,MT,bT,kT,wT,HT,UT,FT,ZT,xT,BT,WT,GT,KT,VT,jT,YT,JT,XT,qT,QT=(0,_.handleActions)((0,c.Z)({},eu.H.SAVE_TREE_EXPANDED_KEYS,(function(e,t){return t.payload.keys})),[]),zT=(0,_.handleActions)((mT={},(0,c.Z)(mT,eu.H.FETCH_TREE_FILE_META_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload.token,r=t.payload,o=r.node_list,i=r.entities.nodes;e[n]=(0,AT.b7)(o,i)}))),(0,c.Z)(mT,eu.H.SET_TOKEN_MAP,(0,cl.ZP)((function(e,t){var n=t.payload.tokenMap;if(n)return n}))),(0,c.Z)(mT,f.Hp.explorer.REMOVE_CHILD_FROM_FATHER_INDEX,(0,cl.ZP)((function(e,t){t.payload.listName.includes(E.Gv.Folder)&&vT(e,t.payload)}))),mT),{}),$T=(0,_.handleActions)((NT={},(0,c.Z)(NT,pn.H.FETCH_MY_OBJECT_LIST_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload,r=n.node_list,o=n.entities.nodes,i=n.isContinuous,a=(0,AT.b7)(r,o);return i?e.concat(a):a}))),(0,c.Z)(NT,f.Hp.explorer.DELETE_OBJECT_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload.success_obj_token;(0,CT.Z)(e,(function(e){return n.includes(e)}))}))),(0,c.Z)(NT,f.Hp.explorer.INSERT_UPLOADED_FILE_TO_RECENT,(0,cl.ZP)((function(e,t){var n=t.payload;e.unshift(n.obj_token)}))),(0,c.Z)(NT,f.Hp.explorer.REMOVE_CHILD_FROM_FATHER_INDEX,(0,cl.ZP)((function(e,t){t.payload.listName.includes(E.Gv.MyObject)&&DT(e,t.payload)}))),NT),[]),ep=(0,_.handleActions)((LT={},(0,c.Z)(LT,Tu.H.FETCH_MY_SPACE_2_NEW_OBJ_LIST_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload,r=n.node_list,o=n.entities.nodes,i=n.has_more,a=n.last_label,c=n.fetchType,u=e.tokenList,s=(0,AT.b7)(r,o);return{hasMore:i,tokenList:c===Ze.hh.FetchNormal?u.concat(s):s,lastLabel:a}}))),(0,c.Z)(LT,f.Hp.explorer.REMOVE_CHILD_FROM_FATHER_INDEX,(0,cl.ZP)((function(e,t){t.payload.listName.includes(E.Gv.MySpace)&&DT(e.tokenList,t.payload)}))),LT),{hasMore:!1,tokenList:[],lastLabel:""}),tp=(0,_.handleActions)((yT={},(0,c.Z)(yT,Nu.H.FETCH_MY_SPACE_LIST_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload,r=n.node_list,o=n.isContinuous,i=n.entities.nodes,a=(0,AT.b7)(r,i);return o?e.concat(a):a}))),(0,c.Z)(yT,f.Hp.explorer.REMOVE_CHILD_FROM_FATHER_INDEX,(0,cl.ZP)((function(e,t){if(t.payload.listName.includes(E.Gv.MySpace)){var n=t.payload.childToken,r=(0,hT.Z)(n)?[n]:n;(0,CT.Z)(e,(function(e){return r.includes(e)}))}}))),yT),[]),np=n(669521),rp=(0,_.handleActions)((PT={},(0,c.Z)(PT,Sf.H.FETCH_PIN_LIST_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload,r=n.node_list,o=n.entities.nodes;return(0,AT.b7)(r,o)}))),(0,c.Z)(PT,Sf.H.ADD_PIN_SUCCESS,(0,cl.ZP)((function(e,t){e.push.apply(e,(0,a.Z)((0,pt.default)(t,"payload.pin_nodes")))}))),(0,c.Z)(PT,Sf.H.REMOVE_PIN_SUCCESS,(0,cl.ZP)((function(e,t){(0,np.Z)(e,(0,pt.default)(t,"payload.objToken"))}))),(0,c.Z)(PT,Sf.H.MOVE_PIN_SUCCESS,(0,cl.ZP)((function(e,t){var n=(0,pt.default)(t,"payload.file.objToken"),r=(0,pt.default)(t,"payload.frontFile.objToken");if((0,np.Z)(e,n),r){var o=e.indexOf(r);-1!==o&&e.splice(o+1,0,n)}else e.unshift(n)}))),(0,c.Z)(PT,(0,_.combineActions)(f.Hp.explorer.DELETE_OBJECT_SUCCESS,f.Hp.explorer.DELETE_FOLDER_OBJECT_SUCCESS),(0,cl.ZP)((function(e,t){var n=t.payload.success_obj_token;(0,CT.Z)(e,(function(e){return n.includes(e)}))}))),PT),[]),op=(0,cl.ZP)((function(e,t){var n=t.payload,r=n.node_list,o=n.offset,i=n.entities.nodes,c=n.isContinuous,u=(0,AT.b7)(r,i);if(!c)return u;e.splice.apply(e,[o,u.length].concat((0,a.Z)(u)))})),ip=(0,_.handleActions)((0,c.Z)({},Sn.H.FETCH_RECENT_OBJS_IN_SUITE_BACK_NAV_SUCCESS,op),[]),ap=(0,_.handleActions)((gT={},(0,c.Z)(gT,Sn.H.FETCH_RECENT_OBJS_SUCCESS,op),(0,c.Z)(gT,Sn.H.SET_RECENT_OBJ_TOKENS,(0,cl.ZP)((function(e,t){return t.payload.tokens}))),(0,c.Z)(gT,f.Hp.explorer.INSERT_UPLOADED_FILE_TO_RECENT,(0,cl.ZP)((function(e,t){var n=t.payload;n.is_import||e.unshift(n.obj_token)}))),(0,c.Z)(gT,f.Hp.explorer.DELETE_RECENT_RECORD_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload.objTokens;(0,CT.Z)(e,(function(e){return n.includes(e)}))}))),(0,c.Z)(gT,f.Hp.explorer.DELETE_OBJECT_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload.success_obj_token;(0,CT.Z)(e,(function(e){return n.includes(e)}))}))),(0,c.Z)(gT,f.Hp.explorer.REMOVE_CHILD_FROM_FATHER_INDEX,(0,cl.ZP)((function(e,t){t.payload.listName.includes(E.Gv.Recent)&&DT(e,t.payload)}))),gT),[]),cp=(0,_.handleActions)((MT={},(0,c.Z)(MT,bu.H.FETCH_MY_SPACE_FOLDER_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload,r=n.node_list,o=n.entities.nodes;return(0,AT.b7)(r,o)}))),(0,c.Z)(MT,f.Hp.explorer.REMOVE_CHILD_FROM_FATHER_INDEX,(0,cl.ZP)((function(e,t){t.payload.listName.includes(E.Gv.MyFolder)&&DT(e,t.payload)}))),MT),[]),up=(0,_.handleActions)((bT={},(0,c.Z)(bT,Zu.H.FETCH_MY_SPACE_2_NEW_FOLDER_SUCCESS,(0,cl.ZP)((function(e,t){switch(t.payload.fetchType){case Ze.hh.FetchNormal:return function(e,t){var n=t.payload,r=n.entities,o=n.node_list,i=n.has_more,a=n.last_label,c=e.tokenList;return{hasMore:i,tokenList:(0,ll.Z)(c.concat((0,AT.b7)(o,r.nodes))),lastLabel:a}}(e,t);case Ze.hh.FetchReset:return function(e,t){var n=t.payload,r=n.entities,o=n.node_list,i=n.has_more,a=n.last_label;return{hasMore:i,tokenList:(0,AT.b7)(o,r.nodes),lastLabel:a}}(0,t);default:return e}}))),(0,c.Z)(bT,f.Hp.explorer.REMOVE_CHILD_FROM_FATHER_INDEX,(0,cl.ZP)((function(e,t){return t.payload.listName.includes(E.Gv.MyFolder2)?(DT(e.tokenList,t.payload),e):e}))),bT),{hasMore:!1,tokenList:[],lastLabel:""}),sp=function(e,t){var n=t.payload,r=n.entities,o=n.node_list,i=n.has_more,a=n.last_label,c=e.tokenList;return{hasMore:i,tokenList:(0,ll.Z)(c.concat((0,AT.b7)(o,r.nodes))),lastLabel:a}},_p=function(e,t){var n=t.payload,r=n.entities,o=n.node_list,i=n.has_more,a=n.last_label;return{hasMore:i,tokenList:(0,AT.b7)(o,r.nodes),lastLabel:a}},Ep=(0,_.handleActions)((kT={},(0,c.Z)(kT,ts.H.FETCH_V2_SHARED_FOLDERS_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload,r=n.hidden,o=n.fetchType;if(r!==Ze.u1.FetchVisible)return e;switch(o){case Ze.hh.FetchNormal:return sp(e,t);case Ze.hh.FetchReset:return _p(0,t);default:return e}}))),(0,c.Z)(kT,ts.H.SHOW_V2_SHARED_FOLDER_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload.token;if(n&&!e.tokenList.includes(n)){var r=e;return r.tokenList.push(n),r}return e}))),(0,c.Z)(kT,ts.H.HIDE_V2_SHARED_FOLDER_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload.token;if(n){var r=e;return r.tokenList=(0,np.Z)(e.tokenList,n),r}return e}))),(0,c.Z)(kT,f.Hp.explorer.REMOVE_CHILD_FROM_FATHER_INDEX,(0,cl.ZP)((function(e,t){t.payload.listName.includes(E.Gv.SharedFolder2)&&DT(e.tokenList,t.payload)}))),kT),{hasMore:!1,tokenList:[],lastLabel:""}),lp=(0,_.handleActions)((wT={},(0,c.Z)(wT,ts.H.FETCH_V2_SHARED_FOLDERS_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload,r=n.hidden,o=n.fetchType;if(r!==Ze.u1.FetchHidden)return e;switch(o){case Ze.hh.FetchNormal:return sp(e,t);case Ze.hh.FetchReset:return _p(0,t);default:return e}}))),(0,c.Z)(wT,ts.H.SHOW_V2_SHARED_FOLDER_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload.token;if(n){var r=e;return r.tokenList=(0,np.Z)(e.tokenList,n),r}return e}))),(0,c.Z)(wT,ts.H.HIDE_V2_SHARED_FOLDER_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload.token;if(n&&!e.tokenList.includes(n)){var r=e;return r.tokenList.push(n),r}return e}))),(0,c.Z)(wT,f.Hp.explorer.REMOVE_CHILD_FROM_FATHER_INDEX,(0,cl.ZP)((function(e,t){t.payload.listName.includes(E.Gv.SharedFolder2)&&DT(e.tokenList,t.payload)}))),wT),{hasMore:!1,tokenList:[],lastLabel:""}),fp=(0,_.handleActions)((HT={},(0,c.Z)(HT,qu.H.HIDE_SHARE_FOLDER_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload.token;(0,np.Z)(e,n)}))),(0,c.Z)(HT,qu.H.SHOW_SHARE_FOLDER_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload.token;e.push(n)}))),(0,c.Z)(HT,qu.H.FETCH_ROOT_SHARE_FOLDER_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload,r=n.hidden,o=n.node_list,i=n.entities.nodes;return r===Ze.u1.FetchVisible?(0,AT.b7)(o,i):e}))),(0,c.Z)(HT,f.Hp.explorer.REMOVE_CHILD_FROM_FATHER_INDEX,(0,cl.ZP)((function(e,t){t.payload.listName.includes(E.Gv.SharedFolder)&&DT(e,t.payload)}))),HT),[]),dp=(0,_.handleActions)((UT={},(0,c.Z)(UT,qu.H.HIDE_SHARE_FOLDER_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload.token;e.push(n)}))),(0,c.Z)(UT,qu.H.SHOW_SHARE_FOLDER_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload.token;(0,np.Z)(e,n)}))),(0,c.Z)(UT,qu.H.FETCH_ROOT_SHARE_FOLDER_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload,r=n.hidden,o=n.node_list,i=n.entities.nodes;return r===Ze.u1.FetchHidden?(0,AT.b7)(o,i):e}))),(0,c.Z)(UT,f.Hp.explorer.REMOVE_CHILD_FROM_FATHER_INDEX,(0,cl.ZP)((function(e,t){t.payload.listName.includes(E.Gv.SharedFolder)&&DT(e,t.payload)}))),UT),[]),Tp=(0,_.handleActions)((0,c.Z)({},qu.H.FETCH_ROOT_SHARE_FOLDER_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload,r=n.beShared,o=n.node_list,i=n.entities.nodes;return r?(0,AT.b7)(o,i):e}))),[]),pp=(0,_.handleActions)((FT={},(0,c.Z)(FT,ls.H.FETCH_ALL_TEAM_SPACE_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload,r=n.node_list,o=n.entities.nodes,i=n.isContinuous,a=(0,AT.b7)(r,o);return i?e.concat(a):a}))),(0,c.Z)(FT,f.Hp.permission.POST_LEAVE_TEAM_SPACE_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload.token;(0,np.Z)(e,n)}))),(0,c.Z)(FT,f.Hp.explorer.REMOVE_CHILD_FROM_FATHER_INDEX,(0,cl.ZP)((function(e,t){t.payload.listName.includes(E.Gv.TeamSpace)&&DT(e,t.payload)}))),FT),[]),Sp=(0,_.handleActions)((ZT={},(0,c.Z)(ZT,Is.H.FETCH_SHARE_LIST_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload,r=n.node_list,o=n.entities.nodes,i=n.isContinuous,a=(0,AT.b7)(r,o);return i?e.concat(a):a}))),(0,c.Z)(ZT,p.H.SET_LIST_VIEW_FILTERING_SETTING,(0,cl.ZP)((function(e,t){return t.payload.listName!==E.Gv.SharedWithMe2||T.FQ?e:[]}))),ZT),[]),Ip=(0,_.handleActions)((0,c.Z)({},Is.H.FETCH_ALL_SHARE_FOLDERS_LIST_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload,r=n.entities,o=n.node_list;return(0,AT.b7)(o,r.nodes)}))),[]),Op=(0,_.handleActions)((xT={},(0,c.Z)(xT,On.H.FETCH_SHARE_OBJECTS_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload,r=n.node_list,o=n.entities.nodes,i=n.isContinuous,a=(0,AT.b7)(r,o);return i?e.concat(a):a}))),(0,c.Z)(xT,f.Hp.explorer.DELETE_SHARED_RECORD_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload.objTokens;(0,CT.Z)(e,(function(e){return n.includes(e)}))}))),xT),[]),Rp=n(598498),mp=n(440702),Ap=["token"],Cp=function(e){var t=(0,pt.default)(e,"meta.previousAction.payload",{}),n=t.isHome,r=void 0!==n&&n,o=t.isDiscoverPage,i=void 0!==o&&o,a=(0,fe.locateRoute)(),c=a.isHome,u=a.isDiscoverPage;return r===c&&i===u},hp=(0,_.handleActions)((BT={},(0,c.Z)(BT,"".concat(mp.H.FETCH_RECOMMEND_LIST,"_SUCCESS"),(0,cl.ZP)((function(e,t){if(!t.payload||!Cp(t))return e;var n=t.payload.entities.nodes;for(var r in n)e[r]=Object.assign({},(0,sl._A)(n[r]),{wikiToken:r});return e}))),(0,c.Z)(BT,(0,_.combineActions)("".concat(f.Hp.like.globalLike.POST_GLOBAL_LIKE_SUCCESS),"".concat(f.Hp.like.globalLike.POST_GLOBAL_DISLIKE_SUCCESS)),(0,cl.ZP)((function(e,t){if(!t.payload)return e;var n=t.payload.wikiToken,r=e[n];if(!r)return e;var o=r.extraInfo;return e[n]=Object.assign({},r,{extraInfo:o?Object.assign({},o,{likeCount:o.isLike?Math.max(o.likeCount-1,0):o.likeCount+1,isLike:!o.isLike}):void 0}),e}))),(0,c.Z)(BT,(0,_.combineActions)(If.H.ADD_STAR_SUCCESS,If.H.REMOVE_STAR_SUCCESS),(0,cl.ZP)((function(e,t){if(!t.payload)return e;var n=t.payload.objToken,r=e[n];if(!r)return e;var o=t.type===If.H.ADD_STAR_SUCCESS;return e[n]=Object.assign({},r,{isStared:o}),e}))),BT),{}),vp=(0,_.handleActions)((WT={},(0,c.Z)(WT,mp.H.CLEAR_RECOMMEND_LIST,(0,cl.ZP)((function(){return[]}))),(0,c.Z)(WT,"".concat(mp.H.FETCH_RECOMMEND_LIST,"_SUCCESS"),(0,cl.ZP)((function(e,t){if(!t.payload||!Cp(t))return e;var n=t.payload.node_list,r=void 0===n?[]:n;return r.length?(0,ll.Z)([].concat((0,a.Z)(e),(0,a.Z)(r))):e}))),(0,c.Z)(WT,Rp.LOCATION_CHANGE,(0,cl.ZP)((function(e,t){return(0,pt.default)(t,"payload.isPathChanged",!0)&&e.length?[]:e}))),WT),[]),Dp=(0,_.handleActions)((0,c.Z)({},"".concat(mp.H.FETCH_RECOMMEND_LIST,"_SUCCESS"),(0,cl.ZP)((function(e,t){if(t.payload&&Cp(t)){var n=t.payload.entities.users,r=void 0===n?[]:n;for(var o in r)e[o]=(0,sl._A)(r[o]);return e}}))),{}),Np=(0,_.handleActions)((GT={},(0,c.Z)(GT,Rp.LOCATION_CHANGE,(0,cl.ZP)((function(e,t){return(0,pt.default)(t,"payload.isPathChanged",!0)?{}:e}))),(0,c.Z)(GT,mp.H.CACHE_RECOMMEND_FEED_ITEM_THUMBNAIL,(0,cl.ZP)((function(e,t){var n=t.payload,r=n.token,o=(0,_n.Z)(n,Ap),i=e[r];return i?Object.assign({},e,(0,c.Z)({},r,Object.assign({},i,{},o))):(e[r]=o,e)}))),GT),{}),Lp=(0,_.handleActions)((KT={},(0,c.Z)(KT,If.H.FETCH_STAR_LIST_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload,r=n.node_list,o=n.entities.nodes,i=n.isContinuous,a=(0,AT.b7)(r,o);return i?e.concat(a):a}))),(0,c.Z)(KT,If.H.REMOVE_STAR_SUCCESS,(0,cl.ZP)((function(e,t){(0,np.Z)(e,(0,pt.default)(t,"payload.objToken"))}))),(0,c.Z)(KT,(0,_.combineActions)(f.Hp.explorer.DELETE_OBJECT_SUCCESS,f.Hp.explorer.DELETE_FOLDER_OBJECT_SUCCESS),(0,cl.ZP)((function(e,t){var n=t.payload.success_obj_token;(0,CT.Z)(e,(function(e){return n.includes(e)}))}))),(0,c.Z)(KT,If.H.INSERT_TO_STAR_LIST_HEAD,(0,cl.ZP)((function(e,t){var n=t.payload.objToken;e.unshift(n)}))),KT),[]),yp=(0,_.handleActions)((VT={},(0,c.Z)(VT,ln.H.FETCH_ROOT_DUSTBIN_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload,r=n.node_list,o=n.entities.nodes,i=(0,AT.b7)(r,o);e[0]=i}))),(0,c.Z)(VT,ln.H.FETCH_ROOT_DUSTBIN_V2_SUCCESS,(0,cl.ZP)((function(e,t){var n=t.payload,r=n.node_list,o=n.entities.nodes,i=n.isContinuous,a=(0,AT.b7)(r,o);e[1]=i?e[1].concat(a):a}))),(0,c.Z)(VT,(0,_.combineActions)(f.Hp.explorer.RESTORE_REMOVED_FILE_SUCCESS,f.Hp.explorer.DELETE_REMOVED_FILE_SUCCESS),(0,cl.ZP)((function(e,t){var n=t.payload.success_tokens;(0,CT.Z)(e[0],(function(e){return n.includes(e)})),(0,CT.Z)(e[1],(function(e){return n.includes(e)}))}))),VT),[[],[]]),Pp=(0,_.handleActions)((0,c.Z)({},ln.H.FETCH_DUSTBIN_CHILDREN_SUCCESS,(function(e,t){var n=t.payload,r=n.token,o=n.node_list,i=void 0===o?[]:o,a=n.entities.nodes,u=(0,AT.b7)(i,a);return e.merge((0,c.Z)({},r,{nodeList:u}))})),(0,u.D5)()),gp=(0,_.handleActions)((jT={},(0,c.Z)(jT,(0,_.combineActions)(RE.H.FETCH_FOLDER_FILE_META_SUCCESS,RE.H.FETCH_FOLDER_FILE_META_V2_SUCCESS),(0,cl.ZP)((function(e,t){var n=t.payload,r=n.token,o=n.node_list,i=n.entities.nodes,c=n.isContinuous,u=(0,AT.b7)(o,i),s=e[r];c&&s?s.push.apply(s,(0,a.Z)(u)):e[r]=u}))),(0,c.Z)(jT,f.Hp.explorer.REMOVE_CHILD_FROM_FATHER_INDEX,(0,cl.ZP)((function(e,t){t.payload.listName.includes(E.Gv.Folder)&&vT(e,t.payload)}))),jT),{}),Mp=n(271484),bp=n(565726),kp=n(204113),wp=n(585052);!function(e){e.ADD="ADD",e.DELETE="DELETE"}(qT||(qT={}));var Hp,Up,Fp=(0,_.handleActions)((YT={},(0,c.Z)(YT,f.Hp.route.LOCATION_CHANGE,(function(e,t){var n,r=t.payload.pathname,o=/folder\/(\S+)\/*/.exec(r);return o&&(n=o[1].replace(/\/*$/,"")),n?(window.fileToken=n,n):(0,fe.locateRoute)(r).isShared&&!T.MT?e:""})),(0,c.Z)(YT,wp.H.SET_ROOT_META,(function(e,t){return t.payload.token})),YT),""),Zp=(0,_.handleActions)((JT={},(0,c.Z)(JT,(0,_.combineActions)(RE.H.FETCH_FOLDER_FILE_META_SUCCESS,RE.H.FETCH_FOLDER_FILE_META_V2_SUCCESS,RE.H.FETCH_FOLDER_FILE_META_FAIL,RE.H.FETCH_FOLDER_FILE_META_V2_FAIL),(function(e,t){if((0,pt.default)(t,"payload.isContinuous",!1))return e;if(t.type.match(/_FAIL$/)){var n=t.error;return{isReady:!0,error:{code:n.code,data:n.data,meta:n.meta,msg:n.msg}}}return{isReady:!0}})),(0,c.Z)(JT,f.Hp.route.LOCATION_CHANGE,(function(e,t){return{isReady:!1}})),JT),{isReady:!1}),xp=(0,_.handleActions)((XT={},(0,c.Z)(XT,(0,_.combineActions)(RE.H.FETCH_FOLDER_FILE_META_SUCCESS,RE.H.FETCH_FOLDER_FILE_META_FAIL,wp.H.FETCH_FOLDER_PATH_V2_SUCCESS,wp.H.FETCH_FOLDER_PATH_V2_FAIL),(0,cl.ZP)((function(e,t){var n="",r=!1,o=null;if([RE.H.FETCH_FOLDER_FILE_META_SUCCESS,RE.H.FETCH_FOLDER_FILE_META_FAIL].includes(t.type)?(n=(0,pt.default)(t,"payload.token",""),r=(0,pt.default)(t,"payload.isContinuous",!1)):[wp.H.FETCH_FOLDER_PATH_V2_SUCCESS,wp.H.FETCH_FOLDER_PATH_V2_FAIL].includes(t.type)&&(n=(0,pt.default)(t,"payload.objToken","")),[RE.H.FETCH_FOLDER_FILE_META_SUCCESS,wp.H.FETCH_FOLDER_PATH_V2_SUCCESS].includes(t.type)?o=qT.ADD:[RE.H.FETCH_FOLDER_FILE_META_FAIL,wp.H.FETCH_FOLDER_PATH_V2_FAIL].includes(t.type)&&(o=qT.DELETE),n&&!r&&o)if(o===qT.ADD){var i=t.payload,a=i.path,c=i.entities.nodes;e[n]={path:(0,kp.GE)(a,c),virtualRootToken:(0,kp.Tl)(a,c[(0,Mp.Z)(a)])}}else o===qT.DELETE&&delete e[n]}))),(0,c.Z)(XT,wp.H.SET_FOLDER_PATH,(0,cl.ZP)((function(e,t){var n=t.payload,r=n.targetToken,o=e[n.parentToken];if(o){var i=o.path,c=o.virtualRootToken;e[r]={path:[].concat((0,a.Z)(i),[r]),virtualRootToken:c}}}))),(0,c.Z)(XT,wp.H.DELETE_FOLDER_PATH,(0,cl.ZP)((function(e,t){var n=t.payload.token,r=(0,hT.Z)(n)?[n]:n;(0,bp.Z)(r,(function(t){delete e[t]}))}))),XT),{}),Bp=(0,_.handleActions)((Hp={},(0,c.Z)(Hp,f.Hp.explorer.SET_SELECTED_FILE_METAS,(0,cl.ZP)((function(e,t){if(t.payload)return t.payload}))),(0,c.Z)(Hp,f.Hp.route.LOCATION_CHANGE,(0,cl.ZP)((function(e,t){var n=t.payload.isPathChanged;return e.length>0&&n?[]:e}))),Hp),[]),Wp=function(e){return function(t,n){var r=n.payload,o=r.has_more,i=r.last_label;return t.set(e,u.ZP.Map({lastLabel:i,hasMore:o}))}},Gp=function(e){return(0,c.Z)({},e,{hasMore:!0})},Kp=(0,_.handleActions)((Up={},(0,c.Z)(Up,ln.H.FETCH_ROOT_DUSTBIN_V2_SUCCESS,Wp(Ne.PaginationType.DustbinObject)),(0,c.Z)(Up,On.H.FETCH_SHARE_OBJECTS_SUCCESS,Wp(Ne.PaginationType.ShareObjects)),(0,c.Z)(Up,Sn.H.FETCH_RECENT_OBJS_SUCCESS,Wp(Ne.PaginationType.Recent)),(0,c.Z)(Up,Sn.H.FETCH_RECENT_OBJS_IN_SUITE_BACK_NAV_SUCCESS,Wp(Ne.PaginationType.RecentInBackNav)),(0,c.Z)(Up,pn.H.FETCH_MY_OBJECT_LIST_SUCCESS,Wp(Ne.PaginationType.MyObjectList)),(0,c.Z)(Up,k.H.rule.GET_SMART_COLLECTION_SUITE_LIST_SUCCESS,Wp(Ne.PaginationType.Collection)),(0,c.Z)(Up,Sn.H.SET_RECENT_OBJ_TOKENS,(function(e,t){var n=t.payload,r=n.hasMore,o=n.lastLabel;return 0===t.payload.tokens.length?e.set(Ne.PaginationType.Recent,u.ZP.Map({hasMore:!1,lastLabel:""})):e.update(Ne.PaginationType.Recent,(function(e){return e.merge({hasMore:r,lastLabel:o})}))})),(0,c.Z)(Up,k.H.rule.SET_COLLECTION_LIST_TOKENS,(function(e,t){return 0!==t.payload.tokens.size?e:e.set(Ne.PaginationType.Collection,u.ZP.Map({hasMore:!0}))})),(0,c.Z)(Up,k.H.permission.FETCH_AUTHORIZED_MEMBERS_V2_SUCCESS,Wp(Ne.PaginationType.AuthorizedMembersV2)),(0,c.Z)(Up,k.H.permission.FETCH_SINGLE_CONTAINER_FOLDER_MEMBERS_SUCCESS,Wp(Ne.PaginationType.FolderV3Members)),(0,c.Z)(Up,k.H.permission.FETCH_APP_SHARE_MEMBERS_SUCCESS,Wp(Ne.PaginationType.AppShareMembers)),Up),u.ZP.fromJS(Object.assign({},Gp(Ne.PaginationType.ShareObjects),{},Gp(Ne.PaginationType.Recent),{},Gp(Ne.PaginationType.Collection),{},Gp(Ne.PaginationType.MyObjectList),{},Gp(Ne.PaginationType.RecentInBackNav),{},Gp(Ne.PaginationType.AuthorizedMembersV2),{},Gp(Ne.PaginationType.FolderV3Members),{},Gp(Ne.PaginationType.AppShareMembers),{},Gp(Ne.PaginationType.DustbinObject)))),Vp=(0,_.handleActions)((0,c.Z)({},f.Hp.explorer.SET_CURRENT_DRAGGING_ITEMS,(function(e,t){var n=t.payload.reduce((function(e,t){var n=t.meta_token;return e.set(n,t)}),u.ZP.Map());return n})),u.ZP.Map({})),jp=n(795782);var Yp=n(43986);var Jp=(0,Qc.Dv)(),Xp=[{type:Ms.APP_INITIALIZE},(0,n_.k)(),(0,P_.Y)(pE.u.APP_BASE)],qp=[bs(),(0,n_.k)()];function Qp(){var e;return{id:pE.u.APP_BASE,reducerMap:(e={appState:RT(),indexes:(0,s.combineReducers)({selectedFileMetas:Bp,mySpaceListTokens:tp,shareListTokens:Sp,starListTokens:Lp,pinListTokens:rp,objPaths:Vd,folderPath:xp,objContainerV2:yf,objContainerV3:gf,currentFileToken:Fp,currentFolderStatus:Zp,shareObjectTokens:Op,myObjectTokens:$T,mySpace2NewObjectTokens:ep,recentObjectTokens:ap,recentObjectTokensInBackNav:ip,folderTokenListMap:gp,folderTreeTokenListMap:zT,shareFolderTokens:fp,recommendNodeMap:hp,recommendUserMap:Dp,recommendFeedThumbailCacheMap:Np,recommendNodeTokens:vp,rootDustbinTokens:yp,hiddenShareFolderTokens:dp,beSharedFolderTokens:Tp,allSharedWithMeV2FolderTokens:Ip,mySpaceFolderTokens:cp,mySpace2NewFolderTokens:up,teamSpaceTokens:pp,dustbinChildren:Pp,collectionIds:jp.r0,collectionTokens:jp.F7,visibleSharedWithMeV2FolderTokens:Ep,hiddenSharedWithMeV2FolderTokens:lp})},(0,c.Z)(e,pE.E.SPACE_COMMON_BASE,(0,s.combineReducers)({currentListName:Yp.pD,isHiddenSharedFolderVisible:Yp.dP,folderTreeExpandedKeys:QT,explorerPaginationInfo:Kp,currentDraggingItems:Vp})),(0,c.Z)(e,pE.E.SPACE_COMMON_LIST_VIEW,(0,s.combineReducers)({listViewSetting:S,recentListViewSetting:O})),(0,c.Z)(e,pE.E.GPE_COMMON_USER_GUIDE,y_),(0,c.Z)(e,pE.E.BOX_COMMON_BASE,t_),e),initialActions:Jp?qp:Xp,sagas:[wr,sc,la,Ws,w_,sn,hs,nr,An.ZP,dt,jr,bn,Vn,gc,Ma,O_,Ar,qc,wc].concat((0,a.Z)(ht.No?[Y]:[])),teaCommonParamsActionListeners:[C,Ps]}}},155284:function(e,t,n){"use strict";var r,o;n.d(t,{u:function(){return r},E:function(){return o}}),function(e){e.APP_BASE="APP_BASE",e.APP_ENTITIES="APP_ENTITIES",e.APP_PC="APP_PC",e.DOC_BASE="DOC_BASE",e.DOC_BIDIRECTIONAL_LINK_LIST="DOC_BIDIRECTIONAL_LINK_LIST",e.DOC_ONBOARDING="DOC_ONBOARDING",e.BOX_BASE="BOX_BASE",e.GPE_COMMON_COMMENT="GPE_COMMON_COMMENT",e.GPE_COMMON_UI_CONTROL="GPE_COMMON_UI_CONTROL",e.GPE_COMMON_USER_GUIDE="GPE_COMMON_USER_GUIDE",e.MINDNOTE_BASE="MINDNOTE_BASE",e.SHEET_BASE="SHEET_BASE",e.SPACE_BASE="SPACE_BASE",e.SPACE_EXPLORER_ASYNC="SPACE_EXPLORER_ASYNC",e.SPACE_LIST_VIEW="SPACE_LIST_VIEW",e.SPACE_ONBOARDING="SPACE_ONBOARDING",e.SPACE_PATH_TREE="SPACE_PATH_TREE",e.SPACE_RESENT_FOLDER_PATH="SPACE_RESENT_FOLDER_PATH",e.SPACE_SYNC_DISK="SPACE_SYNC_DISK",e.SPACE_MY_FOLDER_CONTAINER="SPACE_MY_FOLDER_CONTAINER",e.WIKI_BASE="WIKI_BASE",e.WIKI_SPACE="WIKI_SPACE"}(r||(r={})),function(e){e.APP_PC="app_pc",e.BOX_BASE="box_base",e.BOX_COMMON_BASE="box_common_base",e.DOC_BASE="doc_base",e.MINDNOTE_BASE="mindnote_base",e.SPACE_BASE="space_base",e.SPACE_COMMON_BASE="space_common_base",e.SPACE_COMMON_LIST_VIEW="space_common_list_view",e.SPACE_SYNC_DISK="space_sync_disk",e.GPE_COMMON_USER_GUIDE="gpe_common_user_guide"}(o||(o={}))},964862:function(e,t,n){"use strict";n.d(t,{k:function(){return pe}});var r,o=n(155284),i=n(464691),a=n(158181),c=n(258116),u=n(26278),s=n(764026),_=n(359980),E=n(455982),l=n(357081),f=n(228243),d=n(134408);function T(e,t,n){return S({key:n,preferred:e,backup:t})}function p(e,t,n){return S({key:n,preferred:t,backup:e})}function S(e){var t=e.key,n=e.preferred,r=e.backup;switch(t){case"delete_flag":case"create_source":case"share_version":case"owner_type":return"number"==typeof n?n:r;case"link_token":return void 0===n?r:n;case"space_id":case"description":return n}return"boolean"==typeof n?n:n||r}!function(e){e.REMOVE_USER_ENTITIES="REMOVE_USER_ENTITIES",e.RESET_USER_ENTITIES="RESET_USER_ENTITIES"}(r||(r={}));var I,O,R,m,A,C=n(169573),h=n(976667),v=["keep"],D=l.Hp.suffix,N=D.SUCCESS,L=D.COMPLETE,y=D.FAIL,P=D.ERROR,g=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,E.d0)({}),n=arguments.length>1?arguments[1]:void 0,o=n.type,i=n.payload;if(o===r.REMOVE_USER_ENTITIES){var a=i.userIds;return t.filter((function(e){return-1===a.indexOf(e.get("id"))}))}if(o===r.RESET_USER_ENTITIES)return(0,E.d0)({});var c=n[C.jN];if(c)e=c(n);else{var l=(0,d.Z)(n),S=l[C.Xh],I=l[C.t0],O=o.endsWith(N),R=o.endsWith(L),m=o.endsWith(y),A=o.endsWith(P);e=S&&(O||R)?S(n):I&&(m||A)?I(n):(0,_.default)(i,"entities.users")}if(!e||0===Object.keys(e).length)return t;var D=(0,s.Z)(e,(function(e,n){var r=t.get(e.id)||t.get(n),o=r&&r.isOverseaSpace?r.isOverseaSpace:e.isOverseaSpace,i=r&&r.is_anonymous?r.is_anonymous:e.is_anonymous?e.is_anonymous:e.is_Anonymous,a=e.tenant_id||r&&r.tenant_id||"",c=e.keep,s=(0,u.Z)(e,v),_=new f.n(Object.assign({},s,{isOverseaSpace:o,is_anonymous:i,tenant_id:a}));if(r&&c){var E=c===h.x.KeepNext?p:T;_=r.mergeWith(E,_)}return _}));return t.mergeDeep(D)},M=n(922081),b=n(774561),k=n(770302),w=n(622450),H=n(543369),U=n(829033),F=n(565726),Z=n(510940),x=n(290417),B=n.n(x),W=n(71665),G=n(157823),K=n(481382),V=n(812083),j=n(412840),Y=n(463636),J=["token","isFromNotification","is_owner","admin_can_cross","external_access","invite_external","ignore_anyone_link","has_link_password","link_password","anonymous_verify","link_share_entity","remind_anyone_link","security_entity","share_entity","comment_entity","lock_state","can_unlock","constraint","share_external_entity","manage_collaborator_entity","owner_perm_type","block_options"],X=["token","isFromNotification","owners","type","entities"],q=["token","type","publicPermission","external_access","invite_external"],Q=["entities","space_id"],z=["space_id","allow_cross_tenant","link_perm","exist_password","password","is_owner","admin_allow_cross","remind_anyone_link"],$=["space_id","allow_cross_tenant","link_perm","remind_anyone_link"],ee=["token","is_owner","admin_can_cross","external_access","link_share_entity","has_link_share","lock_state","can_unlock","has_link_password","link_password"],te=["token","external_access","link_share_entity","remind_anyone_link","need_spread"],ne=["token","type"];function re(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ie=[0];function ae(e,t){return!!(0,U.default)(t)||(t.size!==e.length||!e.every((function(e){return t.find((function(t){return e===t}))})))}var ce=function(e,t){var n=!1,r=!1,o=!1;return!(0,U.default)(t)&&ae(e,t)&&(n=!0,r=t.get(0)===K.PERMISSION.PRIVATE&&e[0]!==K.PERMISSION.PRIVATE,o=t.get(0)!==K.PERMISSION.PRIVATE&&e[0]===K.PERMISSION.PRIVATE),{isChanged:n,isPermissionOpened:r,isPermissionClosed:o}},ue=(0,Z.handleActions)((I={},(0,b.Z)(I,(0,Z.combineActions)(l.Hp.permission.FETCH_USER_PERMISSION_ON_SUITE_SUCCESS,l.Hp.permission.FETCH_ANONYMOUS_SUITE_PERMISSION_SUCCESS),(function(e,t){var n,r=t.payload,o=r.token,i=r.permissions,a=r.isFromNotification,c=r.contact_url,u=r.relationship_level,s=r.copy,_=r.print,E=r.isFullAccess,l=r.isContainerOrPageFA,f=r.permission_status_code,d=r.userAction,T=e.getIn([o,"permissions"]);n=0===i.length?ie:ae(i,T)?i:T;var p=ce(n,T);return e.mergeIn([o],{permissions:n,isFromNotification:a,contactUrl:c,relationshipLevel:u,copy:s,print:_,isFullAccess:E,isContainerOrPageFA:l,export:t.payload.export,permission_status_code:f,userActionMap:d,rawUserActionMap:JSON.stringify((0,H.default)(t.payload,["token","type"])||{})},p)})),(0,b.Z)(I,(0,Z.combineActions)(l.Hp.permission.FETCH_USER_PERMISSION_ON_SUITE_FAIL,l.Hp.permission.FETCH_ANONYMOUS_SUITE_PERMISSION_FAIL),(function(e,t){var n=t.payload,r=n.token,o=n.isFromNotification,i=t.error,a={isChanged:!0,isPermissionClosed:!0,isFromNotification:o};if([V.STATUS_CODE.FORBIDDEN,V.STATUS_CODE.NOTE_DELETED].includes((0,_.default)(i,"code")))return e.updateIn([r],(function(){return E.ZP.Map(a)}));if(i&&(0,Y.Vb)(i.code)&&i.data&&i.data.permissions){var c=i.data,u=c.permissions,s=c.contact_url,l=c.copy,f=c.print,d=c.relationship_level,T=e.getIn([r,"permissions"]);u=0===(u=(0,j.ZT)(u)).length?ie:u;var p=ce(u,T);a=Object.assign(a,p,{permissions:ae(u,T)?u:T,contactUrl:s,copy:l,print:f,export:i.data.export,relationshipLevel:d})}return e.mergeIn([r],a)})),(0,b.Z)(I,l.Hp.permission.FETCH_SUITE_PUBLIC_PERMISSION_SUCCESS,(function(e,t){var n=t.payload,r=n.token,o=n.isFromNotification,i=n.is_owner,a=n.admin_can_cross,c=n.external_access,s=n.invite_external,_=n.ignore_anyone_link,E=n.has_link_password,l=n.link_password,f=n.anonymous_verify,d=n.link_share_entity,T=(n.remind_anyone_link,n.security_entity),p=n.share_entity,S=n.comment_entity,I=n.lock_state,O=n.can_unlock,R=n.constraint,m=n.share_external_entity,A=n.manage_collaborator_entity,C=n.owner_perm_type,h=n.block_options,v=(0,u.Z)(n,J);return e.mergeIn([r],Object.assign({publicPermission:{securityEntity:T,shareEntity:p,commentEntity:S,linkShareEntity:d,shareExternalEntity:m,manageCollaboratorEntity:A},publicPermissionState:{securityEntity:T,shareEntity:p,commentEntity:S,linkShareEntity:d},isFromNotification:o,isOwner:i,ownerPermType:C,canCross:a,anonymousVerify:f,externalAccess:c,inviteExternal:s,ignoreAnyoneLink:_,hasLinkPassword:E,hasLinkPasswordState:E,linkPassword:l,lockState:I,canUnlock:O,rawPublicPermission:JSON.stringify((0,H.default)(t.payload,["token","type"])||{}),constraint:R,blockOptions:h},v))})),(0,b.Z)(I,l.Hp.permission.FETCH_AUTHORIZED_MEMBERS_SUCCESS,(function(e,t){var n=t.payload,r=n.token,o=n.isFromNotification,i=n.owners,a=n.type,c=n.entities,s=((0,u.Z)(n,X),c.users),_=i.map((function(e){return e.owner_type===K.OWNER_TYPE.DEPARTMENT&&(e.avatar_url=e.avatar_url||B()),Object.assign({},s[e.owner_id]||{},{},e)}));return null==t.payload.code?e.mergeIn([r],{authorizedMembers:_,type:a,isFromNotification:o}):e.deleteIn(["authorizedMembers"])})),(0,b.Z)(I,l.Hp.permission.FETCH_AUTHORIZED_MEMBERS_V2_SUCCESS,(function(e,t){var n=t.payload,r=n.token,o=n.type,i=n.isFromNotification,a=n.members,c=n.entities,u=n.total_num,s=n.offset,_=n.isContinuous,l=c.users,f=a.map((function(e){return e.owner_type===K.OWNER_TYPE.DEPARTMENT&&(e.avatar_url=e.avatar_url||B()),Object.assign({},l[e.owner_id]||{},{},e)})),d=f;if(_){var T=f.map((function(e){return E.ZP.Map(e)}));d=e.getIn([r,"authorizedMembersV2"]).splice(s).concat(T)}return e.mergeIn([r],{authorizedMembersV2:d,totalNum:u,type:o,isFromNotification:i})})),(0,b.Z)(I,l.Hp.permission.FETCH_AUTHORIZED_MEMBERS_COUNT_SUCCESS,(function(e,t){var n=t.payload,r=n.count,o=n.token;return e.mergeIn([o],{totalNum:r})})),(0,b.Z)(I,l.Hp.permission.FETCH_APP_SHARE_MEMBERS_SUCCESS,(function(e,t){var n=t.payload,r=n.apps,o=n.token,i=r||[];if(n.isContinuous){var a=r.map((function(e){return E.ZP.Map(e)}));i=e.getIn([o,"appShareMembers"]).concat(a)}return e.mergeIn([o],{appShareMembers:i})})),(0,b.Z)(I,l.Hp.permission.FETCH_RECOMMEND_APP_MEMBERS_SUCCESS,(function(e,t){var n=t.payload,r=n.unavailableAppList,o=void 0===r?[]:r,i=n.availableAppList,a=void 0===i?[]:i,c=n.token;return e.mergeIn([c],{unavailableAppList:o,recommendAppList:a})})),(0,b.Z)(I,l.Hp.permission.FETCH_EMBED_OBJECT_PERMISSION_SUCCESS,(function(e,t){var n=t.payload,r=n.token,o=n.type,i=n.child_objects,a=void 0===i?{}:i,c=n.perms,u=void 0===c?{}:c,s=e.getIn([r,"embedObjects"])||E.ZP.OrderedMap({}),_={};return Object.keys(a).forEach((function(e){var t=s.get(e)||E.ZP.OrderedMap({}),n=t.get("permission"),r=u[e];u[e]&&n>K.PERMISSION.READABLE&&(r=n),void 0!==u[e]&&(_[e]=Object.assign({},t.toJS(),{permission:r}))})),_=s.merge(_),e.mergeIn([r],{embedObjects:_,type:o})})),(0,b.Z)(I,l.Hp.permission.FETCH_EMBED_OBJECT_MEMBERS_SUCCESS,(function(e,t){var n,r=t.payload,o=r.token,i=r.type,a=r.child_token,c=(r.child_type,r.members),u=r.has_more,s=r.last_label,_=void 0===s?"":s,l=r.lastLabel,f=e.getIn([o,"embedObjects"]),d=f.get(a)||E.ZP.OrderedMap({}),T=d.get("ownersWithoutPerm")||E.ZP.List([]);n=l?T.toJS().concat(c):c;var p=f.mergeIn([a],Object.assign({},d.toJS(),{ownersWithoutPerm:n,paginationInfo:{hasMore:u,lastLabel:_}}));return e.mergeIn([o],{embedObjects:p,type:i})})),(0,b.Z)(I,l.Hp.permission.FETCH_USER_PERMISSION_ON_EMBED_OBJECT_SUCCESS,(function(e,t){var n=t.payload,r=n.parentToken,o=n.child_token,i=n.permissions,a=(n.child_type,e.getIn([r,"embedObjects"])||E.ZP.Map({})),c={},u=a.get(o)||E.ZP.fromJS({ownersWithoutPerm:[],owner:null});return void 0!==i&&(c[o]=u.merge({permission:i})),c=a.merge(c),e.mergeIn([r],{embedObjects:c})})),(0,b.Z)(I,l.Hp.permission.FETCH_USER_PERMISSION_ON_EMBED_OBJECT_FAIL,(function(e,t){var n=t.error;if(n.meta&&n.meta.owner){var r=t.payload,o=r.parentToken,i=r.child_token,a=e.getIn([o,"embedObjects"])||E.ZP.Map({}),c=(a.get(i)||E.ZP.fromJS({})).merge({owner:n.meta.owner,permission:ie[0]}),u=a.merge((0,b.Z)({},i,c));return e.mergeIn([o],{embedObjects:u})}return e})),(0,b.Z)(I,l.Hp.permission.SET_SUITE_PUBLIC_PERMISSION_SUCCESS,(function(e,t){var n=t.payload,r=n.token,o=(n.type,n.publicPermission),i=n.external_access,a=n.invite_external,c=(0,u.Z)(n,q),s=(0,w.Z)({externalAccess:i,inviteExternal:a},U.default),_={};(0,j.f6)(o.linkShareEntity)||(_={hasLinkPassword:!1,hasLinkPasswordState:!1,linkPassword:""});var l=(e.getIn([r,"publicPermission"])||E.ZP.Map({})).merge(o);return e.mergeIn([r],Object.assign({publicPermission:l,publicPermissionState:l},_,{},s,{},c))})),(0,b.Z)(I,l.Hp.permission.SET_SUITE_PUBLIC_PERMISSION_STATE,(function(e,t){var n=t.payload,r=n.token,o=n.publicPermission;return e.mergeIn([r],{publicPermissionState:o})})),(0,b.Z)(I,l.Hp.permission.REMOVE_AUTHORIZED_MEMBERS_SUCCESS,(function(e,t){var n,r=t.payload,o=r.token,i=(r.type,r.owner_id),a=r.owner_type,c=e.getIn([o,"authorizedMembersV2"],E.ZP.List()).findIndex((function(e){return e.get("owner_id")===i&&e.get("owner_type")===a}));if(a===K.OWNER_TYPE.NEW_WIKI_ADMIN||a===K.OWNER_TYPE.NEW_WIKI_MEMBER)return e.updateIn([o,"authorizedMembersV2",c],(function(e){return e.merge({permissions:K.PERMISSION.PRIVATE,perm_source:""})}));if(n=-1===c?e:e.deleteIn([o,"authorizedMembersV2",c]).updateIn([o,"totalNum"],(function(e){return e-1})),a===K.OWNER_TYPE.APP){var u=n.getIn([o,"appShareMembers"],E.ZP.List()).findIndex((function(e){return e.get("owner_id")===i}));-1!==u&&(n=n.deleteIn([o,"appShareMembers",u]))}return n})),(0,b.Z)(I,l.Hp.permission.UPDATE_AUTHORIZED_MEMBERS,(function(e,t){var n=t.payload,r=n.token,o=(n.type,n.data),i=o.index,a=o.member;return a&&0!==a.size?e.setIn([r,"authorizedMembersV2",i],a):e})),(0,b.Z)(I,l.Hp.permission.SET_USER_PERMISSION_FROM_CLIENT_VARS,(function(e,t){var n=t.payload,r=n.token,o=n.permissions,i=(0,k.Z)(o),a=(0,j.w2)(i,r),c=(0,j.ZT)(a);return ae(c,e.getIn([r,"permissions"]))?e.mergeIn([r],{permissions:c}):e})),(0,b.Z)(I,l.Hp.permission.FETCH_AUTHORIZED_USERS_SUCCESS,(function(e,t){for(var n=t.payload,r=n.token,o=n.permissions,i=0,a=Object.entries(o);i<a.length;i++){var c=(0,M.Z)(a[i],2),u=c[0],s=c[1];s!==e.getIn([r,"authorizedUsers",u])&&(e=e.setIn([r,"authorizedUsers",u],s))}return e})),(0,b.Z)(I,l.Hp.permission.REMOVE_AUTHORIZED_USERS,(function(e,t){var n,r=t.payload,o=r.token,i=re(r.userList);try{for(i.s();!(n=i.n()).done;){var a=n.value;e=e.deleteIn([o,"authorizedUsers",a])}}catch(e){i.e(e)}finally{i.f()}return e})),(0,b.Z)(I,l.Hp.permission.REMOVE_EMBED_OBJECTS,(function(e,t){var n,r=t.payload,o=r.token,i=re(r.embedObjectList);try{for(i.s();!(n=i.n()).done;){var a=n.value;e=e.deleteIn([o,"embedObjects",a])}}catch(e){i.e(e)}finally{i.f()}return e})),(0,b.Z)(I,l.Hp.permission.POST_PASSWORD_CREATE_SUCCESS,(function(e,t){var n=t.payload,r=n.token,o=n.password;return n.spaceId?e:e.mergeIn([r],{hasLinkPassword:!0,hasLinkPasswordState:!0,linkPassword:o})})),(0,b.Z)(I,l.Hp.permission.POST_PASSWORD_DELETE_SUCCESS,(function(e,t){var n=t.payload,r=n.token;return n.spaceId?e:e.mergeIn([r],{hasLinkPassword:!1,hasLinkPasswordState:!1,linkPassword:""})})),(0,b.Z)(I,l.Hp.permission.POST_PASSWORD_REFRESH_SUCCESS,(function(e,t){var n=t.payload,r=n.token,o=n.password;return n.spaceId?e:e.mergeIn([r],{linkPassword:o})})),(0,b.Z)(I,l.Hp.permission.SET_HAS_LINK_PASSWORD_STATE,(function(e,t){var n=t.payload,r=n.token,o=n.spaceId,i=n.hasLinkPassword;return o?e:e.mergeIn([r],{hasLinkPasswordState:i})})),(0,b.Z)(I,l.Hp.permission.FETCH_MEMBERS_EXIST_V2_SUCCESS,(function(e,t){var n=t.payload,r=n.token,o=(n.type,n.existed_members);return e.mergeIn([r],{membersExistV2:o.map((function(e){return{owner_id:e.member_id,owner_type:e.member_type,permissions:e.perm}}))})})),(0,b.Z)(I,l.Hp.permission.FETCH_SUITE_PERMISSION_CONFIG_SUCCESS,(function(e,t){var n=t.payload,r=n.token,o=(n.type,n.permission),i=n.edit_perm_desc,a=n.view_perm_desc,c=n.enable_external_access,u=n.enable_invitation_setting,s=n.comment_setting,_=n.security_setting,E=n.available_link_share_setting;return e.mergeIn([r,"config"],{allowedPermission:o,editPermDesc:i,viewPermDesc:a,enableExternalAccess:!!(0,U.default)(c)||c,enableInvitationSetting:!!(0,U.default)(u)||u,commentSetting:s,securitySetting:_,linkShareSetting:E,allowNotifyMsg:!0})})),(0,b.Z)(I,l.Hp.permission.FETCH_MINI_PROGRAM_QR_CODE_SUCCESS,(function(e,t){var n=t.payload,r=n.token,o=n.base64Data;return e.mergeIn([r],{shareQrCode:o})})),I),E.ZP.Map({})),se=(0,Z.handleActions)((O={},(0,b.Z)(O,l.Hp.explorer.FETCH_MEMBERS_OF_SHARE_FOLDER_SUCCESS,(function(e,t){var n=t.payload,r=n.entities,o=n.space_id,i=(0,u.Z)(n,Q),a=r.users,c=i[o]||[],s=c.map((function(e){return Object.assign({},a[e.owner_id]||{},{},e)}));return e.mergeIn([o],{authorizedMembers:s.map((function(e){return e.owner_type===K.OWNER_TYPE.DEPARTMENT&&(e.avatar_url=B()),e})),totalNum:c&&c.length})})),(0,b.Z)(O,l.Hp.explorer.REMOVE_MEMBER_FROM_FOLDER_SUCCESS,(function(e,t){var n=t.payload,r=n.spaceId,o=n.ownerId,i=[r,"authorizedMembers"],a=e.getIn(i).filter((function(e){return e.get("owner_id")!==o}));return e.updateIn(i,(function(e){return a}))})),(0,b.Z)(O,l.Hp.permission.FETCH_SHARE_SPACE_SETTING_SUCCESS,(function(e,t){var n=t.payload,r=n.space_id,o=n.allow_cross_tenant,i=n.link_perm,a=n.exist_password,c=n.password,s=n.is_owner,_=n.admin_allow_cross,E=n.remind_anyone_link,l=(0,u.Z)(n,z);return e.mergeIn([r],Object.assign({externalAccess:o,linkPerm:i,linkPermState:i,existPassword:a,existPasswordState:a,password:c,isOwner:s,remindAnyoneLink:E,adminAllowCross:_},l,{rawPublicPermission:JSON.stringify((0,H.default)(t.payload,["space_id"])||{})}))})),(0,b.Z)(O,l.Hp.permission.UPDATE_SHARE_SPACE_SETTING_SUCCESS,(function(e,t){var n=t.payload,r=n.space_id,o=n.allow_cross_tenant,i=n.link_perm,a=n.remind_anyone_link,c=(0,u.Z)(n,$),s=(0,w.Z)({externalAccess:o,remindAnyoneLink:a},U.default);if((0,U.default)(i))return e.mergeIn([r],Object.assign({},s,{},c));var _={};return(0,j.xV)(i)||(_={existPassword:!1,existPasswordState:!1,password:""}),e.mergeIn([r],Object.assign({linkPerm:i,linkPermState:i},s,{},_,{},c))})),(0,b.Z)(O,l.Hp.permission.SET_SHARE_SPACE_PUBLIC_PERMISSION_STATE,(function(e,t){var n=t.payload,r=n.spaceId,o=n.linkPerm;return e.mergeIn([r],{linkPermState:o})})),(0,b.Z)(O,l.Hp.permission.FETCH_USER_PERMISSION_ON_SHARE_SPACE_SUCCESS,(function(e,t){var n=t.payload,r=n.space_id,o=n.perm;return e.mergeIn([r],{perm:o})})),(0,b.Z)(O,l.Hp.permission.POST_PASSWORD_CREATE_SUCCESS,(function(e,t){var n=t.payload,r=(n.token,n.password),o=n.spaceId;return o?e.mergeIn([o],{existPassword:!0,existPasswordState:!0,password:r}):e})),(0,b.Z)(O,l.Hp.permission.POST_PASSWORD_DELETE_SUCCESS,(function(e,t){var n=t.payload,r=(n.token,n.spaceId);return r?e.mergeIn([r],{existPassword:!1,existPasswordState:!1,password:""}):e})),(0,b.Z)(O,l.Hp.permission.POST_PASSWORD_REFRESH_SUCCESS,(function(e,t){var n=t.payload,r=(n.token,n.password),o=n.spaceId;return o?e.mergeIn([o],{password:r}):e})),(0,b.Z)(O,l.Hp.permission.SET_HAS_LINK_PASSWORD_STATE,(function(e,t){var n=t.payload,r=(n.token,n.spaceId),o=n.hasLinkPassword;return r?e.mergeIn([r],{existPasswordState:o}):e})),O),E.ZP.Map({})),_e=(0,Z.handleActions)((R={},(0,b.Z)(R,l.Hp.permission.FETCH_SINGLE_CONTAINER_FOLDER_MEMBERS_SUCCESS,(function(e,t){var n=t.payload,r=n.entities,o=n.offset,i=n.isContinuous,a=n.token,c=n.collaborators,u=void 0===c?[]:c,s=n.total_num,_=r.users,l=u.map((function(e){return e.collaborator_type===K.OWNER_TYPE.DEPARTMENT&&(e.avatar_url=e.avatar_url||B()),Object.assign({},e,{},_[e.collaborator_id]||{})})),f=l;if(i){var d=l.map((function(e){return E.ZP.Map(e)}));f=e.getIn([a,"authorizedMembers"]).splice(o).concat(d)}return e.mergeIn([a],{authorizedMembers:f,totalNum:s})})),(0,b.Z)(R,l.Hp.permission.FETCH_SINGLE_CONTAINER_FOLDER_SETTING_SUCCESS,(function(e,t){var n=t.payload,r=n.token,o=n.is_owner,i=n.admin_can_cross,a=n.external_access,c=n.link_share_entity,s=n.has_link_share,_=n.lock_state,E=n.can_unlock,l=n.has_link_password,f=n.link_password,d=(0,u.Z)(n,ee);return e.mergeIn([r],Object.assign({adminAllowCross:i,linkPerm:c,linkPermState:c,existPassword:l,existPasswordState:l,hasLinkShare:s,password:f,isOwner:o,externalAccess:a,lockState:_,canUnlock:E},d,{rawPublicPermission:JSON.stringify((0,H.default)(t.payload,["token"])||{})}))})),(0,b.Z)(R,l.Hp.permission.UPDATE_SINGLE_CONTAINER_FOLDER_SETTING_SUCCESS,(function(e,t){var n=t.payload,r=n.token,o=n.external_access,i=n.link_share_entity,a=(n.remind_anyone_link,n.need_spread,(0,u.Z)(n,te)),c=(0,w.Z)({externalAccess:o},U.default);return(0,U.default)(i)?e.mergeIn([r],Object.assign({},c,{},a)):e.mergeIn([r],Object.assign({linkPerm:i,linkPermState:i},c,{},a))})),(0,b.Z)(R,l.Hp.permission.FETCH_SINGLE_CONTAINER_FOLDER_MEMBER_PERM_SUCCESS,(function(e,t){var n=t.payload,r=n.token,o=n.actions,i=(e.getIn([r,"singleContainerFolderUserActions"])||E.ZP.Map({})).merge(o);return e.mergeIn([r],{singleContainerFolderUserActions:i})})),(0,b.Z)(R,l.Hp.permission.FETCH_SINGLE_CONTAINER_FOLDER_MEMBER_PERM_FAIL,(function(e,t){return[V.STATUS_CODE.FORBIDDEN,V.STATUS_CODE.NOT_FOUND,V.STATUS_CODE.OBJCT_DELETED].includes((0,_.default)(t,"error.code"))?e.deleteIn([(0,_.default)(t,"payload.token"),"singleContainerFolderUserActions"]):e})),(0,b.Z)(R,l.Hp.permission.POST_SINGLE_CONTAINER_FOLDER_MEMBERS_DELETE_SUCCESS,(function(e,t){var n=t.payload,r=n.token,o=(n.type,n.collaborator_id),i=e.getIn([r,"authorizedMembers"],E.ZP.List()).findIndex((function(e){return e.get("collaborator_id")===o}));return-1===i?e:e.deleteIn([r,"authorizedMembers",i]).updateIn([r,"totalNum"],(function(e){return e-1}))})),(0,b.Z)(R,l.Hp.permission.SET_SHARE_SPACE_PUBLIC_PERMISSION_STATE,(function(e,t){var n=t.payload,r=n.token,o=n.linkPerm;return e.mergeIn([r],{linkPermState:o})})),(0,b.Z)(R,l.Hp.permission.POST_PASSWORD_CREATE_SUCCESS,(function(e,t){var n=t.payload,r=n.token,o=n.password;return r?e.mergeIn([r],{existPassword:!0,existPasswordState:!0,password:o}):e})),(0,b.Z)(R,l.Hp.permission.POST_PASSWORD_DELETE_SUCCESS,(function(e,t){var n=t.payload.token;return n?e.mergeIn([n],{existPassword:!1,existPasswordState:!1,password:""}):e})),(0,b.Z)(R,l.Hp.permission.POST_PASSWORD_REFRESH_SUCCESS,(function(e,t){var n=t.payload,r=n.token,o=n.password;return r?e.mergeIn([r],{password:o}):e})),(0,b.Z)(R,l.Hp.permission.FETCH_SINGLE_CONTAINER_FOLDER_MEMBERS_EXIST_SUCCESS,(function(e,t){var n=t.payload,r=n.token,o=n.existed_members;return e.mergeIn([r],{membersExist:o.map((function(e){return{owner_id:e.member_id,owner_type:e.member_type,permissions:e.perm_role}}))})})),(0,b.Z)(R,l.Hp.permission.POST_SINGLE_CONTAINER_FOLDER_MEMBERS_UPDATE_SUCCESS,(function(e,t){var n=t.payload,r=n.token,o=n.collaborator_id,i=(n.collaborator_type,n.perm_role),a=e.getIn([r,"authorizedMembers"]).findIndex((function(e){return e.get("collaborator_id")===o}));return e.updateIn([r,"authorizedMembers",a],(function(e){return e.merge({perm_role:i,perm_source:""})}))})),R),E.ZP.fromJS((0,b.Z)({},G.DummyTokens.MyDocuments,{singleContainerFolderUserActions:(0,j.h9)()}))),Ee=(0,Z.handleActions)((m={},(0,b.Z)(m,l.Hp.permission.FETCH_AUTHORIZED_ROLE_MEMBERS_SUCCESS,(function(e,t){var n=t.payload,r=n.token,o=n.type,i=n.members;return e.mergeIn(["".concat(o,":").concat(r)],{members:i})})),(0,b.Z)(m,l.Hp.permission.POST_DELETE_ROLE_MEMBER_SUCCESS,(function(e,t){var n=t.payload,r=n.token,o=n.type,i=n.ownerId,a=["".concat(o,":").concat(r),"members"],c=e.getIn(a).filter((function(e){return e.get("owner_id")!==i}));return e.updateIn(a,(function(){return c}))})),(0,b.Z)(m,l.Hp.permission.FETCH_AUTHORIZED_ROLE_USER_SUCCESS,(function(e,t){var n=t.payload,r=n.token,o=n.type,i=(0,u.Z)(n,ne);return i.role=W.kc[i.role_type],delete i.role_type,e.mergeIn(["".concat(o,":").concat(r)],{permission:i})})),(0,b.Z)(m,l.Hp.permission.FETCH_AUTHORIZED_ROLE_USERS_SUCCESS,(function(e,t){var n=t.payload,r=(n.tokens,n.type),o=n.role_user_data,i={};return(0,F.Z)(o,(function(e,t){e.role=W.kc[e.role_type],delete e.role_type,i["".concat(r,":").concat(t)]={permission:e}})),e.mergeWith((function(e,t){return e.merge(t)}),E.ZP.fromJS(i))})),m),E.ZP.Map({})),le=(0,Z.handleActions)((0,b.Z)({},l.Hp.permission.SET_EDIT_MODE,(function(e,t){return t.payload})),!0),fe=(0,Z.handleActions)((0,b.Z)({},l.Hp.permission.SET_IS_DOC_LOCKED_BY_PLUGIN,(function(e,t){return t.payload})),!1),de=(0,Z.handleActions)((A={},(0,b.Z)(A,l.Hp.permission.FETCH_TEAM_SPACE_COVER_MEMBER_INFO_SUCCESS,(function(e,t){var n=t.payload.cover_member_info;return e.merge(n)})),(0,b.Z)(A,l.Hp.permission.FETCH_TEAM_SPACE_MEMBERS_SUCCESS,(function(e,t){var n=t.payload,r=n.token,o=n.total_num;return e.setIn([r,"count"],o)})),(0,b.Z)(A,l.Hp.permission.POST_TEAM_SPACE_MEMBERS_DELETE,(function(e,t){var n=t.payload.token;return e.updateIn([n,"count"],(function(e){return e-1}))})),A),E.ZP.Map({})),Te=n(795782);function pe(){var e=(0,a.combineReducers)({folderPermissions:se,singleContainerFolderPermissions:_e,roleMembers:Ee,permissions:ue,isInEditMode:le,isDocLockedByPlugin:fe,users:g,nodes:c.td,objs:c.Hk,shortcuts:c.BG,collectorEntities:Te.K4,teamSpaceCoverMemberInfo:de});return{id:o.u.APP_ENTITIES,initialActions:[(0,i.Y)(o.u.APP_ENTITIES)],reducerMap:{entities:e}}}},661926:function(e,t,n){"use strict";n.d(t,{B:function(){return c}});var r=n(367017),o=n.n(r),i=n(335067),a=n(941985);function c(){return u.apply(this,arguments)}function u(){return(u=(0,i.Z)(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(14455),n.e(89451),n.e(90771),n.e(72551),n.e(27111),n.e(68149)]).then(n.bind(n,466200));case 2:return t=e.sent,r=t.getExplorerAsyncModule(),e.abrupt("return",a.ZP.addModule(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},860607:function(e,t,n){"use strict";n.d(t,{d:function(){return u}});var r=n(165235),o=n(715372),i=n.n(o),a=n(37030),c={TourGuide:function(){return Promise.all([n.e(14455),n.e(34223),n.e(51872),n.e(15435),n.e(90771),n.e(82782)]).then(n.bind(n,990523))},TourGuideModule:function(){return Promise.all([n.e(14455),n.e(34223),n.e(51872),n.e(15435),n.e(90771),n.e(82782)]).then(n.bind(n,705300))}},u=i().Map({loader:c,loading:function(){return null},render:function(e,t){var n=e.TourGuide.default,o=e.TourGuideModule.getGuideModule;return r.createElement(a.DynamicModuleLoader,{modules:[o()]},r.createElement(n,null))}})},545241:function(e,t,n){"use strict";n.d(t,{K:function(){return c}});var r=n(367017),o=n.n(r),i=n(335067),a=n(941985);function c(){return u.apply(this,arguments)}function u(){return(u=(0,i.Z)(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(14455),n.e(89451),n.e(90771),n.e(72551),n.e(27111),n.e(62423)]).then(n.bind(n,815219));case 2:return t=e.sent,r=t.getUiControlModule(),e.abrupt("return",a.ZP.addModule(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},22342:function(e,t,n){"use strict";n.d(t,{vF:function(){return _}});var r,o=n(774561),i=n(455982),a=n(158181),c=n(510940),u=n(357081),s=n(617962),_=(0,i.WV)({id:"0",userId:"0",referType:s.tF.DOC,createTime:0,userName:"",userAvatarUrl:"",userTenantId:""},"Like"),E=(0,i.WV)({isOpen:!1,hasMore:!1,likes:(0,i.aV)()},"LikeDetail"),l=new((0,i.WV)({count:0,likeId:null,detail:new E,recentHasMore:!0,recentLikes:(0,i.aV)(),hasLikedFromLocal:null},"TargetLikeState"));function f(e,t,n){var r=e.filter((function(e){var r=t[e];return r&&n[r.user_id]})).map((function(e){var r=t[e],o=n[r.user_id];return new _({id:r.id,userId:r.user_id,referType:r.refer_type,createTime:r.create_time,userName:o.en_name,userAvatarUrl:o.avatar_url,userTenantId:o.tenant_id})}));return(0,i.aV)(r)}var d=(0,c.handleActions)((r={},(0,o.Z)(r,u.Hp.like.globalLike.FETCH_GLOBAL_LIKE_LIST_SUCCESS,(function(e,t){if(!e.detail.isOpen)return e;var n=t.payload,r=n.has_more,o=f(n.ids,n.likes,n.users);return e.merge({detail:e.detail.merge({hasMore:r,likes:e.detail.likes.concat(o)})})})),(0,o.Z)(r,u.Hp.like.globalLike.OPEN_GLOBAL_LIKE_DETAIL,(function(e,t){return e.merge({detail:e.detail.merge({isOpen:!0,hasMore:e.recentHasMore,likes:t.payload})})})),(0,o.Z)(r,u.Hp.like.globalLike.CLOSE_GLOBAL_LIKE_DETAIL,(function(e,t){return e.merge({detail:e.detail.clear()})})),(0,o.Z)(r,u.Hp.like.globalLike.FETCH_RECENT_GLOBAL_LIKE_LIST_SUCCESS,(function(e,t){var n=t.payload,r=n.has_more,o=f(n.ids,n.likes,n.users);return e.merge({recentHasMore:r,recentLikes:e.recentLikes.slice(0,o.size).mergeDeep(o)})})),(0,o.Z)(r,u.Hp.like.globalLike.FETCH_GLOBAL_LIKE_COUNT_SUCCESS,(function(e,t){var n=t.payload,r=n.count,o=n.like_id;return e.merge({count:r,likeId:""===o?null:o})})),(0,o.Z)(r,u.Hp.like.globalLike.SYNC_GLOBAL_LIKE,(function(e,t){var n=t.payload,r=n.like.userId===n.curUserId,o={};n.action===s.BH.INCREASE?r&&(o.likeId=n.like.id):n.action===s.BH.DECREASE&&r&&(o.likeId=null);var i=n.count,a=n.recentLikes;return o.count=i,o.recentLikes=a,o.recentHasMore=i>a.size,e.merge(o)})),(0,o.Z)(r,u.Hp.like.globalLike.CLEAR_GLOBAL_LIKE_STATE,(function(e,t){return e.clear()})),(0,o.Z)(r,u.Hp.like.globalLike.SET_HAS_LIKED_FROM_LOCAL,(function(e,t){return e.merge({hasLikedFromLocal:t.payload})})),r),l);t.ZP=(0,a.combineReducers)({globalLike:d})},795782:function(e,t,n){"use strict";n.d(t,{r0:function(){return f},K4:function(){return d},F7:function(){return T}});var r,o,i,a=n(774561),c=n(455982),u=n(510940),s=n(135598),_=n(357081),E=n(778633),l=function(e,t){var n,r=t.payload,o=r.nodes,i=r.nodesObj,a=r.isContinuous,u=a?e.size:0,s=o.map((function(e){return e.obj_token})),_=(n=i,s.filter((function(e){return!!n[e]})));if(!a)return(0,c.aV)(_);var E=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=0;r<e.length;r++)t[n+r]=e[r];return(0,c.aV)(t)}(_,e.toJS(),u);return E},f=(0,u.handleActions)((r={},(0,a.Z)(r,_.Hp.rule.GET_ALL_SMART_COLLECTION_SUCCESS,(function(e,t){var n=t.payload.rules.map((function(e){return e.rule_id}));return e.concat((0,c.aV)(n))})),(0,a.Z)(r,_.Hp.rule.CREATE_SMART_COLLECTION_SUCCESS,(function(e,t){var n=t.payload.rule_id;return e.push(n)})),(0,a.Z)(r,_.Hp.rule.REMOVE_SMART_COLLECTION_SUCCESS,(function(e,t){var n=t.payload.ruleId,r=e.findIndex((function(e){return e===n}));return e.remove(r)})),(0,a.Z)(r,_.Hp.rule.SORT_SMART_COLLECTION_SUCCESS,(function(e,t){var n=t.payload,r=n.ruleId,o=n.afterId,i=e.findIndex((function(e){return e===Number(r)})),a=e.findIndex((function(e){return e===o}))+1;return 0===Number(o)&&(a=0),i<a?e.insert(a,Number(r)).remove(i):e.remove(i).insert(a,r)})),r),(0,c.aV)([])),d=(0,u.handleActions)((o={},(0,a.Z)(o,_.Hp.rule.GET_ALL_SMART_COLLECTION_SUCCESS,(function(e,t){var n=t.payload,r=n.rules,o=n.owners;return e.withMutations((function(e){r.forEach((function(t){var n=(0,s.$l)(t,o);return e.set(t.rule_id,new E.FE(n))}))}))})),(0,a.Z)(o,_.Hp.rule.UPDATE_SMART_COLLECTION_VIEW_SETTING_SUCCESS,(function(e,t){var n=t.payload,r=n.rule_id,o=n.asc,i=n.rank,a=e.get(r);return a?e.set(r,a.merge({asc:o,rank:i})):e})),(0,a.Z)(o,(0,u.combineActions)(_.Hp.rule.CREATE_SMART_COLLECTION_SUCCESS,_.Hp.rule.GET_SINGLE_SMART_COLLECTION_SUCCESS,_.Hp.rule.UPDATE_SMART_COLLECTION_SUCCESS),(function(e,t){var n=t.payload,r=n.rule_id,o=n.owners,i=(0,s.$l)(n,o);return e.set(r,new E.FE(Object.assign({},i,{redDot:!1})))})),(0,a.Z)(o,_.Hp.rule.CLEAR_COLLECTION_RED_DOT_BY_ID,(function(e,t){var n=t.payload.rule_id;return e.has(n)?e.setIn([n,"redDot"],!1):e})),(0,a.Z)(o,_.Hp.rule.REMOVE_SMART_COLLECTION_SUCCESS,(function(e,t){var n=t.payload.ruleId;return e.delete(n)})),(0,a.Z)(o,_.Hp.rule.FETCH_SMART_COLLECTION_RED_DOT_ID_LIST_SUCCESS,(function(e,t){var n=t.payload.rules;return e.withMutations((function(e){Object.keys(n).forEach((function(t){e.has(t)&&e.setIn([t,"redDot"],!0)}))}))})),o),(0,c.D5)({})),T=(0,u.handleActions)((i={},(0,a.Z)(i,_.Hp.rule.GET_SMART_COLLECTION_SUITE_LIST_SUCCESS,l),(0,a.Z)(i,_.Hp.rule.GET_PREVIEW_SMART_COLLECTION_SUITE_LIST_SUCCESS,l),(0,a.Z)(i,_.Hp.rule.SET_COLLECTION_LIST_TOKENS,(function(e,t){return t.payload.tokens||e})),i),(0,c.aV)([]))},52537:function(e,t,n){"use strict";n.d(t,{ZP:function(){return X},YM:function(){return g.Z},Rd:function(){return U}});var r=n(367017),o=n.n(r),i=n(717333),a=n(893835),c=n(298652),u=n(153690),s=n(985001),_=n(359980),E=n(647246),l=n(139928),f=n(177236),d=n(357081),T=n(481382),p=n(360851),S=n(117834),I=n(676722),O=n(60618),R=o().mark(D),m=o().mark(N),A=o().mark(L),C=o().mark(y);function h(e,t){if((0,s.Z)(e))return(0,c.Z)(new Set(e.concat(t)))}function v(e){var t="";switch(e){case d.Hp.explorer.COMMON_ADD_FILE_TO:case d.Hp.explorer.DELETE_RECENT_RECORD:case d.Hp.explorer.DELETE_OBJECT:t="obj_token";break;case d.Hp.explorer.RESTORE_REMOVED_FILE:case d.Hp.explorer.REMOVE_FILE:case d.Hp.explorer.DELETE_FOLDER_OBJECT:case d.Hp.explorer.DELETE_REMOVED_FILE:t="token";break;case d.Hp.explorer.MOVE_FILE:t="src_token";break;case d.Hp.explorer.COMMON_ADD_SHORTCUT_TO:t="entities"}return t}function D(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.takeEvery)(d.Hp.explorer.BATCH_TASK,N);case 2:case"end":return e.stop()}}),R)}function N(e){var t,n,r;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=(0,I.V2)(e),n=v(t),r=!(n&&(0,I.kO)(e,n)),o.next=5,(0,l.fork)(L,e,r,n);case 5:case"end":return o.stop()}}),m)}function L(e,t,n){var r,i,a,c,u,s,E;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!t){o.next=24;break}return r=e[T.DEFERRED],i="PassThroughLoadingToastKey",a=(0,_.default)(e,[d.y0.BATCH_REQUEST,d.y0.REQUEST,"urlType"]),o.next=6,(0,l.put)((0,f.showToast)({key:i,type:d.y0.TOAST_TYPE.loading,content:O("explorer.processing",(0,S.w8)((0,I.yj)(e),e[d.y0.FROM_UNDO],a)),keepAlive:!0}));case 6:return o.prev=6,c=(0,I.y2)(e),o.next=10,(0,l.put)(c);case 10:return u=o.sent,o.next=13,u;case 13:s=o.sent,r.resolve(s),o.next=20;break;case 17:o.prev=17,o.t0=o.catch(6),r.reject(o.t0);case 20:return o.next=22,(0,l.put)((0,f.closeToast)({key:i}));case 22:o.next=36;break;case 24:return o.next=26,(0,l.put)(I.w9.start(e));case 26:return o.next=28,(0,l.fork)(y,e,n);case 28:return E=o.sent,o.next=31,(0,l.take)(d.Hp.explorer.CANCEL_BATCH_TASK);case 31:if(!o.sent){o.next=36;break}return o.next=34,(0,l.cancel)(E);case 34:return o.next=36,(0,l.put)(I.w9.cancel(e));case 36:case"end":return o.stop()}}),A,null,[[6,17]])}function y(e,t){var n,r,i,a,c,s,_,S,O,R,m,A,v,D,N,L,y,P;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=0,r=0,i=0,a={},c={},s=(0,p.cY)("space_batch_request_benchmark")||d.y0.BATCH_REQUEST_LIMITED_NUM,_=(0,I.QX)(e,t).length,S=Math.ceil(_/s),O=100/S,R=null,o.prev=10;case 11:if(!(n<_)){o.next=41;break}if(o.prev=12,!(m=(0,I.V8)(e,t,n))){o.next=28;break}return o.next=17,(0,l.put)(m);case 17:return A=o.sent,R=A,o.next=21,A;case 21:if(v=o.sent,R=null,!v.error){o.next=26;break}throw v;case 26:a=(0,u.Z)(a,v,h),r+=s;case 28:o.next=33;break;case 30:o.prev=30,o.t0=o.catch(12),c=(0,u.Z)(c,o.t0,h);case 33:return o.prev=33,n+=s,i++,o.next=38,(0,l.put)((0,f.updateBatchRequestToast)({process:i*O}));case 38:return o.finish(33);case 39:o.next=11;break;case 41:return o.prev=41,o.next=44,(0,l.cancelled)();case 44:if(D=o.sent,N=e[T.DEFERRED],!r){o.next=58;break}if(!D||!R){o.next=52;break}return o.next=50,R;case 50:(L=o.sent).error||(a=(0,u.Z)(a,L,h));case 52:return y=I.w9.success(e,(0,E.default)(a),(0,E.default)(c)),N.resolve(y),o.next=56,(0,l.put)(y);case 56:o.next=62;break;case 58:return P=I.w9.fail(e,(0,E.default)(c)),N.reject(P),o.next=62,(0,l.put)(P);case 62:return o.finish(41);case 63:case"end":return o.stop()}}),C,null,[[10,,41,63],[12,30,33,39]])}var P=D,g=n(487687),M=n(873900),b=n(15458),k=n(846775),w=n(217376),H=o().mark(U);function U(e,t){var n,r,i,a,u,s,_,E,f,d,T,p,S,O,R,m,A,C,h=arguments;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if((0,k.default)(t)){o.next=2;break}throw new Error("fn passed into retry should be function");case 2:for(n=Object.assign({},g.Z.defaults.retryConfig,{},e),r=n.shouldRetry,i=n.retryTimes,a=n.retryDelay,u=n.exponentialBackOff,s=n.instantRetryAtFirst,_=n.onRetryCb,E=n.onRetrySuccessCb,f=n.onRetryFailedCb,T="request_retry_".concat((0,w.Es)()),p=h.length,S=new Array(p>2?p-2:0),O=2;O<p;O++)S[O-2]=h[O];R=0;case 7:if(!(R<i)){o.next=33;break}return o.prev=8,m=function(e){return t.apply(void 0,(0,c.Z)(e))},o.next=12,(0,l.call)(m,S);case 12:return A=o.sent,0!==R&&(0,k.default)(E)&&E({finalRetryCount:R-1,lastError:d,response:A,retryId:T,args:S,retryConfig:n}),o.abrupt("return",A);case 17:if(o.prev=17,o.t0=o.catch(8),!(0,k.default)(r)||r(o.t0,R)){o.next=21;break}throw o.t0;case 21:if(d=o.t0,(0,k.default)(_)&&_({currentRetryCount:R+1,retryId:T,args:S,retryConfig:n}),!(R<i-1)){o.next=30;break}if(0!==R||!s){o.next=26;break}return o.abrupt("continue",30);case 26:return C=a,u&&(C=(0,I.IR)(R,{startingDelay:a})),o.next=30,(0,l.call)(M.delay,C);case 30:R++,o.next=7;break;case 33:throw(0,k.default)(f)&&f({error:d,retryId:T,args:S,retryConfig:n}),d;case 35:case"end":return o.stop()}}),H,null,[[8,17]])}var F=o().mark(W),Z=o().mark(G),x=o().mark(K),B=o().mark(V);function W(){var e,t,n,r,i,a,c,u,s;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:e={};case 1:return o.next=4,(0,l.take)("*");case 4:if(t=o.sent,(0,I.w0)(t)){o.next=7;break}return o.abrupt("continue",1);case 7:if(n=t,r=(0,I.OR)(n),i=r.takeLatest,a=n.type,!i){o.next=16;break}if(!(c=e[a])){o.next=16;break}return o.next=16,(0,l.cancel)(c);case 16:return o.next=18,(0,l.fork)(G,n);case 18:return u=o.sent,i&&(e[a]=u),s=(0,I.pL)(n),o.next=23,(0,l.fork)(K,s,u);case 23:o.next=1;break;case 25:case"end":return o.stop()}}),F)}function G(e){var t,n,r,i,a,c,u,s,_;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e[T.DEFERRED],o.prev=1,o.next=4,(0,l.put)(I.Np.start(e));case 4:return n=(0,I.FX)(e),r=(0,I.OR)(e),i=r.retryConfig,(0,I.pC)(n,r),o.next=10,U(i,b.WY,n);case 10:if(a=o.sent,!(c=e[T.REQUEST].beforeResolve)){o.next=15;break}return o.next=15,c(a);case 15:return u=I.Np.success(e,a),t&&t.resolve(u),o.next=19,(0,l.put)(u);case 19:o.next=30;break;case 21:return o.prev=21,o.t0=o.catch(1),s=I.Np.fail(e,o.t0),o.next=26,(0,l.put)(s);case 26:if(!(0,I.Id)(e)){o.next=29;break}return t&&t.resolve(s),o.abrupt("return");case 29:t&&t.reject(o.t0);case 30:return o.prev=30,o.next=33,(0,l.cancelled)();case 33:if(!o.sent){o.next=37;break}return _=I.Np.cancel(e),o.next=37,(0,l.put)(_);case 37:return o.finish(30);case 38:case"end":return o.stop()}}),Z,null,[[1,21,30,38]])}function K(e,t){var n;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,l.race)({abortingAction:(0,l.take)(e),taskFinished:(0,l.join)(t),timeout:(0,l.call)(M.delay,1e4)});case 2:if(n=r.sent,!n.abortingAction){r.next=7;break}return r.next=7,(0,l.cancel)(t);case 7:case"end":return r.stop()}}),x)}function V(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.all)([(0,l.fork)(W)]);case 2:case"end":return e.stop()}}),B)}var j=V,Y=o().mark(J);function J(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.A)([j,P],a.Tb);case 2:case"end":return e.stop()}}),Y)}var X=J},487687:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(647246),o=n(646508),i=n(764026),a=n(359980),c=n(704561),u=n(357081),s=n(812083),_=n(893835),E=n(746986),l=n(360851),f={retryConfig:{retryTimes:3,retryDelay:200,instantRetryAtFirst:!1,exponentialBackOff:!0,shouldRetry:function(e,t){return e&&(e.code===u.vU.STATUS_CODE.TIMEOUT||e.code===u.vU.STATUS_CODE.JSSDK_SESSION_SERVICE_TIMEOUT&&(0,l._3)("ccm.request.jssdk_session_timeout_retry"))},onRetryCb:function(e){e.currentRetryCount,e.retryId,e.retryConfig;return(0,c.default)()},onRetrySuccessCb:function(e){var t=e.finalRetryCount,n=e.response,r=e.lastError,o=e.retryId,i=e.retryConfig;(0,E.default)("request_retry",{retry_id:o,request_id:(0,a.default)(n,"meta.Request-Id",""),log_id:(0,a.default)(n,"meta.X-TT-LOGID",""),retry_count:t,retry_times:i.retryTimes,last_error:(0,E.processTokenInString)(JSON.stringify(r)),last_error_code:Number(r.code),last_error_msg:r.msg})},onRetryFailedCb:function(e){var t=e.error,n=(e.retryId,e.retryConfig,e.args);if(window.Slardar){var r=Array.from(n).find((function(e){return"string"==typeof e.url}));(0,_.Tb)(s.requestRetryFailed,{tags:Object.assign({},r&&r.url?{url:r.url}:null,{},t.code?{errorCode:t.code}:null),extras:Object.assign({errorStr:JSON.stringify(t)},t.msg?{errorMsg:t.msg}:null)})}}},takeLatest:!1,mergeRequestHeaderIntoMeta:!1,startSuffix:u.Hp.suffix.START,successSuffix:u.Hp.suffix.SUCCESS,failSuffix:u.Hp.suffix.FAIL,cancelSuffix:u.Hp.suffix.CANCEL,mergeRequestDataIntoPayload:!1,enableCamelCaseResponse:!1,enableSnakeCaseResponse:!1},d={explorer:{retryConfig:{shouldRetry:function(e,t){return!s.COMMON_NOT_RETRY_CODE.includes(e.code)}}}},T=(0,i.Z)(d,(function(e){return(0,o.Z)((0,r.default)(e),f)})),p=Object.assign({defaults:f},T)},676722:function(e,t,n){"use strict";n.d(t,{w0:function(){return l},FX:function(){return d},OR:function(){return T},pL:function(){return I},Np:function(){return m},IR:function(){return A},pC:function(){return C},kO:function(){return h},QX:function(){return v},V2:function(){return D},y2:function(){return N},V8:function(){return L},Id:function(){return y},oK:function(){return P},yj:function(){return g},w9:function(){return M}});var r=n(26278),o=n(985001),i=n(359980),a=n(647246),c=n(357081),u=n(98390),s=n(360851),_=n(487687),E=["options"];function l(e){return!!e[c.y0.REQUEST]}function f(e){return e[c.y0.REQUEST]}function d(e){var t=f(e);t.options;return(0,r.Z)(t,E)}function T(e){var t=f(e),n=t?t.options:{};return Object.assign({},_.Z.defaults,{},n)}function p(e){switch(e){case c.mb.METHOD.GET:return"params";case c.mb.METHOD.POST:return"data";default:return"params"}}function S(e){var t=f(e);return t?t[p(t.method)]:{}}function I(e){var t=T(e).abortOn,n="CANCEL_".concat(e.type);return t?Array.isArray(t)?[n].concat([t]):[n,t]:[n]}function O(e,t){var n,r=t||{},o=r.startSuffix,i=void 0===o?c.Hp.suffix.START:o,a=r.successSuffix,u=void 0===a?c.Hp.suffix.SUCCESS:a,s=r.failSuffix,_=void 0===s?c.Hp.suffix.FAIL:s,E=r.cancelSuffix,l=void 0===E?c.Hp.suffix.CANCEL:E;if(void 0!==e.type){var f=e.type;n={type:f,start:"".concat(f).concat(i),success:"".concat(f).concat(u),fail:"".concat(f).concat(_),cancel:"".concat(f).concat(l)}}else{if(void 0===e.types)throw new Error('Action which matched axios middleware needs to have "type" or "types" key which is not null');n=e.types}return n}function R(e,t,n){var r=T(t),o=e.entities,i=e.users;return i&&(i=Object.assign({},i)),r.transformResponse&&(e=r.transformResponse(e,t,n)),e.entities||(o?e.entities=Object.assign({},o):i&&(e.entities={users:i})),r.enableCamelCaseResponse&&(e=(0,u._A)(e)),r.enableSnakeCaseResponse&&(e=(0,u.T3)(e)),e}var m={start:function(e){var t,n;l(e)&&(t=T(e),n=S(e));var r=e.payload,i=r&&"string"!=typeof r&&!(0,o.Z)(r);return{type:O(e,t).start,payload:Object.assign({},i?e.payload:{},{},n),meta:{isLoading:!0,previousAction:e},FROM_BATCH:y(e),FROM_UNDO:e[c.y0.FROM_UNDO]}},success:function(e,t){var n,r=e.payload,i=t,a=i.data,u=i.meta;l(e)&&(n=T(e),t=R(a,e,!0)),n&&n.mergeRequestDataIntoPayload&&(r=function(e){var t=S(e);return Object.assign({},e.payload,{},t)}(e));var s=r&&"string"!=typeof r&&!(0,o.Z)(r)?Object.assign({},r,{},t):t;return{type:O(e,n).success,payload:s,meta:Object.assign({},u,{isLoading:!1,previousAction:e}),FROM_BATCH:y(e),FROM_UNDO:e[c.y0.FROM_UNDO]}},fail:function(e,t){var n,r,o={};return l(e)&&(n=T(e),r=S(e),o=R(o,e,!1)),{type:O(e,n).fail,error:t,batchErrors:[t],payload:Object.assign({},e.payload,{},r,{},o),meta:{previousAction:e,isLoading:!1,isError:!0},FROM_BATCH:y(e),FROM_UNDO:e[c.y0.FROM_UNDO]}},cancel:function(e){var t,n,r;return l(e)&&(t=T(e),n=S(e),r=I(e)),{type:O(e,t).cancel,payload:Object.assign({},n,{abortOn:r}),meta:{previousAction:e,isLoading:!1,isError:!1},FROM_BATCH:y(e),FROM_UNDO:e[c.y0.FROM_UNDO]}}};function A(e,t){var n=t.startingDelay,r=void 0===n?200:n,o=t.timeMultiple,i=void 0===o?2:o,a=e;return r*Math.pow(i,a)}function C(e,t){var n=t.baseURL,r=t.apiType;return n&&(e.baseURL=n),r&&(e.apiType=r),Object.assign({},e,{},n?{baseURL:n}:e.baseURL,{},r?{apiType:r}:e.apiType)}function h(e,t){var n=v(e,t);return((0,s.cY)("space_batch_request_benchmark")||c.y0.BATCH_REQUEST_LIMITED_NUM)<n.length}function v(e,t){var n=e[c.y0.BATCH_REQUEST];return(0,i.default)(S(n),t)}function D(e){return(0,i.default)(e,[c.y0.BATCH_REQUEST,"type"])}function N(e){return(0,i.default)(e,c.y0.BATCH_REQUEST)}function L(e,t,n){var r=N(e),o=v(e,t),i=(0,s.cY)("space_batch_request_benchmark")||c.y0.BATCH_REQUEST_LIMITED_NUM,u=o.slice(n,n+i);if(!(u.length<1)){var _=function(e,t,n){var r=(0,a.default)(e),o=p(r[c.y0.REQUEST].method);return r[c.y0.REQUEST][o][t]=n,r}(r,t,u);return _[c.y0.FROM_BATCH]=!0,_}}function y(e){return e[c.y0.FROM_BATCH]}function P(e){return e[c.y0.FROM_UNDO]=!0,e[c.y0.BATCH_REQUEST][c.y0.FROM_UNDO]=!0,e}var g=function(e){return"".concat(D(e)).concat(c.Hp.suffix.START)},M={start:function(e){return{type:c.Hp.explorer.BATCH_TASK_START,subType:g(e),rawAction:e}},success:function(e,t,n){return{type:c.Hp.explorer.BATCH_TASK_SUCCESS,subType:"".concat(D(e)).concat(c.Hp.suffix.SUCCESS),rawAction:e,successAction:t,failAction:n}},fail:function(e,t){return{type:c.Hp.explorer.BATCH_TASK_FAIL,subType:"".concat(D(e)).concat(c.Hp.suffix.FAIL),rawAction:e,failAction:t}},cancel:function(e){return{type:c.Hp.explorer.BATCH_TASK_CANCEL,subType:"".concat(D(e)).concat(c.Hp.suffix.CANCEL)}}}},117834:function(e,t,n){"use strict";n.d(t,{im:function(){return U},a1:function(){return F},w8:function(){return Z}});var r,o,i=n(774561),a=n(359980),c=n(412840),u=n(404436),s=n(357081),_=n(481382),E=n(750028),l=n(235724),f=n(682578),d=n(360851),T=n(70393),p=n(318449),S=n(221603),I=n(463636),O=n(913629),R=n(278084),m=n(798016),A=n(44226),C=n(60618),h=s.y0.FOLDER_PERMISSION_ACTION_TYPE,v=s.y0.OWNER_TYPE,D=s.vU.NODE_OUT_OF_LIMIT_BY_EXPLORER_ERROR_CODE,N=s.vU.MEMBER_UNSUPPORT_TOBE_INVITED_CODE,L=s.vU.OPERATE_ILLEGAL_ERROR_CODE,y=s.vU.MOVE_BIG_TREE,P=s.vU.PERMISSION_REQUEST_DENIED_DUE_TO_ADMIN_CONTROL,g=s.vU.DUPLICATE_RECORD,M=s.vU.GRAB_LOCK_FAILED,b=s.vU.SPACE_SINGLE_CONTAINER_MIGRATION_FORBIDDEN,k=s.vU.MULTI_GEO_MIGRATION_FORBIDDEN,w=s.vU.BITABLE_UPGRADE_FORBIDDEN,H=function(){return{content:(0,l.getIsCurrentUserToCUser)()?C("permission.can_not_invite_ enterprise_users"):C("permission.can_not_invite_external_users")}};function U(e,t,n){var r=n||(0,a.default)(t,"error.code");return r?r===k?C("CreationDoc_MultiGeo_900004230"):e+C("CreationDoc_Docs_error_errorcode_toast",r):e}var F=function(e,t){if(e){var n=e.code,r=e.msg,o=e.meta;if(!o||!o.is_msg_old){var i=s.vU.ERROR_CODE_MAP[n];if(i){var a=i.description;return"function"==typeof a?a(r):a}}return t}},Z=function(e,t,n){if(t)return C("common.undo");switch(e){case s.Hp.explorer.COMMON_ADD_FILE_TO_START:case s.Hp.explorer.COMMON_ADD_SHORTCUT_TO_START:return C("explorer.adding");case s.Hp.explorer.MOVE_FILE_START:return C("explorer.moving");case s.Hp.explorer.REMOVE_FILE_START:return n===_.EXPLORER_URL_TYPE.V2?C("explorer.deleting"):C("explorer.removing");case s.Hp.explorer.DELETE_RECENT_RECORD_START:return C("explorer.removing");case s.Hp.explorer.DELETE_OBJECT_START:case s.Hp.explorer.DELETE_REMOVED_FILE_START:case s.Hp.explorer.DELETE_FOLDER_OBJECT_START:return C("explorer.deleting");case s.Hp.explorer.RESTORE_REMOVED_FILE_START:return C("explorer.restored2")}},x=(r={},(0,i.Z)(r,h.UPDATE_PUBLIC_PERMISSION_SUCCESS,(function(e){return{content:e.payload.showToast?C("permission.set_public_permission_success"):""}})),(0,i.Z)(r,h.UPDATE_PUBLIC_PERMISSION_FAIL,(function(e){var t=(0,c.vR)(e);return t?{content:t}:e.error&&(0,I.Vb)(e.error.code)?{content:C("common.rename_fail_illegal")}:{content:e.payload.showToast?C("permission.set_public_permission_fail"):""}})),(0,i.Z)(r,h.UPDATE_MEMBERS_PERM_SUCCESS,(function(e){return{content:C("abtest.permission_toast.changed_successfully")}})),(0,i.Z)(r,h.UPDATE_MEMBERS_PERM_FAIL,(function(e){return{content:(0,c.vR)(e)||C("permission.set_user_permission_fail")}})),r),B=function(e){var t=(0,a.default)(e,"error.code"),n={content:U(C("common.create_failed"),e)};if(![s.vU.CREATE_LIMITATION_ERROR_CODE,s.vU.CREATE_USER_LIMITATION_ERROR_CODE,s.vU.CREATE_USER_LIMITATION_ERROR_CODE1].includes(t)){var r=f.F[t];return r?{content:U(r,e)}:n}},W=(o={},(0,i.Z)(o,s.Hp.explorer.CREATE_FILE_FAIL,(function(e){var t=(0,a.default)(e,"error.code"),n={content:U(C("common.create_failed"),e)};switch(t){case M:return{content:s.vU.ERROR_CODE_MAP[M].description};case s.vU.STATUS_CODE.FORBIDDEN:return{content:s.vU.ERROR_CODE_MAP[s.vU.STATUS_CODE.FORBIDDEN].description};case s.vU.CREATE_LIMITATION_ERROR_CODE:return;case D:return{content:s.vU.maxShareFolderNodeErrorTips};case L:return{content:C("CreationDoc_Docs_IllegalContent_Retry")};case s.vU.CLONE_FAILED_OVER_4000_IMAGE_INSIDE_SHEET:return{content:C("sheet.create_copy.exceed_image_limit")};case b:return{content:s.vU.ERROR_CODE_MAP[b].description};default:return n}})),(0,i.Z)(o,s.Hp.explorer.CREATE_DRIVE_FILE_FAIL,(function(e){switch((0,a.default)(e,"error.code")){case s.vU.CREATE_LIMITATION_ERROR_CODE:case s.vU.CREATE_USER_LIMITATION_ERROR_CODE:return;default:return{content:U(C("common.create_failed"),e)}}})),(0,i.Z)(o,s.Hp.explorer.CREATE_ISV_FAIL,(function(e){return{content:U(C("common.create_failed"),e)}})),(0,i.Z)(o,s.Hp.explorer.CREATE_FOLDER_FAIL,(function(e){var t=(0,a.default)(e,"error.code");return t===D?{content:s.vU.maxShareFolderNodeErrorTips}:t===N?H():t===L?{content:C("CreationDoc_Docs_IllegalContent_Retry")}:t===b?{content:s.vU.ERROR_CODE_MAP[b].description}:{content:U(C("common.create_failed"),e)}})),(0,i.Z)(o,s.Hp.explorer.CREATE_SHARE_FOLDER_FAIL,(function(e){var t=(0,a.default)(e,"error.code");if(t===D)return{content:s.vU.maxShareFolderNodeErrorTips};if(t===N)return H();if(t===L)return{content:C("common.rename_fail_illegal")};if(t===b)return{content:s.vU.ERROR_CODE_MAP[b].description};var n=(0,a.default)(e,"error.data").block_user_map,r=void 0===n?{}:n;return Object.keys(r).length>0?void 0:{content:U(C("common.create_failed"),e)}})),(0,i.Z)(o,s.Hp.explorer.RENAME_FILE_FAIL,(function(e){var t=(0,a.default)(e,"error.code");return t===L?{content:C("common.rename_fail_illegal")}:t===b?{content:s.vU.ERROR_CODE_MAP[b].description}:t===w?{content:s.vU.ERROR_CODE_MAP[w].description}:{content:U(C("explorer.rename_failed"),e)}})),(0,i.Z)(o,s.Hp.explorer.UPDATE_FOLDER_INFO_FAIL,(function(e){return{content:U(C("common.operation_failed"),e)}})),(0,i.Z)(o,s.Hp.box.UPDATE_FILE_INFO_FAIL,(function(e){return(0,a.default)(e,"error.code")===L?{content:C("common.rename_fail_illegal")}:(0,a.default)(e,"error.code")===w?{content:s.vU.ERROR_CODE_MAP[w].description}:{content:U(C("explorer.rename_failed"),e)}})),(0,i.Z)(o,s.Hp.explorer.ADD_MEMBERS_TO_FOLDER_SUCCESS,(function(e){return{content:!1!==e.payload.showToast?C("permission.invite_member_success"):""}})),(0,i.Z)(o,s.Hp.permission.POST_ADD_ROLE_MEMBER_SUCCESS,(function(e){return{content:C("permission.invite_member_success")}})),(0,i.Z)(o,s.Hp.permission.POST_SINGLE_CONTAINER_FOLDER_MEMBERS_CREATE_SUCCESS,(function(e){return{content:!1===e.payload.showToast?"":C("permission.invite_member_success")}})),(0,i.Z)(o,s.Hp.permission.SET_SUITE_PUBLIC_PERMISSION_SUCCESS,(function(e){return{content:e.payload.showToast?C("permission.set_public_permission_success"):""}})),(0,i.Z)(o,s.Hp.permission.SET_SUITE_PUBLIC_PERMISSION_FAIL,(function(e){if(e.error&&(0,I.Vb)(e.error.code))return{content:C("common.rename_fail_illegal")};var t=(0,c.vR)(e);return t?{content:t}:{content:e.payload.showToast?C("permission.set_public_permission_fail"):""}})),(0,i.Z)(o,s.Hp.permission.SEND_SUITE_PERMISSION_REQUEST_SUCCESS,(function(e){return{content:C("permission.send_apply_permission_success")}})),(0,i.Z)(o,s.Hp.permission.SEND_SUITE_PERMISSION_REQUEST_FAIL,(function(e){var t=e.error,n=e.payload.userName,r=(0,c.vR)(e);if(r)return{content:r};if(t){if(t.code===P)return{type:s.y0.TOAST_TYPE.info,content:C("permission.send_apply_no_permission")};var o=s.vU.PERMISSION_APPLY_DENIED_TOAST_MAP[t.code];if(o)return{type:s.y0.TOAST_TYPE.error,content:o(n)}}return{content:C("permission.send_apply_permission_fail")}})),(0,i.Z)(o,s.Hp.permission.SEND_SUITE_PARENT_PERMISSION_REQUEST_SUCCESS,(function(e){return{content:C("permission.send_apply_permission_success")}})),(0,i.Z)(o,s.Hp.permission.SEND_SUITE_PARENT_PERMISSION_REQUEST_FAIL,(function(e){var t=e.payload.deviceType,n=(0,a.default)(e,"error.code"),r=(0,c.vR)(e);return r?{content:r}:{content:n===s.vU.STATUS_CODE.NOTE_DELETED||n===s.vU.STATUS_CODE.NOT_FOUND?C("filecard.file_delete_by_owner"):"mobile"===t&&n===s.vU.STATUS_CODE.CONNECT_ERROR?C("permission.network_error"):n===s.vU.PERMISSION_REQUEST_DENIED_DUE_TO_BLOCKED||n===s.vU.PERMISSION_REQUEST_DENIED_DUE_TO_BE_BLOCKED?C("CreationDoc_ECM_BlockedUnableRequestPermissionToast"):C("permission.send_apply_permission_fail")}})),(0,i.Z)(o,s.Hp.permission.FETCH_USER_PERMISSION_ON_SUITE_FAIL,(function(e){if(![s.vU.STATUS_CODE.FORBIDDEN,s.vU.STATUS_CODE.INVALID_PARAMETERS,s.vU.STATUS_CODE.NOT_FOUND,s.vU.STATUS_CODE.NOTE_DELETED,s.vU.STATUS_CODE.OBJCT_DELETED,s.vU.STATUS_CODE.TIMEOUT,s.vU.STATUS_CODE.CONNECT_ERROR,s.vU.STATUS_CODE.PROMPT_MODIFY_WHEN_VIOLATE_POLICIES,s.vU.STATUS_CODE.PROMPT_CONTACT_WHEN_VIOLATE_POLICIES].some((function(t){return t===e.error.code})))return{content:U(C("permission.fetch_share_data_failed"),e)}})),(0,i.Z)(o,s.Hp.permission.UPDATE_USER_PERMISSION_SUCCESS,(function(e){return{content:C("permission.set_user_permission_success")}})),(0,i.Z)(o,s.Hp.permission.UPDATE_USER_PERMISSION_FAIL,(function(e){return{content:C("permission.set_user_permission_fail")}})),(0,i.Z)(o,s.Hp.permission.UPDATE_USER_PERMISSION_V2_FAIL,(function(e){var t=e.payload.owner_type,n=v.APP===t,r=(0,c.vR)(e);return r?{content:r}:{content:C(n?"CreationDoc_ECM_AppModificationFailToast":"permission.set_user_permission_fail")}})),(0,i.Z)(o,s.Hp.permission.BULK_SET_PERM_SUCCESS,(function(e){if(e.payload.noToast)return{content:""};var t=e.payload.owners,n=JSON.parse(t).every((function(e){return e.owner_type===v.APP}));return{content:"share_custom_tmpl"===e.payload.actualSource?C("permission.custom_template_share_success"):C(n?"CreationDoc_ECM_AddAppToast":"permission.invite_member_success")}})),(0,i.Z)(o,s.Hp.permission.BULK_SET_PERM_FAIL,(function(e){(0,E.hs)();var t=(0,d.tL)("share_by_unauth_v2_enabled"),n=e.error;if(n&&n.code===s.vU.SUITE_MAX_COOPERATOR)return{content:C("permission.max.collaborators")};var r=(0,c.vR)(e);if(r)return{content:r};if(n&&n.code===s.vU.PERMISSION_FAILED_FOR_EXTERNAL_ACCESS)return t?n.data.success_count>0?{type:s.y0.TOAST_TYPE.success,content:C("permission.invite_member_success")}:void 0:{content:C("permission.invite_failed_for_external_access")};if(n&&(0,I.Vb)(n.code))return{content:C("common.rename_fail_illegal")};var o=(n.data||{}).block_user_map,i=void 0===o?{}:o;if(!(Object.keys(i).length>0)){var a=e.payload.owners,u=JSON.parse(a).every((function(e){return e.owner_type===v.APP}));return{content:C(u?"CreationDoc_ECM_AddAppFailToast":"permission.invite_member_fail")}}})),(0,i.Z)(o,s.Hp.permission.CREATE_MOCK_USER_FAIL,(function(e){return{content:C("permission.invite_member_fail")}})),(0,i.Z)(o,s.Hp.search.FETCH_SEARCH_USER_FAIL,(function(e){return{content:C("member.serach_limit_toast")}})),(0,i.Z)(o,s.Hp.suite.UPDATE_TITLE_FAIL,(function(e){var t;return e.error&&(0,I.Vb)(e.error.code)?{key:s.Hp.suite.UPDATE_TITLE_FAIL,content:C("CreationDoc_Docs_IllegalContent_Retry")}:(null===(t=e.error)||void 0===t?void 0:t.code)===w?{content:s.vU.ERROR_CODE_MAP[w].description}:{content:U(C("explorer.rename_failed"),e)}})),(0,i.Z)(o,s.Hp.permission.BULK_SHARE_LINK_SUCCESS,(function(e){return{content:C("permission.send_link_success")}})),(0,i.Z)(o,s.Hp.permission.BULK_ASK_OWNER_SUCCESS,(function(e){return{content:C("permission.ask_owner_success")}})),(0,i.Z)(o,s.Hp.permission.BULK_ASK_OWNER_FAIL,(function(e){var t=(0,c.vR)(e);return t?{content:t}:{content:C("common.operation_failed")}})),(0,i.Z)(o,s.Hp.permission.ASK_OWNER_OPEN_LINK_SHARING_SUCCESS,(function(e){return{content:C("permission.ask_owner_success")}})),(0,i.Z)(o,s.Hp.explorer.ADD_MEMBERS_TO_FOLDER_FAIL,(function(e){var t=e.error,n=t.code;if(n===N)return H();if(n===L)return{content:C("common.rename_fail_illegal")};if(n===y)return{content:C("explorer.move_big_tree_fail",C("common.share"))};var r=t.data.block_user_map,o=void 0===r?{}:r;return Object.keys(o).length>0?void 0:{content:F(t,U(C("common.operation_failed"),e))}})),(0,i.Z)(o,s.Hp.permission.POST_ADD_ROLE_MEMBER_FAIL,(function(e){var t=e.error;return t.code===N?H():{content:F(t,U(C("common.operation_failed"),e))}})),(0,i.Z)(o,s.Hp.permission.POST_SINGLE_CONTAINER_FOLDER_MEMBERS_CREATE_FAIL,(function(e){return e.error.code===N?H():{content:C("permission.invite_member_fail")}})),(0,i.Z)(o,s.Hp.permission.POST_UPDATE_ROLE_MEMBER_SUCCESS,(function(e){return{content:C("explorer.teamspace.v1.collaborator_update_role_success")}})),(0,i.Z)(o,s.Hp.permission.POST_UPDATE_ROLE_MEMBER_FAIL,(function(e){var t=e.error;return{content:F(t,U(C("common.operation_failed"),e))}})),(0,i.Z)(o,s.Hp.permission.POST_DELETE_ROLE_MEMBER_FAIL,(function(e){var t=e.error;return{content:F(t,U(C("common.operation_failed"),e))}})),(0,i.Z)(o,s.Hp.explorer.CREATE_FILE_SUCCESS,(function(e){if(e.payload.type===s.y0.NUM_FILE_TYPE.FOLDER)return{content:C("explorer.create_success")}})),(0,i.Z)(o,s.Hp.explorer.CREATE_TEAM_SPACE_SUCCESS,(function(e){return{content:C("explorer.team_space.create_success")}})),(0,i.Z)(o,S.H.ADD_STAR_SUCCESS,(function(e){var t=e.payload,n=t.type,r=t.objToken;return T.oL&&n===_.NUM_FILE_TYPE.WIKI?{content:C("explorer.home.add_star_success_message_v2"),actionText:C("CreationDoc_Wiki_MyClips_GoToButton"),onActionClick:function(){(0,O.navigateTo)({pathname:A.URL.FAVORITES,method:"push"})},key:r}:{content:C("explorer.home.add_star_success_message_v2")}})),(0,i.Z)(o,S.H.ADD_STAR_FAIL,(function(e){var t=(0,a.default)(e,"error.code");return(0,a.default)(e,"payload.objToken")===_.OBJ_TOKEN_FOR_PERMANENT_DELETE_FOLDER?{content:C("CreationDoc_Failed_FolderNotFound")}:t===g?{content:C("explorer.v3.already_added_to_quick_access")}:t===s.vU.STATUS_CODE.NOT_FOUND?{content:(0,a.default)(e,"payload.type")===_.NUM_FOLDER_TYPE.FOLDER?C("CreationDoc_Failed_FolderNotFound"):C("CreationDoc_NotExist_Tips")}:t===s.vU.STATUS_CODE.FORBIDDEN?{content:C("CreationDoc_NoPermission_Tips")}:{content:U(C("common.operation_failed"),e)}})),(0,i.Z)(o,S.H.REMOVE_STAR_SUCCESS,(function(e){var t;return{content:C("explorer.home.remove_star_success_message"),key:null===(t=e.payload)||void 0===t?void 0:t.objToken}})),(0,i.Z)(o,S.H.REMOVE_STAR_FAIL,(function(e){return{content:U(C("common.operation_failed"),e)}})),(0,i.Z)(o,p.H.ADD_PIN_SUCCESS,(function(e){return{content:C("explorer.home.add_pin_success_message")}})),(0,i.Z)(o,p.H.ADD_PIN_FAIL,(function(e){var t=(0,a.default)(e,"error.code");return t===g?{content:C("explore.already_pined")}:t===D?{content:C("explore.pin.out_of_limit")}:{content:U(C("common.operation_failed"),e)}})),(0,i.Z)(o,p.H.MOVE_PIN_FAIL,(function(e){return{content:U(C("common.operation_failed"),e)}})),(0,i.Z)(o,p.H.REMOVE_PIN_SUCCESS,(function(e){return{content:C("explorer.home.remove_pin_success_message")}})),(0,i.Z)(o,p.H.REMOVE_PIN_FAIL,(function(e){return{content:U(C("common.operation_failed"),e)}})),(0,i.Z)(o,s.Hp.explorer.SUBSCRIBE_START,(function(e){return{key:"".concat(s.Hp.explorer.SUBSCRIBE_START,"_TOAST"),type:s.y0.TOAST_TYPE.loading,delay:500,content:C("common.loading"),keepAlive:!0}})),(0,i.Z)(o,s.Hp.explorer.SUBSCRIBE_SUCCESS,(function(e){return{content:"is_subscribed_comment"===e.payload.field?C("CreationDoc_FollowComment_On_Toast"):C("explorer.home.subscribe_success")}})),(0,i.Z)(o,s.Hp.explorer.SUBSCRIBE_FAIL,(function(e){return{content:F(e.error,U(C("common.operation_failed"),e))}})),(0,i.Z)(o,s.Hp.explorer.UNSUBSCRIBE_START,(function(e){return{key:"".concat(s.Hp.explorer.UNSUBSCRIBE_START,"_TOAST"),type:s.y0.TOAST_TYPE.loading,delay:500,content:C("common.loading"),keepAlive:!0}})),(0,i.Z)(o,s.Hp.explorer.UNSUBSCRIBE_SUCCESS,(function(e){return{content:"is_subscribed_comment"===e.payload.field?C("CreationDoc_FollowComment_Off_Toast"):C("explorer.home.unsubscribe_success")}})),(0,i.Z)(o,s.Hp.explorer.UNSUBSCRIBE_FAIL,(function(e){return{content:F(e.error,U(C("common.operation_failed"),e))}})),(0,i.Z)(o,s.Hp.explorer.DELETE_TEMPLATE_SUCCESS,(function(e){return e.payload.noToast?{content:""}:{content:C("explorer.delete_success")}})),(0,i.Z)(o,s.Hp.explorer.DELETE_TEMPLATE_FAIL,(function(e){return{content:F(e.error,U(C("common.operation_failed"),e))}})),(0,i.Z)(o,s.Hp.comment.globalComment.SET_MOBILE_OFELINE_COMMENT_FAIL,(function(e){return{type:s.y0.TOAST_TYPE.error,content:C("common.operate_fail_and_try_again"),duration:2e3}})),(0,i.Z)(o,s.Hp.permission.SEND_FOLDER_PERMISSION_REQUEST_SUCCESS,(function(e){return{content:C("permission.send_apply_permission_success")}})),(0,i.Z)(o,s.Hp.permission.SEND_FOLDER_PERMISSION_REQUEST_FAIL,(function(e){return"mobile"===e.payload.deviceType&&e.error.code===s.vU.STATUS_CODE.CONNECT_ERROR?{content:C("permission.network_error")}:e.error.code===P?{type:s.y0.TOAST_TYPE.info,content:C("permission.send_apply_no_permission")}:{content:U(C("permission.send_apply_permission_fail"),e)}})),(0,i.Z)(o,s.Hp.permission.POST_SINGLE_CONTAINER_FOLDER_APPLY_PERM_SUCCESS,(function(e){return{content:C("permission.send_apply_permission_success")}})),(0,i.Z)(o,s.Hp.permission.POST_SINGLE_CONTAINER_FOLDER_APPLY_PERM_FAIL,(function(e){return e.error.code===P?{type:s.y0.TOAST_TYPE.info,content:C("permission.send_apply_no_permission")}:{content:U(C("permission.send_apply_permission_fail"),e)}})),(0,i.Z)(o,s.Hp.permission.COPY_TEXT_FAIL,(function(e){return{content:(0,u.cn)(u.vH.FILE_COPY)?C("permission.copy_fail_without_permission"):C("CreationDoc_ECM_AdminDisableToast")}})),(0,i.Z)(o,s.Hp.preference.FETCH_USER_PREFERENCE_FAIL,(function(){return{content:C("settings.fetch_settings_data_fail")}})),(0,i.Z)(o,s.Hp.preference.FETCH_UPDATE_USER_PREFERENCE_SUCCESS,(function(){return{content:C("settings.changes_saved")}})),(0,i.Z)(o,s.Hp.preference.FETCH_UPDATE_USER_PREFERENCE_FAIL,(function(){return{content:C("settings.setting_fail")}})),(0,i.Z)(o,s.Hp.permission.REMOVE_AUTHORIZED_MEMBERS_FAIL,(function(e){var t=e.error,n=(0,c.vR)(e);return n?{content:n}:{content:F(t,U(C("common.operation_failed"),e))}})),(0,i.Z)(o,s.Hp.permission.POST_FOLDER_INFO_ROLE_FAIL,(function(e){var t=e.error;return{content:F(t,U(C("common.operation_failed"),e))}})),(0,i.Z)(o,s.Hp.permission.POST_FOLDER_INFO_ROLE_SUCCESS,(function(e){return{content:C("explorer.teamspace.v1.folder_setting_success")}})),(0,i.Z)(o,m.H.SHOW_SHARE_FOLDER_SUCCESS,(function(e){return{content:C("explorer.v3.share_folder.show_success")}})),(0,i.Z)(o,m.H.HIDE_SHARE_FOLDER_SUCCESS,(function(e){return{content:C("explorer.v3.share_folder.hide_success")}})),(0,i.Z)(o,m.H.SHOW_SHARE_FOLDER_FAIL,(function(e){return{content:U(C("common.operation_failed"),e)}})),(0,i.Z)(o,m.H.HIDE_SHARE_FOLDER_FAIL,(function(e){return{content:U(C("common.operation_failed"),e)}})),(0,i.Z)(o,R.H.SHOW_V2_SHARED_FOLDER_SUCCESS,(function(e){return{content:C("explorer.v3.share_folder.show_success")}})),(0,i.Z)(o,R.H.HIDE_V2_SHARED_FOLDER_SUCCESS,(function(e){return{content:C("explorer.v3.share_folder.hide_success")}})),(0,i.Z)(o,R.H.SHOW_V2_SHARED_FOLDER_FAIL,(function(e){return{content:U(C("common.operation_failed"),e)}})),(0,i.Z)(o,R.H.HIDE_V2_SHARED_FOLDER_FAIL,(function(e){return{content:U(C("common.operation_failed"),e)}})),(0,i.Z)(o,s.Hp.permission.BULK_SET_EMBED_PERM_SUCCESS,(function(e){return{content:C("permission.invite_member_success")}})),(0,i.Z)(o,s.Hp.permission.BULK_SET_EMBED_PERM_FAIL,(function(e){var t=e.error.data.block_user_map,n=void 0===t?{}:t;if(!(Object.keys(n).length>0))return e.error.code===s.vU.PERMISSION_EMBED_DENIED_DUE_TO_TIME_EXPIRE?{type:s.y0.TOAST_TYPE.info,content:C("CreationDoc_ECM_InviteMember_TooMany_toast")}:{content:C("permission.invite_member_fail")}})),(0,i.Z)(o,s.Hp.explorer.DELETE_SHARED_RECORD_SUCCESS,(function(e){var t=e.payload.objTokens;return{content:t.length>1?C("removed_multi_items_successfully",t.length):C("explorer.removed_item_successfully")}})),(0,i.Z)(o,s.Hp.explorer.DELETE_SHARED_RECORD_FAIL,(function(e){return{content:U(C("explorer.v3.remove_failed"),e)}})),(0,i.Z)(o,s.Hp.rule.UPDATE_SMART_COLLECTION_FAIL,(function(e){return{content:C("smart_collection_rule_udapte_failed")}})),(0,i.Z)(o,s.Hp.rule.CREATE_SMART_COLLECTION_FAIL,(function(e){return{content:C("smart_collection_rule_create_failed")}})),(0,i.Z)(o,s.Hp.permission.UPDATE_SHARE_SPACE_SETTING_SUCCESS,x[h.UPDATE_PUBLIC_PERMISSION_SUCCESS]),(0,i.Z)(o,s.Hp.permission.UPDATE_SHARE_SPACE_SETTING_FAIL,x[h.UPDATE_PUBLIC_PERMISSION_FAIL]),(0,i.Z)(o,s.Hp.permission.UPDATE_SHARE_SPACE_MEMBER_PERMISSION_SUCCESS,x[h.UPDATE_MEMBERS_PERM_SUCCESS]),(0,i.Z)(o,s.Hp.permission.UPDATE_SHARE_SPACE_MEMBER_PERMISSION_FAIL,x[h.UPDATE_MEMBERS_PERM_FAIL]),(0,i.Z)(o,s.Hp.permission.UPDATE_SINGLE_CONTAINER_FOLDER_SETTING_SUCCESS,x[h.UPDATE_PUBLIC_PERMISSION_SUCCESS]),(0,i.Z)(o,s.Hp.permission.UPDATE_SINGLE_CONTAINER_FOLDER_SETTING_FAIL,x[h.UPDATE_PUBLIC_PERMISSION_FAIL]),(0,i.Z)(o,s.Hp.permission.POST_SINGLE_CONTAINER_FOLDER_MEMBERS_UPDATE_SUCCESS,x[h.UPDATE_MEMBERS_PERM_SUCCESS]),(0,i.Z)(o,s.Hp.permission.POST_SINGLE_CONTAINER_FOLDER_MEMBERS_UPDATE_FAIL,x[h.UPDATE_MEMBERS_PERM_FAIL]),(0,i.Z)(o,s.Hp.permission.POST_PASSWORD_CREATE_FAIL,(function(e){return{content:(0,c.vR)(e)||C("permission.password_set_fail")}})),(0,i.Z)(o,s.Hp.permission.POST_PASSWORD_DELETE_FAIL,(function(e){return{content:(0,c.vR)(e)||C("permission.password_set_fail")}})),(0,i.Z)(o,s.Hp.permission.POST_PASSWORD_REFRESH_FAIL,(function(e){return{content:(0,c.vR)(e)||C("permission.password_set_fail")}})),(0,i.Z)(o,s.Hp.permission.POST_LEAVE_TEAM_SPACE_SUCCESS,(function(){return{content:C("explorer.team_space.quit_success")}})),(0,i.Z)(o,s.Hp.permission.POST_LEAVE_TEAM_SPACE_FAIL,(function(e){var t=e.error;return{content:F(t,U(C("explorer.team_space.quit_failed"),e))}})),(0,i.Z)(o,s.Hp.permission.ADMIN_PERMISSION_FAIL,(function(e){return{content:C("CreationDoc_ECM_AdminDisableToast")}})),(0,i.Z)(o,s.Hp.explorer.APPEAL_FAIL,(function(e){return e.error.code===I.AJ.NOT_EDIT?e.payload.currentType===_.NUM_FOLDER_TYPE.FOLDER?{content:C("appealing_folder_modal_decline")}:{content:C("appealing_decline")}:{content:C("error.operation_fail_twice_retry")}})),(0,i.Z)(o,s.Hp.permission.POST_SUITE_UNLOCK_SUCCESS,(function(e){return{content:C("CreationDoc_Wiki_Restored_Toast")}})),(0,i.Z)(o,s.Hp.permission.POST_SUITE_UNLOCK_FAIL,(function(e){return{content:C("CreationDoc_Wiki_CannotRestore_Toast")}})),(0,i.Z)(o,s.Hp.permission.POST_SPACE_UNLOCK_SUCCESS,(function(e){return{content:C("CreationDoc_Wiki_Restored_Toast")}})),(0,i.Z)(o,s.Hp.permission.POST_SPACE_UNLOCK_FAIL,(function(e){return{content:C("CreationDoc_Wiki_CannotRestore_Toast")}})),(0,i.Z)(o,s.Hp.permission.CHECK_SUITE_LOCK_STATE_CHANGE_FAIL,(function(e){return{content:C("permission.set_public_permission_fail")}})),(0,i.Z)(o,s.Hp.permission.CHECK_SPACE_LOCK_STATE_CHANGE_FAIL,(function(e){return{content:C("permission.set_public_permission_fail")}})),(0,i.Z)(o,s.Hp.permission.TRANSFER_SUITE_OWNER_FAIL,(function(e){var t=(0,c.vR)(e);return t?{content:t}:{content:C("common.operation_failed")}})),(0,i.Z)(o,s.Hp.explorer.TRANSFER_SHARE_FOLDER_OWNER_FAIL,(function(e){return{content:(0,a.default)(e,"error.code")===s.vU.PERMISSION_SHARE_SPACE_FOLDER_TRANSFER_LIMIT?C("CreationDoc_transfer_my_tooMany"):C("common.operation_failed")}})),(0,i.Z)(o,s.Hp.template.CREATE_BY_TEMPLATE_FAIL,B),(0,i.Z)(o,s.Hp.template.CREATE_BY_TEMPLATE_I18N_ID_FAIL,B),o);t.ZP=W},426466:function(e,t,n){"use strict";n.d(t,{xM:function(){return u.x},C_:function(){return u.C},FT:function(){return _},UD:function(){return E},LM:function(){return l},yP:function(){return T},A7:function(){return p},Q6:function(){return S},Zj:function(){return I},Aw:function(){return O}});var r=n(298652),o=n(455982),i=n(523232),a=n(359980),c=n(481382),u=n(506976),s=function(e){return e.appState.fetchStatus},_=function(e){return function(t){return s(t).get(e,(0,o.d0)({status:c.StatusMap.uninitialized}))}},E=function(e){return function(t){return function(e,t){return s(e).getIn([t,"status"],c.StatusMap.uninitialized)}(t,e)}},l=function(e){return function(t){return s(t).getIn([e,"isContinuous"],!1)}},f=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return c.loadedStatus.indexOf(e)>-1}))},d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return c.StatusMap.loaded===e}))},T=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.P1.apply(null,[].concat(t,[f]))},p=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.P1.apply(null,[].concat(t,[d]))},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.P1.apply(null,[].concat((0,r.Z)(e.map(E)),[f]))},I=function(e){return(0,a.default)(e,"docx.cover.coverInfo",null)};function O(e){return(0,a.default)(e,"docx.viewEditors.isOpen",!1)}},389859:function(e,t,n){"use strict";n.d(t,{tn:function(){return d},Ds:function(){return T},C9:function(){return p},v6:function(){return S},HU:function(){return I}});var r=n(455982),o=n(523232),i=n(978733),a=n(71665),c=n(481382),u=n(808926),s=n(859378),_=n(958608),E=n(702115),l=(0,r.aV)([]),f=(0,r.D5)({}),d=(0,o.P1)(_.t2,(function(e){return e&&c.folderType.includes(e.type)?e:null})),T=(0,o.P1)(d,E.dk,(function(e,t){return e?(0,i.gt)(e)?t:(0,i.Hk)(e)&&(0,s.cJ)()?(0,r.D5)({role:a.G7.manager,invite:!0}):f:f})),p=(0,o.P1)(d,E.Ae,E.Qy,u.HF,(function(e,t,n,o){return e?(0,i.HE)(e)?n||l:(0,i.Cm)(e)?(0,i.l8)(e)?t||l:(0,r.d0)([{owner_id:o.get("id"),owner_type:0,owner_name:o.get("name"),avatar_url:o.get("avatar_url"),is_owner:!0}]):l:l})),S=(0,o.P1)(d,(function(e){return e?e.obj_token:""})),I=(0,o.P1)(d,(function(e){return e?e.space_id:""}))},88896:function(e,t,n){"use strict";n.d(t,{HJ:function(){return c},_S:function(){return u},W5:function(){return s},Ni:function(){return _},wC:function(){return E},dn:function(){return l},uH:function(){return f},P$:function(){return d},RX:function(){return T}});var r=n(523232),o=n(702115),i=n(912767),a=function(e){return e.appState.findReplace},c=(0,r.P1)(a,(function(e){return e.isOpen})),u=(0,r.P1)(a,o.HQ,i.ZV,(function(e,t,n){return!t||e.showOnlyFindRow||n&&n.status.translated})),s=(0,r.P1)(a,o.HQ,i.ZV,(function(e,t,n){return t&&e.showOnlyFindRow&&!(n&&n.status.translated)})),_=(0,r.P1)(a,(function(e){return e.findText})),E=(0,r.P1)(a,(function(e){return e.replaceText})),l=(0,r.P1)(a,(function(e){return e.isFinding})),f=(0,r.P1)(a,(function(e){return e.isReplacingAll})),d=(0,r.P1)(a,(function(e){return e.result})),T=(0,r.P1)(a,(function(e){return e.style}))},726148:function(e,t,n){"use strict";n.d(t,{fi:function(){return o},af:function(){return i},np:function(){return a},Rt:function(){return c}});var r=function(e){return e.appState.leanModeConfig},o=function(e){return r(e).get("folderHidden")},i=function(e){return r(e).get("favoritesHidden")},a=function(e){return r(e).get("wikiHidden")},c=function(e){return r(e).get("fetchPartData")}},246909:function(e,t,n){"use strict";n.d(t,{o:function(){return r}});var r=function(e){return e.appState.multiStageRender}},506976:function(e,t,n){"use strict";n.d(t,{C:function(){return o},x:function(){return i}});var r=n(523232),o=function(e){return e.appState.route},i=(0,r.P1)(o,(function(e){return e.get("query")}))},912767:function(e,t,n){"use strict";n.d(t,{ZV:function(){return o},nb:function(){return i},yb:function(){return a},Kn:function(){return c},f4:function(){return u},GZ:function(){return s},GT:function(){return _},Rt:function(){return E}});var r=n(528093),o=function(e){return e.appState.translate},i=function(e){var t=o(e);return t.config.src_lang===t.config.target_lang},a=function(e){return o(e).config.target_lang},c=function(e){var t=o(e);return{enableTranslate:t.status.comment_enable_translate,targetLang:t.config.target_lang,translateContentCompare:t.config.display_type===r.Qs.WITH_ORIGINAL}},u=function(e){return o(e).config},s=function(e){return o(e).status},_=function(e){return s(e).had_enter_translate_mode},E=function(e){return s(e).translated}},521543:function(e,t,n){"use strict";n.d(t,{q:function(){return i}});var r=n(360851),o={tab_limit:5,timeout_pocket:108e5,overload_tab_limit:10,noopener_tab_limit:8,tab_manager_beat_time:3e4,tab_manager_disabled_time:6e4,crash_tracker_beat_time:3e4,crash_tracker_disabled_time:6e4,mock_safari_open:!1},i=function(){return(0,r.dq)("ccm_gpe_common_resource_release",o)}},235446:function(e,t,n){"use strict";n.d(t,{x:function(){return b}});var r,o,i,a=n(919264),c=n(804175),u=n(284113),s=n(481382),_=n(978083),E=n(339956),l=n(978733),f=n(360851),d=n(941985),T=n(526289),p=n(887035),S=n(359980),I=n(746986),O=n(93649),R="tabStatus",m=216e5,A=/^tabStatus_/;!function(e){e.TabCountChange="TabCountChange",e.SuspendTab="SuspendTab"}(r||(r={})),function(e){e.Active="active",e.Inactive="inactive"}(o||(o={})),function(e){e.ReactivateTab="reactivate_tab",e.SuspendTab="suspend_tab",e.ReportOnly="report_only"}(i||(i={}));var C=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.Z)(this,e),this.options=n,this._id=window.teaMap&&window.teaMap.sessionId||this._generateUniqId(),this._beatTimer=0,this._updateTimer=0,this._suspendTimer=0,this._tabCount=1,this._listener=new Map,this._initEvent=function(){window.addEventListener("beforeunload",t._onUnload),document.addEventListener("visibilitychange",t._onVisibilityChange),window.addEventListener("storage",t._onStorageChange)},this._onStorageChange=function(){var n=e.getTabCount();if(n!==t._tabCount){var o=t._listener.get(r.TabCountChange);o&&o.forEach((function(e){return e()})),t._updateTabCount(n)}},this._onLoad=function(){var e=Date.now();t._updateCurTabStatus({activateTime:e,leaveTime:e}),t._heartbeat(),"visible"===document.visibilityState&&t.checkStatus()},this._onUnload=function(){localStorage.removeItem("".concat(R,"_").concat(t._id)),t.destroy()},this._onVisibilityChange=function(){if("visible"===document.visibilityState){window.clearTimeout(t._suspendTimer);var e=Date.now();t._report(i.ReactivateTab,e),t._updateCurTabStatus({activateTime:e,leaveTime:e,suspended:!1}),t.checkStatus()}else t._updateCurTabStatus({leaveTime:Date.now()}),window.clearTimeout(t._beatTimer)},this._report=function(n,r){var o=e.getTabStatus(t._id);if(o){var a=o.leaveTime;if(a){var c=r-a;if(n===i.ReactivateTab&&c<t._reportReactivateTimeLimit)return;(0,I.default)("tab_manager",t.getReportData(n,c)),n===i.SuspendTab&&window.htmlCollectEvent("tab_manager",Object.assign({},t.getReportData(n,c),{action:"".concat(n,"_force")}))}}},this._heartbeat=function(){t._updateTimer=window.setInterval((function(){t._updateCurTabStatus({activateTime:Date.now()});var n=e.getTabCount();n>t._overloadTabLimit?t._trySuspendTab(!0):n>t._tabCountLimit&&t._trySuspendTab()}),t._beatTime)},this._updateCurTabStatus=function(n){var r=e.getTabStatus(t._id)||{};n.activateTime&&(r.activateTime=n.activateTime),n.leaveTime&&(r.leaveTime=n.leaveTime),!1===n.suspended?delete r.suspended:!0===n.suspended&&(r.suspended=!0),(r.activateTime||r.leaveTime)&&e.setTabStatus(t._id,r)},this.checkStatus=function(){window.clearInterval(t._beatTimer),t._beatTimer=window.setInterval((function(){var n=e.getAllStatus(),r=Object.keys(n),o=Date.now();r.forEach((function(e){var r=n[e].activateTime;(!r||o-r>t._disabledTime)&&localStorage.removeItem(e)}))}),t._beatTime)},this.getCurTabStatus=function(){return e.getTabStatus(t._id)},this.setTabCountLimit=function(e){t._tabCountLimit=e},this.addListener=function(e,n){var r=t._listener.get(e);r||(r=[],t._listener.set(e,r)),r.push(n)},this.removeListener=function(e,n){if(t._listener.has(e)){var r=t._listener.get(e),o=r.indexOf(n);-1!==o&&r.splice(o,1)}},this.destroy=function(){t._listener.clear(),window.clearTimeout(t._beatTimer),window.clearTimeout(t._updateTimer),document.removeEventListener("visibilitychange",t._onVisibilityChange),window.removeEventListener("beforeunload",t._onUnload),window.removeEventListener("storage",t._onStorageChange)},this._tabCountLimit=n.tabCountLimit||50,this._suspendTabTimeLimit=n.suspendTabTimeLimit||m,this._overloadTabLimit=n.overloadTabLimit||50,this._initEvent(),this._onLoad(),window._DONT_USE_SUSPEND=this._suspend.bind(this)}return(0,c.Z)(e,[{key:"_generateUniqId",value:function(){return"".concat(~~(1e9*Math.random()))}},{key:"getReportData",value:function(e,t){return Object.assign({action:e,status:"visible"===document.visibilityState?o.Active:o.Inactive,inactive_duration:Math.floor(t/1e3)},this.defaultReportOptions)}},{key:"_updateTabCount",value:function(e){this._tabCount=e}},{key:"_trySuspendTab",value:function(t){var n=this;if("visible"!==document.visibilityState){var r=e.getAllStatus(),o=Object.keys(r);if(!(o.length-this._tabCountLimit<=0)){var i="".concat(R,"_").concat(this._id),a=r[i]&&r[i].leaveTime;if(!(Date.now()-a<this._suspendTabTimeLimit)||t){var c=!0;o.forEach((function(e){if(e!==n._id){var t=r[e]&&r[e].leaveTime;if(t){var o=r[e]&&r[e].suspended;t<a&&!o&&(c=!1)}}})),c&&(this._suspendTimer=window.setTimeout((function(){n._suspend()}),6e4))}}}}},{key:"_suspend",value:function(){var e=this._listener.get(r.SuspendTab),t=this.options.canLeavePage;t&&t()&&(this._report(i.SuspendTab,Date.now()),e&&e.forEach((function(e){return e()}))),this._updateCurTabStatus({suspended:!0})}},{key:"_beatTime",get:function(){return Math.min(3e5,Math.max(this._suspendTabTimeLimit/10,1e4))}},{key:"_disabledTime",get:function(){return 36e4}},{key:"_reportReactivateTimeLimit",get:function(){return Math.floor(.8*this._suspendTabTimeLimit)}},{key:"defaultReportOptions",get:function(){return{tab_count:e.getTabCount(),tab_limit:this._tabCountLimit,time_limit:this._suspendTabTimeLimit,tab_over_load_limit:this._overloadTabLimit}}}],[{key:"getTabStatus",value:function(e){return O.Z.getItem("".concat(R,"_").concat(e))}},{key:"setTabStatus",value:function(e,t){O.Z.setItemSafely("".concat(R,"_").concat(e),t)}},{key:"getAllStatus",value:function(){var e={};return Object.keys(localStorage).forEach((function(t){A.test(t)&&(e[t]=O.Z.getItem(t))})),e}},{key:"getTabCount",value:function(){var e=0;return Object.keys(localStorage).forEach((function(t){A.test(t)&&e++})),e}}]),e}(),h=n(521543),v=function(){function e(t){var n=this;(0,a.Z)(this,e),this.option=t,this.strategies=[],this.onMaxTab=function(){n.strategies.forEach((function(e){return e.release()}))}}return(0,c.Z)(e,[{key:"addStrategy",value:function(e){this.strategies.push(e)}},{key:"start",value:function(){this.initManager(),this.tabStatusManager.addListener(r.SuspendTab,this.onMaxTab)}},{key:"stop",value:function(){this.tabStatusManager&&this.tabStatusManager.removeListener(r.SuspendTab,this.onMaxTab)}},{key:"initManager",value:function(){if(!this.tabStatusManager){var e=(0,h.q)(),t=(0,S.default)(window,"performance.memory.jsHeapSizeLimit")>=2197815296?1:.6,n=Math.ceil(e.tab_limit*t)||Number.MAX_SAFE_INTEGER,r=Math.ceil(e.timeout_pocket*t)||Number.MAX_SAFE_INTEGER,o=Math.ceil(e.overload_tab_limit*t)||Number.MAX_SAFE_INTEGER;this.tabStatusManager=new C(Object.assign({tabCountLimit:n,suspendTabTimeLimit:r,overloadTabLimit:o},this.option))}}}]),e}(),D=n(531012),N=n(742097),L=n(77112),y=n(44014),P=n(671914);var g=(0,L.X)("/preview"),M=function(){function e(t){(0,a.Z)(this,e),this.option=t}return(0,c.Z)(e,[{key:"release",value:function(){if(this.option.canLeavePage()&&(0,_.Gg)()){var e=(0,E.LP)(),t=window.document.querySelector('[rel="icon"][sizes="256x256"]'),n=(0,u.yj)()?"suspended!":document.title,r=N.Z.protocol,o=N.Z.host,i=N.Z.pathname,a=N.Z.search,c=(0,P.Mo)(),s=D.format({protocol:r,host:o,pathname:i,query:c});console.log("going to suspend: ".concat(s)),sessionStorage.setItem(e.slice(0,15),JSON.stringify({title:n,icon:t?t.href:"",prevUrl:s}));var l="",f=(0,y.locateRoute)();if(f.isDoc)l="".concat(g,"/doc/").concat(e,"?v2=true");else if(f.isSheet){var d=c.sheet;l="".concat(g,"/sheet/").concat(e).concat(d?"?sheet=".concat(d):"")}else f.isDocx&&(l="".concat(g,"/docx/").concat(e),l+=(0,L.WG)()?a:"");l&&setTimeout((function(){N.Z.href=l}),200)}}}]),e}(),b=new(function(){function e(){var t=this;(0,a.Z)(this,e),this.schedules=[],this.canLeavePageHandlers=[_.Gg,function(){return!t.hasError()},function(){return!s.isAnonymousAccess},function(){return!(0,u.KH)()},function(){return t.isEnable()}],this.onVisibilityChange=function(){"hidden"===document.visibilityState?t.startSchedule():"visible"===document.visibilityState&&t.clearSchedule()},this.canLeavePage=function(){return t.canLeavePageHandlers.every((function(e){return e()}))}}return(0,c.Z)(e,[{key:"init",value:function(){document.addEventListener("visibilitychange",this.onVisibilityChange),this.buildSchedule(),this.addCanLeavePageHandler((function(){return"fatal"!==window.padStatus})),document.hidden&&this.startSchedule()}},{key:"addCanLeavePageHandler",value:function(e){this.canLeavePageHandlers.push(e)}},{key:"removeCanLeavePageHandler",value:function(e){this.canLeavePageHandlers=this.canLeavePageHandlers.filter((function(t){return t!==e}))}},{key:"addSchedule",value:function(e){this.schedules.push(e)}},{key:"destroy",value:function(){document.removeEventListener("visibilitychange",this.onVisibilityChange),this.clearSchedule()}},{key:"buildSchedule",value:function(){var e=new M({canLeavePage:this.canLeavePage}),t=new v({canLeavePage:this.canLeavePage});t.addStrategy(e),this.schedules=[t]}},{key:"startSchedule",value:function(){this.isEnable()&&this.schedules.forEach((function(e){return e.start()}))}},{key:"clearSchedule",value:function(){this.schedules.forEach((function(e){return e.stop()}))}},{key:"isEnable",value:function(){var e=(0,E.pv)();return this.enableProducts.includes(e)}},{key:"hasError",value:function(){var e=(0,p.bJ)(d.ZP.getState()),t=(0,T.To)("currentSuite")(d.ZP.getState()),n=(0,T.To)("userPermissionOnSuite")(d.ZP.getState()),r=e&&(0,l.xj)(e),o=t&&t.get&&t.get("code"),i=n&&n.get&&n.get("code");return r||o||i}},{key:"enableProducts",get:function(){var e=[];return(0,f.k8)("common_resource_release_doc")&&e.push(s.FILE_TYPE.DOC),(0,f.k8)("common_resource_release_sheet")&&e.push(s.FILE_TYPE.SHEET),e.push(s.FILE_TYPE.DOCX),e}}]),e}())},319966:function(e,t,n){"use strict";n.d(t,{gi:function(){return H},up:function(){return U},mi:function(){return w}});var r=n(529644),o=n.n(r),i=n(68675),a=n(359980),c=n(548397),u=n(47817),s=n.n(u);function _(e){return"application/json"!==(0,a.default)(e,["headers","Content-Type"])&&"post"===e.method&&(0,c.Z)(e.data)?s().stringify(e.data,{arrayFormat:"repeat"}):e.data}var E=n(26278),l=n(812083),f=n(237014),d=n(207856),T=n(591045),p=n(77112),S=n(981387),I=n(501455),O=n(517903),R=n(72435),m=n(652115),A=n(339956),C=n(614795),h=n(51473),v=n(880534),D=["meta","data","code","msg"];var N=n(215661),L=n(979512),y=n(125135),P=n(70393),g=n(805639),M=n(360851),b=n(294759);o().defaults.withCredentials=!0;var k=o().create({baseURL:i.v2,withCredentials:!0,paramsSerializer:function(e){return s().stringify(e,{arrayFormat:"repeat"})},headers:{"Content-Type":"application/x-www-form-urlencoded"}});N.Z.isOpendoc&&k.interceptors.request.use(L.M),k.interceptors.request.use((function(e){var t=(0,I.Y)();if(e.ignoreInterceptors)return e;e.data&&e.data.context&&(t=e.data.context.request_id||t,e.data.context.request_id=t);var n=(0,O.WB)({requestId:t}),r=Object.assign({},n,{},e.headers);return Object.assign(e,{headers:r})})),k.interceptors.request.use((function(e){return(0,f.GV)(e),e.ignoreInterceptors?e:Object.assign({},e,{data:_(e),headers:(0,d.kP)(e),timeout:e.timeout||i.wX})})),b&&(0,S.jS)("boeUseBOE")&&k.interceptors.request.use((function(e){var t=(0,S.jS)("boeTTFeatureEnv");return e.headers=Object.assign({"x-tt-env":t},e.headers),e})),k.interceptors.request.use((function(e){return e.apiType===p.An.SPACE_API?Object.assign({},e,{headers:(0,d.gO)(e)}):e})),k.interceptors.request.use((function(e){return e.ignoreInterceptors?e:Object.assign({},e,{headers:(0,d.Or)(e)})})),N.Z.isOpendoc&&k.interceptors.response.use(L.y),P.No&&P.ye&&k.interceptors.response.use((function(e){var t=(0,a.default)(e,"data.code");return(0,R.ff)(t),e})),k.interceptors.response.use((function(e){var t,n=(0,a.default)(e,"data.code"),r=(0,a.default)(e,"data.data.code"),o=(0,a.default)(e,"config");if(!o)return e;var i=[C.GET_SHEET_MIXED_HISTORY_LIST,C.GET_SHEET_HISTORY_FIRST_V2,C.FETCH_BLOCKS_SPREADSHEET_V2,C.POST_BOX_FILE_INFO,v.vh.HISTORY_SNAPSHOT_URL,v.vh.HISTORY_LIST_URL,C.GET_MINDNOTE_HISTORY_LIST,C.GET_MINDNOTE_HISTORY_PREVIEW];return o.url&&"string"==typeof o.url&&i.some((function(e){return o.url.startsWith(e)}))||(n===l.STATUS_CODE.KEY_INVALID||r===l.STATUS_CODE.KEY_INVALID||o.url===C.GET_META&&(null==o||null===(t=o.params)||void 0===t?void 0:t.token)===(0,A.LP)()&&(0,a.default)(e,"data.data.title_secure_key_deleted",!1))&&(0,h.O)(),e})),M.Ef&&k.interceptors.response.use((function(e){var t=(0,a.default)(e,"data.code");if(l.MULTI_GEO_ERROR_CODE_MAP[t]){var n=(0,a.default)(e,"config.method"),r=(0,a.default)(e,"config.url");"post"===n.toLowerCase()&&(r.includes("/wiki/v2/")||r.includes("/create_wiki"))&&(0,m._N)((0,R.bV)(t))}return e})),k.interceptors.response.use((function(e){var t=e.config;if(!t)return e;if(t.ignoreInterceptors)return(0,f.Nt)(e.config,e.request,e.data),(0,f.Xq)(e),e;var n=(0,a.default)(e,"data.code");if(void 0!==n&&0!==n){var r=(0,T.zN)(e);return Promise.reject(r)}return(0,f.Nt)(e.config,e.request,e.data),(0,f.Xq)(e),function(e){var t=e.config,n=e.data,r=e.status;if(!t)return e;var o=n.meta,i=n.data,a=n.code,c=(n.msg,(0,E.Z)(n,D)),u=Object.assign(o||{},{originResponse:e});return t.mergeRequestHeaderIntoMeta&&(u=Object.assign({},u,{},t.headers)),"number"==typeof t.__startTime&&(u=Object.assign({},u,{durationTime:(new Date).getTime()-t.__startTime})),i?Object.assign({code:a,data:i,meta:u,httpStatus:r},c):{code:a,data:n,meta:u,httpStatus:r}}(e)})),(0,y.Z)(k);var w=(0,g.R)(k),H=(0,g.R)(k,i.sF),U=(0,g.R)(k,i.B_)},68675:function(e,t,n){"use strict";n.d(t,{v2:function(){return o},wX:function(){return i},sF:function(){return a},B_:function(){return c}});var r=n(77112),o=(0,r.X)(""),i=1e4,a={headers:{"Content-Type":"application/json"}},c={baseURL:(0,r.zr)("")}},125135:function(e,t,n){"use strict";n.d(t,{z:function(){return B}});var r,o=n(367017),i=n.n(o),a=n(335067),c=n(774561),u=n(199933),s=n(742097),_=n(529644),E=n.n(_),l=n(455982),f=n(647246),d=n(359980),T=n(654313),p=n(284113),S=n(77112),I=n(216343),O=n(501455),R=n(746986),m=(0,n(360851).k8)("disaster_recovery_enable",!0),A="Request-id",C=3e5,h=["drive_api","frontier","image","space_api","overload_static_domain"],v=(0,l.D5)(),D=(r={},(0,c.Z)(r,S.Jt,S.An.DRIVE_API),(0,c.Z)(r,S.Ky,S.An.SPACE_API),r);function N(e){window.localStorage.setItem(S.Dz,JSON.stringify(e))}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S.An.SPACE_API,t=arguments.length>1?arguments[1]:void 0,n=Number(new Date);window.localStorage.setItem("".concat(S.Dz,"_").concat(e),"".concat(t,"|").concat(n))}function y(e){return JSON.parse(window.localStorage.getItem(S.Dz)||"{}")[e]}function P(e,t){var n=y(e);return n&&0!==n.length&&(n=(0,T.Z)(n).filter((function(e){return!t.has(e)}))).length?n[0]:""}function g(){if((0,p.yj)()){var e=(0,p.vo)("docsLocation.origin",""),t={drive_api:[e],space_api:[e]};return console.info("set local backup domain"),N(t),Promise.resolve(t)}var n="".concat(s.Z.origin).concat("/space/api/infra/domains?types=space_api&types=drive_api&protocol_version=1");return E().request({url:n,headers:{"Request-Id":(0,O.Y)()}}).then((function(e){var t=(0,d.default)(e,"data.data");return N(t),v&&v.clear(),console.info("clear errorRetryReqTraceMap"),t}),(function(e){N(window.globalConfig)}))}function M(e){var t=JSON.parse(window.localStorage.getItem(S.Dz)||"{}"),n="";return n=D[e],t&&Object.keys(t).forEach((function(r){n||h.includes(r)&&t[r].some((function(t){return t===e&&(n=r,!0)}))})),n}function b(e,t){var n=e.baseURL,r=n.replace((0,S.k$)(n).host,t);return Object.assign(e,{baseURL:r,data:e.rawReq.data,backupMode:!0})}function k(e,t){return e/t<2}var w={networkErrorCount:0,total:0};function H(e){return e>=400&&e<500&&404!==e}function U(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Number(new Date);Object.keys(S.An).forEach((function(n){var r="".concat(S.Dz,"_").concat(S.An[n]),o=(window.localStorage.getItem("".concat(S.Dz,"_").concat(S.An[n]))||"").split("|");(e||o.length&&Number(o[1])<t-C)&&window.localStorage.removeItem(r)}))}function F(){return!((0,S.WG)()||m)}function Z(e){return Boolean((0,S.k$)(e.url).backslash)?(0,S.k$)(e.url).host:(0,S.k$)(e.baseURL).host}function x(e){var t=(0,f.default)(e),n=Boolean((0,S.k$)(t.url).backslash);n?(t.baseURL=t.url,t.url=""):"/"!==t.url.charAt(0)&&(console.warn("request with url:".concat(t.url," not standard, pathname should start with '/'")),console.warn("See: https://developer.mozilla.org/en-US/docs/Web/API/URL/pathname"),t.url=(0,u.join)("/",t.url));var r=(0,S.k$)(t.baseURL).pathname,o=(0,S.k$)(t.url).pathname,i=(0,S.k$)(n?t.baseURL:t.url).search;return t.baseURL=function(e){var t=(0,S.k$)(e);if(t){var n=t.backslash,r=t.protocol,o=t.host;return n?"".concat(r).concat(n).concat(o):""}return s.Z.origin}(t.baseURL),t.url=[(0,u.join)(r,o),i].join(""),t}function B(){try{F()||(setInterval(g,6e5),(e=window.localStorage.getItem("cdn_error_count"))&&(0,R.default)("cdn_error_handle",{error_count:e}),setInterval((function(){w.total=0,w.networkErrorCount=0}),15e3),U())}catch(e){console.info("初始化域名容灾失败 =>",e)}var e}function W(e){var t=(window.localStorage.getItem("".concat(S.Dz,"_").concat(e))||"").split("|");return t.length?t[0]:null}t.Z=function(e){if(arguments.length>1&&void 0!==arguments[1]||S.An.SPACE_API,!(0,I.lG)())if(F())U(!0);else{e.interceptors.request.use((function(e){w.total++;var t=x(e);try{var n=Z(t),r=M(n),o=(0,d.default)(e,"requestId",""),i=v.get(o)||0;y(r)&&i>=y(r).length&&v.delete(o);var a=W(r);if(!(0,p.yj)()&&a&&!e.skipDisasterRecovery)return t.baseURL=t.baseURL.replace(n,a),t.hardBackupMode=!0,t.rawReq=(0,f.default)(e),t.apiType=r,t;e.apiType=r}catch(e){console.error("useDisasterRecovery error ",e)}return e.rawReq=(0,f.default)(e),e})),e.interceptors.response.use((function(e){var t={baseURL:e.config.baseURL,url:(0,R.processTokenInString)(e.config.url),hard_mode:!1};if((0,d.default)(e,"config.backupMode")&&(0,R.default)("disaster_recovery_success",t),(0,d.default)(e,"config.hardBackupMode")&&(t.hard_mode=!0,(0,R.default)("disaster_recovery_success",t)),e.config){var n=(0,d.default)(e,"config.headers[".concat(A,"]"),"");v.delete(n)}return e}),function(){var t=(0,a.Z)(i().mark((function t(n){var r,o,a,c,u,s,_,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n.status||!n.config){t.next=25;break}if(r=n.response&&n.response.status,!F()&&window.navigator.onLine&&!H(r)&&!E().isCancel(n)){t.next=5;break}return t.abrupt("return",Promise.reject(n));case 5:if(w.networkErrorCount++,o=x(n.config),a=Z(o),c=M(a),u={baseURL:o.baseURL,url:(0,R.processTokenInString)(o.url),type:c,hard_mode:!1,code:r},!c||o.skipDisasterRecovery){t.next=25;break}if(o.backupMode&&(0,R.default)("disaster_recovery_fail",Object.assign({host:a},u)),s=o.retriedDomain||new Set([a]),_=P(c,s),window.localStorage.getItem(S.Dz)&&!(0,p.yj)()&&_){t.next=18;break}return t.next=17,g();case 17:_=P(c,s);case 18:if(k(w.total,w.networkErrorCount)&&_&&(L(c,_),u.hard_mode=!0),(0,R.default)("disaster_recovery_handle",u),!_){t.next=25;break}return l=b(o,_),s.add(_),l.retriedDomain=s,t.abrupt("return",e.request(l));case 25:t.next=30;break;case 27:t.prev=27,t.t0=t.catch(0),console.error(t.t0);case 30:return t.abrupt("return",Promise.reject(n));case 31:case"end":return t.stop()}}),t,null,[[0,27]])})));return function(e){return t.apply(this,arguments)}}());var t=e.interceptors.response.handlers,n=t.length,r=t[n-1];t.pop(),t.unshift(r)}}},805639:function(e,t,n){"use strict";n.d(t,{R:function(){return Z}});var r=n(26278),o=n(768133),i=n(529644),a=n.n(i),c=n(359980),u=n(972429),s=n(548397),_=n(282898),E=n(873900),l=n(501455),f=n(261736),d=n(671914),T=n(746986),p=n(957406),S=n(217376),I=n(299573),O=n(237014),R=n(591045),m=n(360851);var A=n(635382),C=n(812083),h=n(367017),v=n.n(h),D=n(919264),N=n(804175),L=function(){function e(){(0,D.Z)(this,e),this.head=void 0,this.tail=void 0}return(0,N.Z)(e,[{key:"add",value:function(e){var t={value:e,next:void 0};this.head||(this.head=t),this.tail&&(this.tail.next=t),this.tail=t}},{key:"dequeue",value:function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head||(this.tail=void 0),e}}},{key:"traverse",value:function(){var e=[];if(!this.head)return e;return function t(n){return e.push(n.value),n.next?t(n.next):e}(this.head)}},{key:"size",value:function(){return this.traverse().length}},{key:"isEmpty",value:function(){return void 0===this.head}},{key:"values",value:v().mark((function e(){var t;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.value;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))}]),e}();function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){var t=e.interval,n=void 0===t?1e3:t,r=e.maxCount,o=void 0===r?100:r,i=e.onLimit,a=!1,c=new L;function u(e){for(var t=Number(Date.now()),r=t-n;!c.isEmpty()&&c.head.value.time<=r;)c.dequeue();return c.add({url:e.replace(/\?.*/,""),time:t}),c.size()>o}return function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n[0];return u(o.url)&&"function"==typeof i&&!a?(i(c),a=!0,Promise.reject(new C.OverloadProtectionError)):e.apply(void 0,n)}}},M=n(60618),b=["url"],k=["data"];var w,H,U,F=g(Object.assign({},(w="request_meltdown_config",H=(0,c.default)(window,"User.settingsConfig"),U=(0,u.default)(H)?null:w?H[w]:H,(0,s.Z)(U)?U:{}),{onLimit:function(e){I.Z.show({title:M("error.internal_error_please_refresh"),body:M("error.request_overload"),confirmText:M("common.refresh"),hasCancel:!1,closable:!1,maskClosable:!1,onConfirm:function(){return(0,p.j)()}});var t=function(e){var t,n={},r=y(e.values());try{for(r.s();!(t=r.n()).done;){var o=t.value.url,i=void 0===o?"unknown":o;n[i]||(n[i]={url:i,count:0}),n[i].count++}}catch(e){r.e(e)}finally{r.f()}return(0,A.Z)(n,(function(e){return-e.count})).splice(0,5)}(e);(0,T.default)("request_meltdown",{top_path:t[0].url,top_path_count:t[0].count,top5_path:t.map((function(e){return"".concat(e.url,":").concat(e.count)})).join(";")})}}));function Z(e,t){var n=function(n){var o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"request",c=a().CancelToken.source(),u=n=(0,_.Z)({},t,{cancelToken:c.token},x(n)),s=u.url,l=(0,r.Z)(u,b);if(window["__REQUEST_CACHE__".concat(s)]){var f=window["__REQUEST_CACHE__".concat(s)],d=f.params,T=f.response;if(window["__REQUEST_CACHE__".concat(s)]=void 0,JSON.stringify(d)===JSON.stringify(l.params)){var p=T.code,S=T.data,I=T.msg,m={code:p,data:S,message:I,meta:{durationTime:0}};return(0,O.GV)(n),(0,O.Nt)(n,null,m),Promise.resolve(m)}}switch(i){case"request":o=e.request(n);break;case"post":var A=l.data,C=(0,r.Z)(l,k);o=e.post(s,A,C);break;default:o=e[i](s,l)}function h(){return c.cancel("RequestCancelledByUser")}return o=o.then((function(e){return e}),(function(e){return(0,R.Bm)(e,n)})),o.abort=h,o[E.CANCEL]=h,o.apiType=n.apiType,o};return(0,m.tL)("request_meltdown_ajax_enable")&&(n=F(n)),["head","options","get"].forEach((function(e){n[e]=function(t,r){return n(Object.assign({url:t},r),e)}})),n.post=function(e,t,r){return n(Object.assign({url:e,data:t},r),"post")},n}function x(e){var t=e.url.replace(/\?.*/g,""),n=(0,f.n)((0,d.nT)(t,!0).pathname),r={x_command:(0,c.default)(e,"headers.x-command")||n,requestId:(0,c.default)(e,"headers.requestId")||(0,l.Y)(),logId:(0,c.default)(e,"headers.X-TT-LOGID")||(0,o.M)(),__uuid:(0,S.Es)(),__startTime:Date.now(),hostname:(0,f.n)((0,d.nT)(t,!0).hostname)};return Object.assign({},e,{},r)}},591045:function(e,t,n){"use strict";n.d(t,{zN:function(){return A},Bm:function(){return C}});var r=n(26278),o=n(919264),i=n(193035),a=n(573455),c=n(112064),u=n(822462),s=n(633673),_=n(529644),E=n.n(_),l=n(359980),f=n(972429),d=n(481382),T=n(812083),p=n(790445),S=n(237014),I=["data","code","msg","meta"];function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var R=function(e){(0,a.Z)(n,e);var t=O(n);function n(e){var r;return(0,o.Z)(this,n),r=t.call(this,e.msg||"RequestError"),Object.assign((0,i.Z)(r),e),r}return n}((0,s.Z)(Error));function m(e){return e.code===T.STATUS_CODE.TIMEOUT&&"string"==typeof e.message&&e.message.indexOf("timeout")>-1}function A(e){var t=e.data,n=t.code,r=t.msg,o=new Error(r);return o.code=n,o.config=e.config,o.request=e.request,o.response=e,o}function C(e,t){var n;if((0,l.default)(e,"response.data.code")===T.STATUS_CODE.LOGIN_REQUIRED&&!d.isAnonymousAccess)return(0,p.Zg)(e.response),Promise.reject(new Error("login required!"));if(E().isCancel(e))n=new R({code:T.STATUS_CODE.CONNECT_ABORT,msg:e.message,config:t,isCancel:!0,stack:e.stack,originalError:e});else if(e.response){var o,i="response.data.",a=(0,l.default)(e,"".concat(i,"code")),c=(0,l.default)(e,"".concat(i,"data")),u=(0,l.default)(e,"".concat(i,"meta"),{}),s=a||T.STATUS_CODE.REQUEST_BIZ_ERROR,_=e.message||"REQUEST_BIZ_ERROR",O=e.response.data,A=(O.data,O.code,O.msg,O.meta,(0,r.Z)(O,I));(0,f.default)(A)||(o=A);var C=c?{data:c}:{},h=o?Object.assign({},o,{},C):C.data;n=new R({code:s,msg:_,meta:u,data:h,config:e.response.config,headers:e.response.headers,request:e.response.request,stack:e.stack,originalError:e})}else n=e.request?new R({code:m(e)?T.STATUS_CODE.TIMEOUT:T.STATUS_CODE.CONNECT_ERROR,msg:e.message,config:e.config,request:e.request,stack:e.stack,isTimeout:m(e),originalError:e}):new R({code:T.STATUS_CODE.JS_INTERNAL_ERROR,msg:"JS internal error, check the code",isInternal:!0,config:t,stack:e.stack,originalError:e});return(0,S.$B)(n),Promise.reject(n)}},207856:function(e,t,n){"use strict";n.d(t,{kP:function(){return s},f4:function(){return _},tn:function(){return E},tj:function(){return l},gO:function(){return f},Or:function(){return d}});var r=n(279315),o=n(126793),i=n(215661),a=n(525143),c=n(517903),u=n(981387);function s(e){var t=(0,c.WB)(e),n=Object.assign({},t,{},e.headers);i.Z.isIE&&(n["Cache-Control"]="no-cache",n.Pragma="no-cache");var r=(0,a.R)();return r&&(n.Env=r),n}var _=(0,n(235724).isSingleProduct)()?r.PLATFORM.LARKDOCS:r.PLATFORM.LARK,E=i.Z.isIPad?r.OS.IPAD:i.Z.isMac?r.OS.MAC:i.Z.isWindows?r.OS.WINDOWS:r.OS.OTHERS,l=u.$2?r.PLATFORM.LARKDOCS:o.N?r.PLATFORM.VC_FOLLOW:i.Z.isFeishu||i.Z.isLark?r.PLATFORM.LARK:i.Z.isPcWeb?r.PLATFORM.WEB:r.PLATFORM.OTHERS;function f(e){var t=e.headers,n=void 0===t?{}:t;return Object.assign({},n,{"doc-biz":_,"doc-os":E,"doc-platform":l})}function d(e){var t=e.headers,n=void 0===t?{}:t;return Object.assign({},n,{},(0,c.k$)())}},15458:function(e,t,n){"use strict";n.d(t,{WY:function(){return o},kc:function(){return i},gi:function(){return r.gi}});var r=n(319966),o=(n(591045),r.mi),i=r.up},263314:function(e,t,n){"use strict";n.d(t,{cj:function(){return R}});var r=n(347253),o=n(529644),i=n.n(o),a=n(77112),c=n(525143),u=n(88619),s=n(501455),_=n(517903),E=n(790445),l=n(746986),f=n(357081),d=n(125135),T=n(805639),p={"Content-Type":"application/json"},S=(0,c.R)();S&&(p.Env=S);var I=[],O=(0,r.default)((function(){(0,l.default)("client_network_no_error_code",{engineType:I.map((function(e){return e.engineType})).join(";"),messageType:I.map((function(e){return e.messageType})).join(";"),logs:JSON.stringify(I)}),I=[]}),2e3,{leading:!1,trailing:!0});function R(e){var t=e.payload;if(t){var n=t.type,r=t.data,o=r?r.type:"";(n||o)&&void 0===t.code&&(I.push({engineType:n,messageType:o}),O());var i=function(e,t){var n=t.request_id;console.log("Network Error (".concat(e,": ").concat(n||"null","):"),t)},a=t.code;void 0===a||0===a?r&&void 0!==(a=r.code)&&0!==a&&i("Service",t):i("System",t)}}var m=i().create({headers:p,baseURL:(0,a.X)("")});m.interceptors.request.use((function(e){var t=(0,s.Y)();e.data&&e.data.context&&(t=e.data.context.request_id||t,e.data.context.request_id=t);var n=(0,_.WB)({requestId:t}),r=(0,_.ET)(e.url||""),o=Object.assign({},n,{},r,{},e.headers);return Object.assign(e,{headers:o})})),m.interceptors.response.use((function(e){if(!e.data)return Promise.reject(new Error("response no data"));var t=e.data;if(R(t),t.code===f.vU.STATUS_CODE.LOGIN_REQUIRED&&!f.y0.isAnonymousAccess)return(0,E.Zg)(e),Promise.reject(new Error("login required!"));if(0!==t.code)return Promise.reject(e);try{var n=e.config;(0,u.wg)({url:n.url,data:{code:t.code,request_id:n.headers&&n.headers["Request-Id"],log_id:n.headers&&n.headers["X-TT-LOGID"],data:n.data}})}catch(e){console.error(e)}return t}),(function(e){var t=e.config,n=-1;e.response?n=e.response.data.code||n:console.log("Error",e.message);try{(0,u.wg)({url:t.url,data:{code:n,request_id:e.config.headers["Request-Id"],log_id:e.config.headers["X-TT-LOGID"],data:t.data}})}catch(e){console.error(e)}return Promise.reject(e)})),(0,d.Z)(m);(0,T.R)(m);t.ZP=m},237014:function(e,t,n){"use strict";n.d(t,{GV:function(){return E},Nt:function(){return l},$B:function(){return f},Xq:function(){return d}});var r,o=n(919264),i=n(359980),a=n(88619),c=n(765461),u=n(746986);!function(e){e[e.JS_BLOCK=1]="JS_BLOCK",e[e.OTHER=2]="OTHER"}(r||(r={}));var s="doc_request_send_end",_=new function e(){var t=this;(0,o.Z)(this,e),this.timer=0,this.failRequest=[],this.validRequestNum=0,this.count=function(e){t.failRequest.push(e),t.timer||(t.timer=window.setTimeout((function(){t.report(r.OTHER)}),6e4))},this.clear=function(){t.validRequestNum++,t.validRequestNum>=5&&(t.timer&&window.clearTimeout(t.timer),t.report(r.JS_BLOCK))},this.report=function(e){if(!t.failRequest.length)return t.validRequestNum=0,void(t.timer=0);(0,u.default)("doc_request_send_cancel",{code:e,fail_apis:JSON.stringify(t.failRequest),fail_num:t.failRequest.length}),t.failRequest=[],t.validRequestNum=0,t.timer=0}};function E(e){(0,c.H)("doc_request_send_start").report({uuid:e.__uuid,request_id:e.requestId,x_command:e.x_command,hostname:e.hostname,timeout:e.timeout,method:e.method,log_id:e.logId})}function l(e,t,n){var r=e.__startTime,o=e.__uuid,i=e.requestId,a=e.x_command,u=e.hostname,E=e.logId;if((0,c.H)(s).push({uuid:o,request_id:i,log_id:E,x_command:a,hostname:u,status_code:t?t.status:"200",responseType:t?t.responseType:"",is_cached_request:String(null===t)}),"number"==typeof r&&(0,c.H)(s).push({duration_time:Date.now()-r}),n)return(0,c.H)(s).report({code:0,status:"success"}),void _.clear();(0,c.H)(s).clear()}function f(e){var t=(0,i.default)(e,"config.x_command"),n=(0,i.default)(e,"config.__uuid"),r=(0,i.default)(e,"config.requestId"),o=(0,i.default)(e,"config.logId"),a=(0,i.default)(e,"config.hostname"),u=(0,i.default)(e,"code"),E=(0,i.default)(e,"request.status");t&&(e.isTimeout||e.isCancel)&&_.count(t),(0,c.H)(s).report({status:"fail",message:e.message,x_command:t,code:u,status_code:E,is_cancel:String(!!e.isCancel),is_timeout:String(!!e.isTimeout),uuid:n,requestId:r,logId:o,hostname:a,is_online:String((0,i.default)(window,"__NETWORK_STATE__.connected","not found"))})}function d(e){var t=e.config;if(t)try{(0,a.wg)({url:t.url,data:{code:e.data.code,request_id:t.requestId,log_id:t.requestId,data:t.data}})}catch(e){console.error(e)}}},71126:function(e,t,n){"use strict";n.d(t,{f6:function(){return o.ThemeProvider},Xx:function(){return a}});var r=n(399643),o=n(70649),i=n(182213);function a(){(0,o.initTheme)((0,i.Is)())}if(r.default.isPcWeb&&!r.default.isOpendoc)try{localStorage.setItem("view_mode",JSON.stringify({user:window.User.id,setting:window.__theme__,fg:(0,o.isSupportTheme)()?"1":""}))}catch(e){console.error("update view_mode error",e)}},143532:function(e,t,n){"use strict";var r=n(4374),o=n(746986),i=n(919264),a=n(804175),c=n(521543),u=3e4,s=function(){function e(t){var n=this;(0,i.Z)(this,e),this.aliveInterval=u,this.deadThreshold=3e4,this.timer=null,this.prefix="CrashTracker_$x$_",this.suffix="_info_$n$",this.liveFlagSetted=!1,this.updateLocalData=function(){var e=Date.now(),t=n.getLocalStorageInfoKey(n.localStorageKey);try{n.liveFlagSetted&&n.checkResurrectionAndReport(n.lastAliveTime),window.localStorage.setItem(n.localStorageKey,"".concat(e));var r=n.getPreLocalData(e);window.localStorage.setItem(t,JSON.stringify(r)),n.liveFlagSetted=!0,n.lastAliveTime=e,n.log("update alive time")}catch(e){n.clearLocalData(n.localStorageKey),n.liveFlagSetted=!1,n.log("set localStorage error, clearData")}},this.updateVisibilityChange=function(){"hidden"===document.visibilityState?(n.timer&&clearInterval(n.timer),n.timer=null,n.liveFlagSetted=!1,n.clearLocalData(n.localStorageKey)):n.startKeepAlive()};var r=(0,c.q)(),o=r.crash_tracker_beat_time,a=void 0===o?u:o,s=r.crash_tracker_disabled_time,_=void 0===s?6e4:s;this.aliveInterval=t.aliveInterval||a,this.deadThreshold=t.deadThreshold||_-a,this.id=t.id||this.getUniqId(),this.getExtraData=t.getExtraData,this.doReport=t.doReport,this.logEnabled=t.logEnabled,this.tabManager=t.tabManager}return(0,a.Z)(e,[{key:"getUniqId",value:function(){return"".concat(~~(1e5*Math.random()))}},{key:"getLocalStorageInfoKey",value:function(e){return e+this.suffix}},{key:"clearLocalData",value:function(e){window.localStorage.removeItem(e),window.localStorage.removeItem(this.getLocalStorageInfoKey(e))}},{key:"report",value:function(e,t){var n=this.getLocalStorageInfoKey(e),r=Object.assign({key:e,total_tab_count:this.tabManager.isProcessing?this.tabManager.getTabCount():1},t);try{var o=JSON.parse(window.localStorage.getItem(n)||"{}");r=Object.assign(r,o)}catch(e){}this.doReport(r)}},{key:"checkResurrectionAndReport",value:function(e){if(window.localStorage.getItem(this.localStorageKey))return!1;var t=Number(new Date)-e-this.aliveInterval;return this.report(this.localStorageKey,{costTime:t,type:"Resurrection"}),this.log("Resurrection",this.localStorageKey),!0}},{key:"getPreLocalData",value:function(e){var t=Object.assign({},this.getExtraData&&this.getExtraData()||{});return t.aliveTime=e,t}},{key:"log",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.logEnabled&&(e=console).log.apply(e,["CrashTracker:"].concat(n))}},{key:"startKeepAlive",value:function(){this.timer||(this.log("Keep Alive",this.localStorageKey),this.updateLocalData(),this.timer=setInterval(this.updateLocalData,this.aliveInterval))}},{key:"checkItemCrashAndReport",value:function(e){if(e.substr(0,this.prefix.length)===this.prefix&&e.substr(e.length-this.suffix.length)!==this.suffix){var t=Number(window.localStorage.getItem(e)),n=Number(new Date);if(!isNaN(t)){var r=n-t-this.aliveInterval;r>this.deadThreshold&&(this.report(e,{costTime:r,type:"Crash"}),this.log("Crashed",this.localStorageKey),this.clearLocalData(e))}}}},{key:"checkCrashAndReport",value:function(){var e=this;Object.keys(window.localStorage).map((function(t){e.checkItemCrashAndReport(t)}))}},{key:"start",value:function(){var e=this;this.report(this.localStorageKey,{type:"Init"}),this.checkCrashAndReport(),this.startKeepAlive(),window.addEventListener("beforeunload",(function(){return e.stop()})),document.addEventListener("visibilitychange",this.updateVisibilityChange)}},{key:"stop",value:function(){this.timer&&clearInterval(this.timer),this.timer=null,this.liveFlagSetted=!1,this.clearLocalData(this.localStorageKey),document.removeEventListener("visibilitychange",this.updateVisibilityChange)}},{key:"localStorageKey",get:function(){return this.prefix+this.id}}]),e}();window.top===window&&setTimeout((function(){new s({logEnabled:!1,id:window.teaMap&&window.teaMap.sessionId,tabManager:r.Ry,getExtraData:function(){try{return Object.assign({},o.collector.config,(0,o.getTeaCommonParams)({},"crashTracker"))}catch(e){return{}}},doReport:function(e){(0,o.default)("crashTrackerReport",e)}}).start()}),5e3)},47627:function(e,t,n){"use strict";n.d(t,{W:function(){return C}});var r=n(919264),o=n(804175),i=n(742097),a=n(373159),c=n(564342),u=n(481382),s=n(215661),_=n(362281),E=n(981387),l=n(671914),f=n(431562),d=n(806501),T=n(124841),p=n(248762),S=n(791670),I=n(996503),O=n(294759),R="render_doc_all",m="render_message",A="url",C={DOC_JS_LOADED:1,RENDER_DOC_ETHERPAD_SUCCESS:2,FETCH_DOC_CLIENTVARS_SUCCESS:3,RENDER_DOC_EDITOR_SUCCESS:4,RENDER_DOC_HEADER_SUCCESS:5,FETCH_DOC_SECTION_NAV_SUCCESS:6,RENDER_DOC_SECTION_NAV_SUCCESS:7,FETCH_DOC_COMMENT_SUCCESS:8,RENDER_DOC_COMMENT_SUCCESS:9,DOC_UPDATE_INTERACTIVE:10,RENDER_DOC_EDITOR_AND_REMOVE_SSR_SUCCESS:11},h=function(){function e(){(0,r.Z)(this,e),this.didRenderAll=!1,this.start=!1,this.extraData={}}return(0,o.Z)(e,[{key:"getRenderDocAllStartTime",value:function(){return this.renderDocAllStartTime}},{key:"getFrom",value:function(){return this.from}},{key:"init",value:function(){var e=this;this.platform=this.getPlatform(),this.getProfileContext=function(){},this.isDocApp="doc"===(0,d.JB)(),this.prevModule="",this.curModule=this.getModule(i.Z.pathname),this.larkVersion=(0,E.iY)(),!s.Z.isFeed&&S.ZP.listen((function(t,n){"PUSH"===n&&(e.prevModule=e.curModule,e.curModule=e.getModule(i.Z.pathname),e.curModule!==u.FILE_TYPE.DOC&&e.curModule!==u.FILE_TYPE.WIKI||e.renderDocFromSpaStart(Date.now(),e.prevModule))}))}},{key:"renderDocAppStart",value:function(){this.from===A?this.isDocApp&&!this.didRenderAll&&(O||!s.Z.isFeed?this.renderAppStartTime=window.performance.timing.domContentLoadedEventStart:this.renderAppStartTime=window.domReadyTime||0):this.renderAppStartTime=this.renderDocAllStartTime}},{key:"renderDocAppEnd",value:function(e){this.renderAppTime=e-this.renderAppStartTime}},{key:"renderDocEditorStart",value:function(e){this.renderEditorStartTime=e}},{key:"renderDocEditorEnd",value:function(e){this.renderEditorTime=e-this.renderEditorStartTime}},{key:"renderDocEtherpadStart",value:function(e){this.renderEtherpadStartTime=e}},{key:"renderDocEtherpadEnd",value:function(e){this.renderEtherpadTime=e-this.renderEtherpadStartTime}},{key:"renderMessageEnd",value:function(e){this.renderMessageTime=e-this.renderMessageStartTime;var t=(0,f.aj)(m);t.end(e),s.Z.isFeed&&t.setExtraData("lark_version",this.larkVersion),t.setExtraData("platform",this.platform),t.setExtraData("render_message_time",this.renderMessageTime),t.setExtraData("from",this.from),t.send({},"cost_time")}},{key:"renderMessageStart",value:function(e){this.renderMessageStartTime=e,this.from=A,this.collectStart(m,e)}},{key:"renderMessageFromSpaStart",value:function(e,t){this.start=!0,this.renderMessageStartTime=e,this.from=t,this.collectStart(m,e)}},{key:"renderDocAllStart",value:function(e){this.start=!0,this.renderMessageStart(e),this.isDocApp&&!this.didRenderAll&&(this.renderDocAllStartTime=e,this.from=A,this.collectStart(R,e))}},{key:"setProfileContext",value:function(e){this.getProfileContext=e}},{key:"renderDocAllEnd",value:function(e){if(this.isDocApp&&!this.didRenderAll){var t=window.docSSRDomReadyTime;t&&this.from===A&&this.renderDocSSREnd(t);var n=(0,f.aj)(R);window.collectParams&&(n.setExtraData("has_doc_ssr",window.collectParams.hasDocSsr?"true":"false"),n.setExtraData("has_ssr_render",window.collectParams.hasSsrRender?"true":"false")),"true"!==n.getExtraData("is_ssr")&&n.setExtraData("cost_time",e-this.renderDocAllStartTime);var r=this.getProfileContext()||{};for(var o in r)n.setExtraData(o,r[o]);this.collectEnd(R,e,!0),this.didRenderAll=!0,I.DX.updateMonitorStatus("render_doc_all")}}},{key:"renderDocAllFail",value:function(e){this.isDocApp&&!this.didRenderAll&&(this.didRenderAll=!0),this.start=!1,I.DX.updateMonitorStatus("render_doc_fail",{error_code:"".concat(e&&"code"in e?e.code:e)})}},{key:"renderDocFetchClientvarStart",value:function(e){this.fetchClientvarStartTime=e}},{key:"renderDocFetchClientvarEnd",value:function(e){this.fetchClientvarTime=e-this.fetchClientvarStartTime}},{key:"renderDocSSREnd",value:function(e){if(this.isDocApp&&!this.didRenderAll){var t=(0,f.aj)(R);t.setExtraData("is_ssr","true"),t.setExtraData("cost_time",e-performance.timing.navigationStart),a.PH.collectShowFirstScreen(e)}}},{key:"renderDocFromSpaStart",value:function(e,t,n){this.start=!0,this.renderDocAllStartTime=e,this.from=t,this.extraData=n||{},this.collectStart(R,e)}},{key:"renderDocFromSpaEnd",value:function(e){var t=(0,f.aj)(R);t.end(e),s.Z.isFeed&&t.setExtraData("lark_version",this.larkVersion),t.setExtraData("platform",this.platform),t.setExtraData("render_app_time",this.renderAppTime),t.setExtraData("from",this.from),t.setExtraData("fetch_clientvar_time",this.fetchClientvarTime),t.setExtraData("render_editor_time",this.renderEditorTime),t.setExtraData("render_etherpad_time",this.renderEtherpadTime),t.setExtraData("real_time",e-this.renderDocAllStartTime);var n=this.getProfileContext()||{};for(var r in n)t.setExtraData(r,n[r]);var o=this.renderAppStartTime>=p.y.start;t.setExtraData("doc_index_js_loaded_before_navigation",o?1:0),t.setExtraData("doc_index_js_load_time_nav_start_to_exec_start",p.y.start-this.renderAppStartTime),t.setExtraData("doc_index_js_load_time_exec_time",p.y.end-p.y.start);var i=this.renderAppStartTime+this.renderAppTime;for(var a in t.setExtraData("doc_index_js_load_time_exec_end_to_etherpad_mount",i-p.y.end),this.extraData)Object.prototype.hasOwnProperty.call(this.extraData,a)&&t.setExtraData(a,this.extraData[a]);var u=this.getOpenType();u&&t.setExtraData("open_doc_type",u),t.send({},"cost_time").then((function(e){e&&(0,c.n)(e.eventName,e.sendData)})),I.DX.updateMonitorStatus("render_doc_all")}},{key:"renderDocEnd",value:function(e){this.start&&(this.from===A?this.renderDocAllEnd(e):this.renderDocFromSpaEnd(e),this.start=!1)}},{key:"getOpenType",value:function(){if("lark-feed"===this.platform){var e=location?i.Z.href:"",t=(0,l.mB)(e);if(!t)return"";if("announce"===t.open_type)return t.open_type;if("3"===t.lark)return"meeting_notes"}return""}},{key:"setExtraData",value:function(e){Object.assign(this.extraData,e)}},{key:"getModule",value:function(e){var t=(0,d.rT)(e);return t&&t.module||""}},{key:"getPlatform",value:function(){return O?"docs-in-lark":s.Z.isFeed?"lark-feed":"pc"}},{key:"collectStart",value:function(e,t){var n=(0,f.aj)(e);n.clear(),n.start(t)}},{key:"collectEnd",value:function(e,t,n){var r=window.performance.timing,o=window,i=o.domReadyTime,a=o.parseStartTime,u=o.cssDownloadEndTime,_=o.ssrParseStartTime,E=(0,f.aj)(e);E.end(t);var l="cost_time";if(e===R&&(l="real_time"),s.Z.isFeed&&E.setExtraData("lark_version",this.larkVersion),E.send({},l).then((function(t){e===R&&t&&(0,c.n)(t.eventName,t.sendData)})),E.setExtraData("platform",this.platform),n){var d=this.getOpenType();d&&E.setExtraData("open_doc_type",d),E.setExtraData("render_app_time",this.renderAppTime),E.setExtraData("from",this.from),E.setExtraData("doc_dns_lookup_time",r.domainLookupEnd-r.domainLookupStart),E.setExtraData("connection_time",r.connectEnd-r.connectStart),E.setExtraData("secure_connection_time",r.connectEnd-r.secureConnectionStart),E.setExtraData("request_to_server_time",r.responseStart-r.requestStart),E.setExtraData("response_to_client_time",r.responseEnd-r.responseStart),i&&(E.setExtraData("download_time",i-r.navigationStart),!O&&s.Z.isFeed||(E.setExtraData("app_js_time",r.domContentLoadedEventStart-i),this.setJsLoadTimeData(E,i)),a&&(E.setExtraData("html_download_time",a-r.navigationStart),E.setExtraData("parse_time",i-a),u&&_&&(E.setExtraData("css_download_time",u-a),E.setExtraData("scripts_between_css_and_ssr_time",_-u),E.setExtraData("ssr_parse_time",i-_)))),E.setExtraData("fetch_clientvar_time",this.fetchClientvarTime),E.setExtraData("render_editor_time",this.renderEditorTime),E.setExtraData("render_etherpad_time",this.renderEtherpadTime);for(var T=0,p=Object.keys(this.extraData);T<p.length;T++){var S=p[T];E.setExtraData(S,this.extraData[S])}}}},{key:"setJsLoadTimeData",value:function(e,t){var n=T.r.start,r=T.r.afterPolyfill,o=T.r.afterUtilsDOM,i=T.r.afterStore,a=T.r.afterApp,c=T.r.afterExternal,u=T.r.beforeAppRender,s=T.r.afterAppRender;e.setExtraData("app_js_load_time_1_dom_ready_to_download_end",n-t),e.setExtraData("app_js_load_time_start",n),e.setExtraData("app_js_load_time_2_start_to_polyfill",r-n),e.setExtraData("app_js_load_time_3_polyfill_to_utils_dom",o-r),e.setExtraData("app_js_load_time_4_utils_dom_to_store",i-o),e.setExtraData("app_js_load_time_5_store_to_app",a-i),e.setExtraData("app_js_load_time_6_app_to_external",c-a),e.setExtraData("app_js_load_time_7_external_to_before_render",u-c),e.setExtraData("app_js_load_time_8_app_render_time",s-u),e.setExtraData("app_js_load_time_end",s),e.setExtraData("app_js_load_time_exec_time",s-n),e.setExtraData("doc_index_js_load_time_app_end_to_download_end",p.y.start-s),e.setExtraData("doc_index_js_load_time_start",p.y.start),e.setExtraData("doc_index_js_load_time_end",p.y.end),e.setExtraData("doc_index_js_load_time_exec_time",p.y.end-p.y.start);var E=this.renderAppStartTime+this.renderAppTime;e.setExtraData("doc_index_js_load_time_exec_end_to_etherpad_mount",E-p.y.end);var l=(0,_.dU)();null!==l&&(e.setExtraData("app_js_load_time_dom_ready_to_app_download_start",l.startTime-t),e.setExtraData("app_js_load_time_app_download_time",l.endTime-l.startTime),e.setExtraData("app_js_load_time_app_download_end_to_exec_start",T.r.start-l.endTime),e.setExtraData("app_download_start_to_doc_import_end",p.y.end-l.startTime))}}]),e}();t.Z=new h},124841:function(e,t,n){"use strict";n.d(t,{r:function(){return r}});var r={start:0,afterImport:0,afterPolyfill:0,afterUtilsDOM:0,afterStore:0,afterApp:0,afterExternal:0,beforeAppRender:0,afterAppRender:0}},451880:function(e,t,n){"use strict";n(11195).r.afterApp=Date.now()},642972:function(e,t,n){"use strict";n(11195).r.afterExternal=Date.now()},465003:function(e,t,n){"use strict";n(11195).r.afterImport=Date.now()},42337:function(e,t,n){"use strict";n(11195).r.afterPolyfill=Date.now()},523293:function(e,t,n){"use strict";n(11195).r.afterStore=Date.now()},966100:function(e,t,n){"use strict";n(11195).r.afterUtilsDOM=Date.now()},11195:function(e,t,n){"use strict";n.d(t,{r:function(){return r.r}});var r=n(124841)},940882:function(e,t,n){"use strict";n(11195).r.start=Date.now()},248762:function(e,t,n){"use strict";n.d(t,{y:function(){return r}});var r={start:0,end:0}},533613:function(e,t,n){"use strict";n.d(t,{Fl:function(){return o},Wn:function(){return i},yl:function(){return a},zI:function(){return c}});var r=n(742097);function o(){return/docSSR=true/.test(r.Z.search)}function i(){return/wikiRelation=true/.test(r.Z.search)}function a(e,t){return t.indexOf("zh")>-1?"未命名文档":t.indexOf("ja")>-1?"名称未設定ドキュメント":"Untitled Docs"}function c(e,t){return t.indexOf("zh")>-1?"".concat(e?"Lark":"飞书","云文档"):"".concat(e?"Lark":"Feishu"," Docs")}},242759:function(e,t,n){"use strict";var r=n(206746),o=new(n.n(r)());t.Z=o},992087:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(265498),o=n(165235),i=n(215661);function a(e){if(i.Z.isIPad){var t=o.createElement,n=["clientX","clientY","pageX","pageY","screenX","screenY","radiusX","radiusY"],a={downPos:{},lastPos:{}},c=function(e){if(!e)return!1;var t=e.getAttribute("disabled");return!1!==t&&null!==t},u=function(e,t){var n=t||e.currentTarget;n&&!c(n)&&n.focus()},s={input:function(e){u(e),e.stopPropagation()},textarea:function(e){u(e),e.stopPropagation()},select:function(e){u(e),e.stopPropagation()},label:function(e){var t,n=e.currentTarget.getAttribute("for");(t=n?document.getElementById(n):e.currentTarget.querySelectorAll("input, textarea, select")[0])&&u(e,t)}},_=function(e,t){if("function"==typeof t.persist&&t.persist(),e)for(var r=0;r<n.length;r+=1){var o=n[r];t[o]=e[o]}},E=function(e){a.invalid=e.touches&&e.touches.length>1||a.invalid},l=function(e,t){var n=!(!a.touched&&(!a.lastTouchDate||Date.now()>a.lastTouchDate+1e3));n&&t.target!==a.target&&t.preventDefault(),"function"!=typeof e||n||e(t),"click"===t.type&&(a.invalid=!1,a.touched=!1,a.moved=!1)},f=function(e,t){a.invalid=!1,a.moved=!1,a.touched=!0,a.target=t.target,a.lastTouchDate=Date.now(),_(t.touches[0],a.downPos),_(t.touches[0],a.lastPos),E(t),"function"==typeof e&&e(t)},d=function(e,t){a.touched=!0,a.lastTouchDate=Date.now(),_(t.touches[0],a.lastPos),E(t),(Math.abs(a.downPos.clientX-a.lastPos.clientX)>8||Math.abs(a.downPos.clientY-a.lastPos.clientY)>8)&&(a.moved=!0),"function"==typeof e&&e(t)},T=function(e,t,n,r){if(a.touched=!0,a.lastTouchDate=Date.now(),E(r),"function"==typeof e&&e(r),!a.invalid&&!a.moved){var o=r.currentTarget.getBoundingClientRect();a.lastPos.clientX-(a.lastPos.radiusX||0)<=o.right&&a.lastPos.clientX+(a.lastPos.radiusX||0)>=o.left&&a.lastPos.clientY-(a.lastPos.radiusY||0)<=o.bottom&&a.lastPos.clientY+(a.lastPos.radiusY||0)>=o.top&&(c(r.currentTarget)||("function"==typeof t&&(_(a.lastPos,r),function(e){"function"==typeof e.persist&&e.persist(),e.fastclick=!0,e.type="click",e.button=0}(r),t(r)),!r.defaultPrevented&&s[n]&&s[n](r)))}},p=function(e,t){var n={};for(var r in t)n[r]=t[r];return n.onClick=l.bind(null,t.onClick),n.onMouseDown=l.bind(null,t.onMouseDown),n.onMouseMove=l.bind(null,t.onMouseMove),n.onMouseUp=l.bind(null,t.onMouseUp),n.onTouchStart=f.bind(null,t.onTouchStart),n.onTouchMove=d.bind(null,t.onTouchMove),n.onTouchEnd=T.bind(null,t.onTouchEnd,t.onClick,e),"function"==typeof Object.freeze&&Object.freeze(n),n};if(o.createElement=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n[0],i=n[1];return o&&"string"==typeof o&&i&&i.className&&"function"==typeof i.onClick&&I(i.className)&&(n[1]=p(o,i||{})),t.apply(null,n)},"object"===(0,r.Z)(o.DOM))for(var S in o.DOM)o.DOM[S]=o.createElement.bind(null,S)}function I(t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1}}},614253:function(e,t,n){"use strict";var r=n(142732);"function"!=typeof window.Proxy&&(0,r.pV)(),(0,r.Fl)(!1),(0,r.MD)()},636412:function(e,t,n){"use strict";var r=n(265498);!function(){if("object"===("undefined"==typeof window?"undefined":(0,r.Z)(window)))if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=window.document,t=[];o.prototype.THROTTLE_TIMEOUT=100,o.prototype.POLL_INTERVAL=null,o.prototype.USE_MUTATION_OBSERVER=!0,o.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},o.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},o.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},o.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},o.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},o.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},o.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(i(window,"resize",this._checkForIntersections,!0),i(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},o.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,a(window,"resize",this._checkForIntersections,!0),a(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},o.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var o=r.element,i=c(o),a=this._rootContainsTarget(o),u=r.entry,s=e&&a&&this._computeTargetAndRootIntersection(o,t),_=r.entry=new n({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:i,rootBounds:t,intersectionRect:s});u?e&&a?this._hasCrossedThreshold(u,_)&&this._queuedEntries.push(_):u&&u.isIntersecting&&this._queuedEntries.push(_):this._queuedEntries.push(_)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},o.prototype._computeTargetAndRootIntersection=function(t,n){if("none"!=window.getComputedStyle(t).display){for(var r,o,i,a,u,_,E,l,f=c(t),d=s(t),T=!1;!T;){var p=null,S=1==d.nodeType?window.getComputedStyle(d):{};if("none"==S.display)return;if(d==this.root||d==e?(T=!0,p=n):d!=e.body&&d!=e.documentElement&&"visible"!=S.overflow&&(p=c(d)),p&&(r=p,o=f,i=void 0,a=void 0,u=void 0,_=void 0,E=void 0,l=void 0,i=Math.max(r.top,o.top),a=Math.min(r.bottom,o.bottom),u=Math.max(r.left,o.left),_=Math.min(r.right,o.right),l=a-i,!(f=(E=_-u)>=0&&l>=0&&{top:i,bottom:a,left:u,right:_,width:E,height:l})))break;d=s(d)}return f}},o.prototype._getRootRect=function(){var t;if(this.root)t=c(this.root);else{var n=e.documentElement,r=e.body;t={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(t)},o.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},o.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var o=0;o<this.thresholds.length;o++){var i=this.thresholds[o];if(i==n||i==r||i<n!=i<r)return!0}},o.prototype._rootIsInDom=function(){return!this.root||u(e,this.root)},o.prototype._rootContainsTarget=function(t){return u(this.root||e,t)},o.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},o.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=o,window.IntersectionObserverEntry=n}function n(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,o=r.width*r.height;this.intersectionRatio=n?Number((o/n).toFixed(4)):this.isIntersecting?1:0}function o(e,t){var n,r,o,i=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(i.root&&1!=i.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout((function(){n(),o=null}),r))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(i.rootMargin),this.thresholds=this._initThresholds(i.threshold),this.root=i.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" ")}function i(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on".concat(t),n)}function a(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on".concat(t),n)}function c(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function u(e,t){for(var n=t;n;){if(n==e)return!0;n=s(n)}return!1}function s(e){var t=e.parentNode;return t&&11===t.nodeType&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t}}()},602831:function(e,t,n){"use strict";n.d(t,{M:function(){return p}});var r=n(265498),o=n(919264),i=n(804175),a=n(359980),c=n(613066),u=n(339956),s=function(e){return e},_=(0,a.default)(window,"LARKAPI.runtime.log",{}),E=_.info,l=void 0===E?s:E,f=_.error,d=void 0===f?s:f,T=window.console.error,p=function(){function e(){(0,o.Z)(this,e)}return(0,i.Z)(e,null,[{key:"info",value:function(t){var n;if(t)if(t instanceof Error)e.error(t);else try{var o=(0,u.ci)(),i=o?O(o):(0,u.pv)();"object"===(0,r.Z)(t)&&(t=JSON.stringify(t));var a="Bear-web info: ".concat((n=new Date,"".concat(S(n.getMonth()+1),"-").concat(S(n.getDate())," ").concat(S(n.getHours()),":").concat(S(n.getMinutes()),":").concat(S(n.getSeconds()),".").concat(S(n.getMilliseconds(),3)))," token:").concat(i," ").concat(function(e){var t=(0,u.ci)(),n=(0,u.oR)(),r=(0,u.AB)(n,t),o=[t,r].filter((function(e){return e})).join("|");if(!o)return;var i=O(t);return e.replace(new RegExp(o,"g"),i)}(t)," ");l.call(_,a)}catch(e){T.call(window.console,e)}}},{key:"error",value:function e(t){try{var n="Bear-web error:";if(!t)return;if("string"==typeof t)d.call(_,"".concat(n," ").concat(t));else if(t instanceof Error){var r="".concat(n," ").concat(t.message),o="".concat(n," error stack: ").concat(t.stack);d.call(_,r),d.call(_,o)}}catch(e){T.call(window.console,e)}}}]),e}();function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n="".concat(e);return e<Math.pow(10,t-1)&&(n="00000".slice(0,t-n.length)+e),n}var I={};function O(e){return I[e]=I[e]||(0,c.p)(e),I[e]}},957406:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});var r=n(742097),o=n(746986),i=function(e){var t=window.htmlCollectEvent,n=(location.pathname.match(/\/([a-zA-Z0-9]+)$/)||[])[0],i=n?location.pathname.replace(n,"/:token"):location.pathname,a=(new Error).stack||"";n&&(a=a.replace(new RegExp(n,"g"),"/:token")),t&&t("client_action_reload",{path:i,stack:a,platform:window.__CURRENT_PLATFORM},!0),(0,o.default)("client_action_reload",{stack:a}),r.Z.reload(e)}},959341:function(e,t,n){"use strict";n.d(t,{j:function(){return r}});var r=(0,n(521469).Z)((function(e){for(var t,n,r,o,i,a=arguments.length,c=new Array(a>1?a-1:0),u=1;u<a;u++)c[u-1]=arguments[u];return{debug:(t=console.debug).bind.apply(t,[void 0,"[".concat(e,"]")].concat(c)),info:(n=console.info).bind.apply(n,[void 0,"[".concat(e,"]")].concat(c)),log:(r=console.log).bind.apply(r,[void 0,"[".concat(e,"]")].concat(c)),warn:(o=console.warn).bind.apply(o,[void 0,"[".concat(e,"]")].concat(c)),error:(i=console.error).bind.apply(i,[void 0,"[".concat(e,"]")].concat(c))}}))},271314:function(e,t,n){"use strict";n.d(t,{$:function(){return o},w:function(){return i}});var r=n(153807),o=function(e){return'[data-selector="'.concat(e,'"]')},i=function(e){return(window.innerWidth>=r.T?document.querySelector(".expanded-sidebar-container"):document.querySelector(".collapsed-sidebar-container")).querySelector(o(e))}},963295:function(e,t,n){"use strict";n(367017)},185703:function(e,t,n){"use strict";n.d(t,{l3:function(){return i},w7:function(){return a},Aq:function(){return c},NN:function(){return u},Cf:function(){return s},VR:function(){return _},dg:function(){return E},B:function(){return l},uy:function(){return f},jP:function(){return d},MQ:function(){return T},Ik:function(){return p},Uf:function(){return S},H5:function(){return I},f:function(){return O}});var r=n(234472),o=n(242759),i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.Z.emitEvent(r.Z.PC.DOCS.ONBOARDING.ADD_STEP,t)},a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.Z.emitEvent(r.Z.PC.DOCS.ONBOARDING.REMOVE_STEP,t)},c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.Z.emitEvent(r.Z.PC.DOCS.ONBOARDING.HIDE_STEP,t)},u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.Z.emitEvent(r.Z.PC.DOCS.ONBOARDING.SHOW_STEP,t)},s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.Z.emitEvent(r.Z.PC.DOCS.ONBOARDING.ACKNOWLEDGE_STEP,t)},_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.Z.emitEvent(r.Z.PC.DOCS.ONBOARDING.COMPLETE_STEP,t)},E=function(){return o.Z.emitEvent(r.Z.PC.DOCS.ONBOARDING.SCAN_STEP)},l=function(){return o.Z.emitEvent(r.Z.PC.DOCS.ONBOARDING.RENDER_STEP)},f=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.Z.emitEvent(r.Z.PC.DOCS.ONBOARDING.COMPLETE_STEP_ONLY_LOCAL,t)},d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.Z.emitEvent(r.Z.PC.DOCS.ONBOARDING.COMPLETE_MANUAL_GUIDE,t)},T=function(){return o.Z.emitEvent(r.Z.PC.DOCS.ONBOARDING.CLOSE_UNDO_REDO_CALLOUT)},p=function(e){return o.Z.on(r.Z.PC.DOCS.ONBOARDING.CLOSE_UNDO_REDO_CALLOUT,e)},S=function(e){return o.Z.off(r.Z.PC.DOCS.ONBOARDING.CLOSE_UNDO_REDO_CALLOUT,e)},I=function(e){return o.Z.emitEvent(r.Z.PC.DOCS.ONBOARDING.SET_SCENE,[e])},O=function(){return o.Z.emitEvent(r.Z.PC.DOCS.ONBOARDING.UNSET_SCENE)}},101622:function(e,t,n){"use strict";n.d(t,{U7:function(){return N},Jx:function(){return j},ZP:function(){return $},jv:function(){return q}});var r,o,i=n(922081),a=n(919264),c=n(804175),u=n(774561),s=n(846775),_=n(742097),E=n(613066),l=n(886365),f=n.n(l),d=n(481382),T=n(234472),p=n(981387),S=n(723111),I=n(508108),O=n(542218),R=n(626147);!function(e){e.APP_JS="APP_JS",e.DOC_INDEX_JS="DOC_INDEX_JS"}(o||(o={}));var m=(r={},(0,u.Z)(r,o.APP_JS,/js\/app\..*\.js$/),(0,u.Z)(r,o.DOC_INDEX_JS,/js\/doc_index\..*\.js$/),r);function A(e){return performance.getEntriesByType?function(e,t){for(var n={},r=t.length,o=0,i=0;i<e.length&&0!==t.length;i++)for(var a=e[i],c=0;c<t.length;c++)if(m[t[c]].test(a.name)){void 0!==a.transferSize&&(n["".concat(t[c],"_CACHED")]=0===a.transferSize?1:0,o++),t.splice(c,1);break}return n.is_resource_cache_status_all_collected=o===r?1:0,n}(performance.getEntriesByType("resource"),e):{}}var C,h,v,D,N,L,y,P,g=n(44014),M=n(893835),b=n(339956),k=n(746986),w=n(806501),H=n(373159),U=n(564342),F=n(215661),Z=n(362281),x=n(124841),B=n(242759),W=n(360851),G=n(791670),K=n(642937),V=n(294759),j="url",Y="client_performance_stage",J=(0,W.k8)("docx_clientvar_slice_enable",!1),X=J?15:11,q=function(){return"visible"===document.visibilityState};!function(e){e.REACT_COMPONENT_ERROR="react_component_error",e.DEV_OOPS="dev_oops",e.UNLOAD_BEFORE_LOADED="unload_before_loaded",e.FETCH_TREE_ERROR="fetch_tree_error",e.FETCH_INIT_INFO_ERROR="fetch_init_info_error",e.FETCH_CLIENTVAR_ERROR="fetch_clientvar_error"}(N||(N={})),function(e){e[e.LOAD=1]="LOAD"}(L||(L={})),function(e){e[e.WRONG_OPEN=1]="WRONG_OPEN"}(y||(y={})),function(e){e[e.INVISIBLE=1]="INVISIBLE"}(P||(P={}));var Q=(D={},(0,u.Z)(D,d.FILE_TYPE.BITABLE,{module:d.FILE_TYPE.BITABLE,isCollectFromSpa:!0,isCollectFromSameModule:!0}),(0,u.Z)(D,d.FILE_TYPE.DOC,(function(){var e={module:d.FILE_TYPE.DOC,isCollectFromSpa:!0,isCollectFromSameModule:!0,endStages:{3:L.LOAD,4:L.LOAD,5:L.LOAD,7:L.LOAD,9:L.LOAD},resources:[o.APP_JS,o.DOC_INDEX_JS]};if(F.Z.isLark){var t=(0,p.pK)(_.Z.href),n=e.endStages;delete n[7],t===p.B8.ANNOUNCE&&delete n[9]}return e})),(0,u.Z)(D,d.FILE_TYPE.DOCX,(function(){var e,t={module:d.FILE_TYPE.DOCX,isCollectFromSpa:!0,isCollectFromSameModule:!0,endStages:(e={},(0,u.Z)(e,S.x.RENDER_DOCX_FIRST_SCREEN_SUCCESS,L.LOAD),(0,u.Z)(e,S.x.FETCH_DOCX_CLIENTVARS_SUCCESS,L.LOAD),(0,u.Z)(e,S.x.RENDER_DOCX_ALLOW_EDIT,L.LOAD),(0,u.Z)(e,S.x.RENDER_DOCX_CLIENTVARS_ALL_DONE,L.LOAD),(0,u.Z)(e,S.x.RENDER_DOCX_HEADER_SUCCESS,L.LOAD),(0,u.Z)(e,S.x.RENDER_DOCX_CATALOGUE_SUCCESS,L.LOAD),(0,u.Z)(e,S.x.RENDER_DOCX_COMMENT_SUCCESS,L.LOAD),e)};if(!J){delete t.endStages[S.x.RENDER_DOCX_CLIENTVARS_ALL_DONE]}return t})),(0,u.Z)(D,d.FILE_TYPE.SHEET,{module:d.FILE_TYPE.SHEET,isCollectFromSpa:!0,isCollectFromSameModule:!0,endStages:(C={},(0,u.Z)(C,R.P.SHEET_FASTER_RENDER_SUCCESS,L.LOAD),(0,u.Z)(C,R.P.SHEET_PLUGIN_LOAD_SUCCESS,L.LOAD),(0,u.Z)(C,R.P.SHEET_COMMENT_LOAD_SUCCESS,L.LOAD),(0,u.Z)(C,R.P.FIRST_SHEET_LOADED,L.LOAD),C)}),(0,u.Z)(D,d.FILE_TYPE.DRIVE,{module:d.FILE_TYPE.DRIVE,isCollectFromSpa:!0,isCollectFromSameModule:!0,endStages:(h={},(0,u.Z)(h,I.s.NAVIGATION_BAR_SUCCESS,L.LOAD),(0,u.Z)(h,I.s.BOX_RIGHT_BAR_SUCCESS,L.LOAD),(0,u.Z)(h,I.s.PREVIEW_BOX_SUCCESS,L.LOAD),h)}),(0,u.Z)(D,d.FILE_TYPE.MINDNOTE,{module:d.FILE_TYPE.MINDNOTE,isCollectFromSpa:!0,isCollectFromSameModule:!0,endStages:(v={},(0,u.Z)(v,O.B.EDITOR_LOADED,L.LOAD),(0,u.Z)(v,O.B.COMMENT_LOADED,L.LOAD),v)}),D),z=function(){function e(){var t,n,r,o;(0,a.Z)(this,e),this.appJsLoaded=0,this.appJsLoadedTime=0,this.start=!1,this.lastStart=!1,this.curFileType=(0,w.JB)(),this.stageStatus={},this.stageTimes={},this.eventParams={},this.otherEventParams={},this.path="",this.unusualCaseRecord={},this.LoadMainStageDurationList=(t={},(0,u.Z)(t,d.FILE_TYPE.DOC,{}),(0,u.Z)(t,d.FILE_TYPE.DOCX,{}),t),this.FiledLoadedSuccessJudgeItems=(o={},(0,u.Z)(o,d.FILE_TYPE.DOC,(n={},(0,u.Z)(n,S.M.RENDER_FILE_ALLOW_EDIT,!1),(0,u.Z)(n,S.M.RENDER_FILE_HEADER_SUCCESS,!1),(0,u.Z)(n,S.M.RENDER_FILE_CATALOGUE_SUCCESS,!1),(0,u.Z)(n,S.M.RENDER_FILE_COMMENT_SUCCESS,!1),(0,u.Z)(n,S.M.RENDER_FILE_FIRST_SCREEN_BLOCK_SUCCESS,!1),n)),(0,u.Z)(o,d.FILE_TYPE.DOCX,(r={},(0,u.Z)(r,S.M.RENDER_FILE_ALLOW_EDIT,!1),(0,u.Z)(r,S.M.RENDER_FILE_HEADER_SUCCESS,!1),(0,u.Z)(r,S.M.RENDER_FILE_CATALOGUE_SUCCESS,!1),(0,u.Z)(r,S.M.RENDER_FILE_COMMENT_SUCCESS,!1),(0,u.Z)(r,S.M.RENDER_FILE_FIRST_SCREEN_BLOCK_SUCCESS,!1),r)),o)}return(0,c.Z)(e,[{key:"appendTimeAndDuration",value:function(e,t){var n=this.renderStartTime;t.forEach((function(t){var r=(0,i.Z)(t,3),o=r[0],a=r[1],c=r[2];e["".concat(o,"_time")]=0===c?c:c-n,e["".concat(o,"_duration")]=c-a}))}},{key:"appendServerTiming",value:function(e){var t=window.performance;if(t&&t.getEntriesByType){var n=t.getEntriesByType("navigation");n&&n.length&&n.forEach((function(t){var n=t.serverTiming;n&&n.length&&n.forEach((function(t){var n=t.name,r=t.duration;n&&(e["server_timing_".concat(n)]=r)}))}))}}},{key:"getShouldRenderStart",value:function(){return!!this.isSupportCurrentModule()&&this.curFileId!==this.prevFileId}},{key:"appendLoadMainStageDurationListItem",value:function(e,t){for(var n=0,r=Object.entries(t);n<r.length;n++){var o=(0,i.Z)(r[n],2),a=o[0],c=o[1];void 0!==c&&this.updateLoadMainStageDurationList(e,a,c)}}},{key:"getLoadMainStageHtmlLoaded",value:function(e){var t,n=x.r.start,r=x.r.afterAppRender,o=x.r.afterImport,i=window,a=i.domReadyTime,c=i.docSSRDomReadyTime,s=i.parseStartTime,_=i.cssDownloadStartTime,E=i.cssDownloadEndTime,l=i.ssrParseStartTime;this.from===j&&this.appendLoadMainStageDurationListItem(e,(t={},(0,u.Z)(t,S.M.HTML_DOWNLOAD_END,s),(0,u.Z)(t,S.M.HTML_CSS_START,_),(0,u.Z)(t,S.M.HTML_CSS_END,E),(0,u.Z)(t,S.M.HTML_SSR_PARSE_START,l),(0,u.Z)(t,S.M.HTML_SSR_PARSE_SUCESS,c),(0,u.Z)(t,S.M.HTML_PARSE_END,a),(0,u.Z)(t,S.M.APP_JS_DOWNLOAD_END,n),(0,u.Z)(t,S.M.APP_JS_AFTER_IMPORT,o),(0,u.Z)(t,S.M.APP_JS_EXEC_END,r),t))}},{key:"init",value:function(){var e=this,t=(0,g.getCurrentRouteObj)();this.path=t&&t.path,this.platform=this.getPlatform(),this.larkVersion=(0,p.iY)(),this.prevModule="",this.curModule=this.getModule(_.Z.pathname),this.curPageType=(0,w.C2)(),this.prevFileId="",this.curFileId=(0,w.g9)(),this.from=j,this.appJsLoaded=1,this.unusualCaseRecord={},this.getProfileContext=function(){},window.addEventListener("beforeunload",(function(){e.handleBeforeUnload(),e.collectAllTeaLog()})),G.ZP.listen((function(t,n){if("REPLACE"!==n){e.isSupportCurrentModule()&&e.lastStart&&(void 0===e.eventParams.unload_before_loaded_status&&e.setExtraData({unload_before_loaded_status:y.WRONG_OPEN}),e.renderFail(N.UNLOAD_BEFORE_LOADED));var r=(0,g.getCurrentRouteObj)();e.path=r&&r.path,e.historyAction=n,e.prevModule=e.curModule,e.curModule=e.getModule(_.Z.pathname),e.curPageType=(0,w.C2)(),e.prevFileId=e.curFileId,e.curFileId=(0,w.g9)(),e.from=e.prevModule,e.unusualCaseRecord={},e.getShouldRenderStart()&&(e.lastStart=e.start,e.renderStart(Date.now()))}}))}},{key:"getStartTime",value:function(){return this.renderStartTime}},{key:"isSupportCurrentModule",value:function(){var e=this.getModuleConfig(this.curModule);return!!e&&(this.from===j||!!e.isCollectFromSpa&&(this.curModule!==this.prevModule||e.isCollectFromSameModule))}},{key:"logTimeStart",value:function(e,t){console.time("performanceStageCollector ".concat(e,"-").concat(t))}},{key:"logTimeEnd",value:function(e,t){console.timeEnd("performanceStageCollector ".concat(e,"-").concat(t))}},{key:"initCollectParams",value:function(){this.stageTimes={},this.stageStatus={};for(var e=1;e<=X;e++)this.logTimeStart(this.curModule,e),this.stageTimes["costTime".concat(e)]=0,this.stageStatus["stage".concat(e)]=0;B.Z.emit(T.Z.PC.COMMON.PERFORMANCE_STAGE_INIT)}},{key:"collectMaxCostTime",value:function(){for(var e=0,t="",n=1;n<=X;n++){var r=this.stageTimes["costTime".concat(n)];r>e&&(e=r,t="stage".concat(n))}return{costTimeMax:e,costTimeMaxStage:t}}},{key:"setProfileContext",value:function(e){this.getProfileContext=e}},{key:"renderStart",value:function(e){this.isSupportCurrentModule()&&(this.start=!0,this.renderStartTime=e,this.updateLoadMainStageDurationList(this.curFileType,S.M.RENDER_FILE_FIRST_SCREEN_START,e),this.from===j&&(this.appJsLoadedTime=Date.now()-this.renderStartTime),this.initCollectParams())}},{key:"updateStage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();if(B.Z.emit(T.Z.PC.COMMON.PERFORMANCE_STAGE_UPDATE,{stage:e,curModule:t}),this.start&&this.curModule===t)if(this.logTimeEnd(t,e),e<=0||e>X)this.stopCollect();else{var r=this.getModuleConfig(this.curModule);if(r){var o=r.endStages[e]||L.LOAD;this.stageTimes["costTime".concat(e)]=n-this.renderStartTime,this.stageStatus["stage".concat(e)]=1,this.isRenderEnd(o)&&this.collectEnd("0")}}}},{key:"runInNextRender",value:function(e){var t={current:null};return q()?window.requestAnimationFrame((function(){t.current=Date.now(),e(!0)})):(t.current=Date.now(),e(!1)),t}},{key:"updateLoadMainStageDurationList",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();null!==(n=this.LoadMainStageDurationList)&&void 0!==n&&n[e]&&(this.LoadMainStageDurationList[e][t]=r);var o=this.FiledLoadedSuccessJudgeItems;null!=o&&o[e]&&t in o[e]&&(o[e][t]=!0)}},{key:"updateLoadMainStageDurationListByNextRender",value:function(e,t){var n=this;q()?window.requestAnimationFrame((function(){n.updateLoadMainStageDurationList(e,t)})):this.updateLoadMainStageDurationList(e,t)}},{key:"updateStageByNextRender",value:function(e,t){var n=this;return this.runInNextRender((function(r){r||(n.unusualCaseRecord[P.INVISIBLE]=!0),n.updateStage(e,t)}))}},{key:"setExtraData",value:function(e){Object.assign(this.eventParams,e)}},{key:"setOtherEventData",value:function(e,t){var n;this.otherEventParams[e]?null===(n=this.otherEventParams[e])||void 0===n||n.push(t):Object.assign(this.otherEventParams,(0,u.Z)({},e,[t]))}},{key:"isRenderEnd",value:function(e){var t=this.getModuleConfig(this.curModule);if(t){var n=t.endStages;for(var r in n)if(n[r]===e&&!this.stageStatus["stage".concat(r)])return!1;return!0}}},{key:"handleBeforeUnload",value:function(){this.renderFail(N.UNLOAD_BEFORE_LOADED)}},{key:"renderFail",value:function(e){this.start&&(this.getModuleConfig(this.curModule)&&this.collectEnd(e))}},{key:"stopCollect",value:function(){this.start=!1,this.eventParams={}}},{key:"collectEnd",value:function(e){this.setExtraData({result_code:e}),this.start&&(H.PH.collectFinishRender(),this.collectTeaLog(),window.__allRenderEnd=!0)}},{key:"collectTeaLog",value:function(){var e,t=this.getModuleConfig(this.curModule);if(t){var n=this.getProfileContext(),r=Object.keys(this.unusualCaseRecord).join(","),i=A(t.resources||[o.APP_JS]),a=Object.assign({},this.eventParams,Object.assign({appJsLoaded:this.appJsLoaded,appJsLoadedTime:this.appJsLoadedTime,from:this.from,platform:this.platform,larkVersion:this.larkVersion,path:this.path},this.extraData,{},this.stageTimes,{},this.stageStatus,{},this.collectMaxCostTime(),{},n,{module:this.curModule,cdnHost:this.getCdnHost(),isFastSpaceTemplate:Boolean(window.isFastSpaceTemplate),unusualCaseCodes:r},i,{template_log_id:this.from===j?null===(e=window.templateRequestInfo)||void 0===e?void 0:e.logId:void 0,slardar:(0,M.Pn)(),isChunkedRender:window.isChunkedRender?1:0},this.getPageInfoParams()));if(this.stopCollect(),a.result_code===N.UNLOAD_BEFORE_LOADED&&(a.unload_time=Date.now()-this.renderStartTime),window.isChunkedRender&&(a.firstChunkEndTime=window.firstChunkEndTime,a.secondChunkStartTime=window.secondChunkStartTime,a.secondChunkEndTime=window.secondChunkEndTime,a.thirdChunkStartTime=window.thirdChunkStartTime,a.thirdChunkEndTime=window.thirdChunkEndTime),(0,k.default)(Y,a),(0,M.h6)({name:"base.pref.all_stage",extra:a}),function(){if(!performance||!performance.getEntriesByType)return;var e=["app","merge_app--framework_chunk","merge_app--business_tools_chunk","suite_header"];(0,b.NP)()?e.push("doc_index"):(0,b.bd)()&&e.push("sheet_index");for(var t=performance.getEntriesByType("resource"),n=t.length,r={},o=0;o<n;o++){var i=t[o].name;if(i.endsWith("js")){var a=u(i);if(a){var c=e.indexOf(a);if(-1!==c&&(s(a,t[o],r),e.splice(c,1),!e.length))break}}}function u(e){var t=new RegExp("js\\/(.+)\\.[\\[\\]a-z0-9]+\\.js"),n=e.match(t);if(n)return n[1]}function s(e,t,n){e=e.replace(/\-/g,"_");var r=t.domainLookupStart,o=t.domainLookupEnd,i=t.connectStart,a=t.connectEnd,c=t.requestStart,u=t.responseEnd,s=t.secureConnectionStart,_=t.fetchStart,E=t.transferSize;function l(e,t){return Number((e-t).toFixed(2))}n["".concat(e,"_dns_lookup")]=l(o,r),n["".concat(e,"_connect_time")]=l(a,i),n["".concat(e,"_request_time")]=l(u,c),n["".concat(e,"_used_time")]=l(u,_),s&&(n["".concat(e,"_SSL_time")]=l(a,s)),n["".concat(e,"_is_cache")]=0===E?"True":"False"}(0,k.default)("record_main_resource_timing",r)}(),window.htmlCollectEvent){var c=window.User.tenantId,u={tenant_id:c?(0,E.p)(c):""};window.htmlCollectEvent("client_performance_stage_extra",a,!1,u),a.result_code===N.UNLOAD_BEFORE_LOADED&&window.htmlCollectEvent("client_performance_stage_before_unload",a,!0,u)}(0,U.n)(Y,a),console.log(Y,a)}}},{key:"setFirstScreenBlockLoaded",value:function(){var e,t=null===(e=this.FiledLoadedSuccessJudgeItems)||void 0===e?void 0:e[this.curFileType];t&&(t[S.M.RENDER_FILE_FIRST_SCREEN_BLOCK_SUCCESS]=!0)}},{key:"setCatalogueLoaded",value:function(){var e,t=null===(e=this.FiledLoadedSuccessJudgeItems)||void 0===e?void 0:e[this.curFileType];t&&(t[S.M.RENDER_FILE_CATALOGUE_SUCCESS]=!0)}},{key:"setCommentLoaded",value:function(){var e,t=null===(e=this.FiledLoadedSuccessJudgeItems)||void 0===e?void 0:e[this.curFileType];t&&(t[S.M.RENDER_FILE_COMMENT_SUCCESS]=!0)}},{key:"getIsFileLoadedSuccess",value:function(){if(this.FiledLoadedSuccessJudgeItems[this.curFileType])for(var e in this.FiledLoadedSuccessJudgeItems[this.curFileType])if(!1===this.FiledLoadedSuccessJudgeItems[this.curFileType][e])return!1;return!0}},{key:"getfirstScreenBlockDurationStartAndEnd",value:function(e){if(e&&0!==e.length)try{e.sort((function(e,t){var n,r;return((null===(n=JSON.parse(e.load_main_stage_duration_list))||void 0===n?void 0:n.block_init)||0)-((null===(r=JSON.parse(t.load_main_stage_duration_list))||void 0===r?void 0:r.block_init)||0)}));var t=JSON.parse(e[0].load_main_stage_duration_list);this.updateLoadMainStageDurationList(this.curFileType,S.M.RENDER_FILE_FIRST_SCREEN_BLOCK_START,(null==t?void 0:t.block_init)||0),e.sort((function(e,t){var n=JSON.parse(e.load_main_stage_duration_list),r=JSON.parse(t.load_main_stage_duration_list);return((null==r?void 0:r.block_ttu)||(null==r?void 0:r.block_ttv))-((null==n?void 0:n.block_ttu)||(null==n?void 0:n.block_ttv))}));var n=JSON.parse(e[0].load_main_stage_duration_list);this.updateLoadMainStageDurationList(this.curFileType,S.M.RENDER_FILE_FIRST_SCREEN_BLOCK_SUCCESS,(null==n?void 0:n.block_ttu)||(null==n?void 0:n.block_ttv))}catch(e){return void console.error("getfirstScreenBlockDurationStartAndEnd error: ",e)}}},{key:"collectAllTeaLog",value:function(){var e,t=this;if(["docx","doc"].includes((0,w.JB)())){var n=this.getProfileContext();this.getLoadMainStageHtmlLoaded(this.curFileType);var r={path:this.path,file_type:this.curFileType,file_id:this.curFileId,doc_profile:JSON.stringify(n)};Object.keys(this.otherEventParams).forEach((function(e){var n;null===(n=t.otherEventParams[e])||void 0===n||n.forEach((function(t){(0,k.default)(e,Object.assign({},t,r))}))}));var o=this.stageTimes.costTime4+this.renderStartTime,i=null===(e=this.otherEventParams.ccm_block_load_duration_dev)||void 0===e?void 0:e.filter((function(e){if(e.is_first_screen)try{var t=JSON.parse(e.load_main_stage_duration_list);o=Math.max(o,t.block_ttu||0,t.block_ttv||0)}catch(e){console.error("collectAllTeaLog blockJson error",e)}return e.is_first_screen}));this.getfirstScreenBlockDurationStartAndEnd(i),0===n.comment&&this.setCommentLoaded();var a=this.getIsFileLoadedSuccess(),c=this.LoadMainStageDurationList[this.curFileType];if(a&&c&&this.FiledLoadedSuccessJudgeItems[this.curFileType]){var u=Object.keys(this.FiledLoadedSuccessJudgeItems[this.curFileType]).map((function(e){return c[e]}));u.sort((function(e,t){return t-e})),this.updateLoadMainStageDurationList(this.curFileType,S.M.RENDER_FILE_FIRST_SCREEN_SUCCESS,u[0])}var s=JSON.stringify(this.LoadMainStageDurationList[this.curFileType]),_=c[S.M.RENDER_FILE_FIRST_SCREEN_SUCCESS]?c[S.M.RENDER_FILE_FIRST_SCREEN_SUCCESS]-this.renderStartTime:Date.now()-this.renderStartTime,E=JSON.stringify(i),l=Object.assign({load_main_stage_duration_list:s,load_duration_ms:_,is_file_loaded_success:a?1:0,load_first_screen_block_duration_list:E},r);console.log("ccm_file_load_duration_dev 事件具体属性",JSON.stringify(l)),(0,k.default)("ccm_file_load_duration_dev",l),this.otherEventParams={}}}},{key:"getCdnHost",value:function(){if(!window.performance.getEntries)return null;var e=window.performance.getEntries(),t=(0,Z.Ne)(e,"app");return t&&t.name?new(f())(t.name).host:""}},{key:"getModule",value:function(e){var t=(0,w.rT)(e);return t&&t.module?K.B&&t.module===d.FILE_TYPE.WIKI?(0,w.JB)():t.module:""}},{key:"getPageInfoParams",value:function(){return K.B?{page_type:this.curPageType,page_token:(0,w.BH)(),loc_file_id:(0,w.g9)(),loc_file_type:(0,w.JB)()}:{}}},{key:"getPlatform",value:function(){return V?"docs-in-lark":F.Z.isFeed?"lark-feed":"pc"}},{key:"getModuleConfig",value:function(e){var t=Q[e];return(0,s.default)(t)?t():t}},{key:"extraData",get:function(){var e={},t=x.r.start,n=x.r.afterAppRender,r=x.r.afterImport,o=window,i=o.domReadyTime,a=o.parseStartTime,c=o.isInjectSSR,u=o.docSSRDomReadyTime,s=o.templateRequestInfo,_=o.cssDownloadStartTime,E=o.cssDownloadEndTime,l=o.ssrParseStartTime,f=window.performance.timing;if(this.from===j){if(i&&a){var T=this.renderStartTime;e.html_download_end=a-T,e.html_css_start=_-T,e.html_css_end=E-T,e.html_ssr_parse_start=l-T,e.html_parse_end=i-T,t&&(e.app_js_download_end=t-T,e.app_js_after_import=r-T,e.app_js_exec_end=n-T),e.ssr_from=(null==s?void 0:s.ssrFrom)||"none",this.appendTimeAndDuration(e,[["unload_event",f.unloadEventStart,f.unloadEventEnd],["redirect",f.redirectStart,f.redirectEnd],["fetch_app_cache",f.fetchStart,f.domainLookupStart],["doc_dns_lookup",f.domainLookupStart,f.domainLookupEnd],["connection",f.connectStart,f.connectEnd],["secure_connection",f.secureConnectionStart,f.connectEnd],["request_to_server",f.requestStart,f.responseStart],["response_to_client",f.responseStart,f.responseEnd]]),this.appendServerTiming(e);var p=(0,Z.dU)();if(null!==p&&(e.app_js_load_time_dom_ready_to_app_download_start=p.startTime-i,e.app_js_load_time_app_download_time=p.endTime-p.startTime,e.app_js_load_time_app_download_end_to_exec_start=x.r.start-p.endTime),this.curModule===d.FILE_TYPE.DOC){var S=(0,Z.Vk)();null!==S&&this.appendTimeAndDuration(e,[["doc_index_js_download",S.startTime,S.endTime]])}}c&&(e.ssr_render_time=u-f.navigationStart,e.is_ssr_render_before_app_js_exec=u<this.appJsLoadedTime+this.renderStartTime?1:0)}else e.history_action=this.historyAction,e.previous_module=this.prevModule,e.previous_file_id=this.prevFileId;return e}}]),e}(),$=new z},360724:function(e,t,n){"use strict";n.d(t,{If:function(){return a},WD:function(){return c}});var r=n(543744),o=n(431562),i={};function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();i[e]={start:n,params:t}}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now(),a=i[e];if(a){var c=(0,o.aj)(e,0);c.start(a.start);var u=(0,r.Z)({},a.params,t);c.end(n),c.send(u,"cost_time"),delete i[e]}}},212433:function(e,t,n){"use strict";function r(e){return e.toLowerCase().replace(/[^a-z0-9]/g,".").replace(/([a-z])([0-9])/g,"$1.$2").replace(/([0-9])([a-z])/g,"$1.$2").replace(/alpha/g,"-3").replace(/beta/g,"-2").replace(/rc/g,"-1").replace(/[^0-9.\-]+/g,"-4")}function o(e,t){if(!e||!t)return!1;for(var n=r(e).split("."),o=r(t).split("."),i=Math.max(n.length,t.length),a=0;a<i;a++){var c=Number(n[a])||0,u=Number(o[a])||0;if(c<u)return!1;if(c>u)return!0}return!0}n.d(t,{y:function(){return o}})},43602:function(e,t,n){"use strict";n(385621),n(979085),n(97017),n(841282),n(2212),n(404915),n(114770),n(815640),n(557822),n(588175),n(213212),n(34645),n(16452),n(19577),n(112267),n(441620),n(672525),n(153721),n(579134),n(46879),n(706840),n(801853),n(408284),n(28630),n(153987),n(652512),n(803457),n(445908),n(280918),n(768299),n(569139),n(794524),n(9910),n(275422),n(264988),n(291170),n(833318),n(868264),n(245071),n(245753),n(517919),n(889664),n(314711),n(144574),n(879626),n(94098),n(34930),n(404652),n(969989),n(131728),n(623828),n(124243),n(937889),n(237981),n(928265),n(688279),n(233015),n(351393),n(782660),n(502909),n(917569),n(962185),n(448994),n(772665),n(988948),n(486418),n(919338),n(448295),n(226604),n(175468),n(98037),n(386077),n(180769),n(90037),n(701218),n(969676),n(255854),n(238312),n(119785),n(309857),n(205987),n(653468),n(245965),n(740764),n(403809),n(852995),n(801794),n(369003),n(184648),n(810851),n(352603),n(309389),n(793446),n(214505),n(466833),n(808197),n(799163),n(150656),n(372463),n(432134),n(997234),n(495250),n(344069),n(80035),n(552398),n(595501),n(53884),n(953289),n(578733),n(297736),n(353509),n(345734),n(13624),n(145621),n(726298),n(906360),n(923935),n(432578),n(167496),n(175969),n(918764),n(691026),n(53910),n(599645),n(40470),n(684885),n(483293),n(316038),n(70315),n(491634),n(586536);var r={scrollX:"pageXOffset",scrollY:"pageYOffset"};Object.keys(r).forEach((function(e){void 0===window[e]&&Object.defineProperty(window,e,{get:function(){return window[r[e]]}})}));var o,i=!!(o=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./))&&parseInt(o[2],10);i&&i>=80&&i<=81&&(Array.prototype.reduce=function(e){if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError("".concat(e," is not a function"));var t,n=Object(this),r=n.length>>>0,o=0;if(arguments.length>=2)t=arguments[1];else{for(;o<r&&!(o in n);)o++;if(o>=r)throw new TypeError("Reduce of empty array with no initial value");t=n[o++]}for(;o<r;o++)o in n&&(t=e(t,n[o],o,n));return t}),i&&74===i&&window&&(window.addEventListener=window.addEventListener.bind(window),window.removeEventListener=window.removeEventListener.bind(window),window.dispatchEvent=window.dispatchEvent.bind(window)),window&&window.DOMRectReadOnly&&window.DOMRectReadOnly.prototype&&"function"!=typeof window.DOMRectReadOnly.prototype.toJSON&&(window.DOMRectReadOnly.prototype.toJSON=function(){if(null==this)throw new TypeError("DOMRectReadOnly.prototype.toJSON called on null or undefined");return{bottom:this.bottom,height:this.height,left:this.left,right:this.right,top:this.top,width:this.width,x:this.x,y:this.y}}),function(){if(window.Reflect)try{Object.defineProperty(window.Reflect,"decorate",{configurable:!0,writable:!0,value:function(e,t,n,r){for(var o=void 0===n?2:void 0===r?3:4,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,a=e.length-1;a>=0;a--){var c=e[a];c&&(i=(o<3?c(i):o>3?c(t,n,i):c(t,n))||i)}return o>3&&i&&Object.defineProperty(t,n,i),i}})}catch(e){}}()},491634:function(e,t,n){"use strict";n(92683);window.URL&&!Object.getOwnPropertyDescriptor(window.URL.prototype,"searchParams")&&Object.defineProperty(window.URL.prototype,"searchParams",{get:function(){var e=this,t=new URLSearchParams(this.search);return t.append=function(n,r){URLSearchParams.prototype.append.call(t,n,r),e.search="?".concat(t.toString())},t.set=function(n,r){URLSearchParams.prototype.set.call(t,n,r),e.search="?".concat(t.toString())},t.delete=function(n){URLSearchParams.prototype.delete.call(t,n);var r=t.toString();e.search=r.length>0?"?".concat(r):r},t.sort=function(){URLSearchParams.prototype.sort.call(t);var n=t.toString();e.search=n.length>0?"?".concat(n):n},t}})},193231:function(e,t,n){"use strict";n.d(t,{w:function(){return o}});var r=n(243101),o=function(e){return(0,r.Z)(e,(function(e){return null!=e}))}},902774:function(e,t,n){"use strict";n.d(t,{sC:function(){return L},ZP:function(){return y},W6:function(){return _},rV:function(){return l},cl:function(){return f},LS:function(){return E}});var r=n(367017),o=n.n(r),i=n(335067),a=n(893835),c=n(746986),u=n(601851),s=n(436617),_=n.n(s)().createInstance({name:"creation-explorer:".concat(window.User.id)}),E=_.setItem.bind(_),l=_.getItem.bind(_),f=_.removeItem.bind(_),d=!1;function T(){return p.apply(this,arguments)}function p(){return(p=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.t)();case 3:return e.abrupt("return",e.sent.default());case 6:return e.prev=6,e.t0=e.catch(0),d||(d=!0,(0,c.default)("dev_utils_get_store_failure"),(0,a.Tb)(e.t0),(0,a.uT)("DEV_UTILS_GET_STORE_FAILURE")),e.abrupt("return",{getItem:function(e){return window.localStorage.getItem(e)},setItem:function(e,t){return window.localStorage.setItem(e,t)},removeItem:function(e){return window.localStorage.removeItem(e)},keys:function(){return Object.keys(window.localStorage)},clear:function(){return window.localStorage.clear()},version:1});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var S,I,O,R,m,A,C,h,v,D,N={getItem:(A=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return n=e.sent,e.abrupt("return",n.getItem(t));case 4:case"end":return e.stop()}}),e)}))),function(e){return A.apply(this,arguments)}),setItem:(m=(0,i.Z)(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return r=e.sent,e.abrupt("return",r.setItem(t,n));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return m.apply(this,arguments)}),removeItem:(R=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return n=e.sent,e.abrupt("return",n.removeItem(t));case 4:case"end":return e.stop()}}),e)}))),function(e){return R.apply(this,arguments)}),clear:(O=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:e.sent.clear();case 4:case"end":return e.stop()}}),e)}))),function(){return O.apply(this,arguments)}),getVersion:(I=(0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return t=e.sent,e.abrupt("return",t.version);case 4:case"end":return e.stop()}}),e)}))),function(){return I.apply(this,arguments)}),keys:(S=(0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return t=e.sent,e.abrupt("return",t.keys());case 4:case"end":return e.stop()}}),e)}))),function(){return S.apply(this,arguments)})},L={getItem:(D=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return n=e.sent,e.abrupt("return",n.getItem(t,{},!0));case 4:case"end":return e.stop()}}),e)}))),function(e){return D.apply(this,arguments)}),setItem:(v=(0,i.Z)(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return r=e.sent,e.abrupt("return",r.setItem(t,n,!0));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return v.apply(this,arguments)}),removeItem:(h=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return n=e.sent,e.abrupt("return",n.removeByHashKey(t));case 4:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)}),keys:(C=(0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return t=e.sent,e.abrupt("return",t.keys());case 4:case"end":return e.stop()}}),e)}))),function(){return C.apply(this,arguments)})},y=N},601851:function(e,t,n){"use strict";n.d(t,{t:function(){return r}});var r=function(){return n.e(8388).then(n.bind(n,295122))}},193654:function(e,t,n){"use strict";n.d(t,{U:function(){return a},l:function(){return c}});var r=n(587771),o={suite_create:"doc_create",suite_share:"doc_share"},i=(0,r.Z)(o),a=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(t?i[e]:o[e])||e};function c(e,t){return e&&e.has(t)&&e.get(t).has("is_done")&&!e.get(t).get("is_done")}},528093:function(e,t,n){"use strict";n.d(t,{Dt:function(){return r},Qs:function(){return o},o$:function(){return i},_5:function(){return u},ws:function(){return c}});var r,o,i,a=n(812083);!function(e){e[e.MAIN_BODY=1]="MAIN_BODY",e[e.COMMENTS=2]="COMMENTS",e[e.UNKNOWN=3]="UNKNOWN"}(r||(r={})),function(e){e[e.NONE=1]="NONE",e[e.ONLY_TRANSLATION=2]="ONLY_TRANSLATION",e[e.WITH_ORIGINAL=3]="WITH_ORIGINAL"}(o||(o={})),function(e){e.LOADING="loading",e.FINISH="finish",e.FAIL="fail",e.MOUNT="mount",e.SYNC_LOADING="sync_loading",e.SYNC_FINISH="sync_finish",e.SYNC_FAIL="sync_fail",e.COMMENT_FAIL="comment_fail"}(i||(i={}));var c,u=Object.assign({},a.STATUS_CODE,{DATA_ERROR:101,CODE_TRANSLATION_UNAVAILABLE:11002});!function(e){e.NONE="",e.FAIL="fail",e.RELOAD="reload",e.UNAVAILABLE="unavailable",e.DISCONNECTED="disconnected"}(c||(c={}))},204965:function(e,t,n){"use strict";n.d(t,{IO:function(){return Z}});var r=n(919264),o=n(804175),i=n(573455),a=n(112064),c=n(822462),u=n(331381),s=n(543744),_=n(359980),E=n(768133),l=n(44014),f=n(77112),d=n(517903),T=n(501455),p=n(806501),S=n(15458),I=n(207856),O=n(613066),R=n(263314),m=n(893835),A=n(443431),C=n(857720),h=n(347253),v=n(746986),D=-1,N=[],L=(0,h.default)((function(){(0,v.default)("io_message_receive_dev",{log_id:N.map((function(e){return e.log_id})).join(";"),message_type:N.map((function(e){return e.message_type})).join(";"),logs:JSON.stringify(N)}),N=[]}),2e3,{leading:!1,trailing:!0});var y=function(){function e(t){(0,r.Z)(this,e),this.props=t}return(0,o.Z)(e,[{key:"getBooleanResultText",value:function(e){return"".concat(e?"success":"failure")}},{key:"moiraeInfo",value:function(e){(0,m.IY)("IO: memberId(".concat(this.props.getMemberId(),"): ").concat(e),"info",{ioLogger:"ioLogger"})}},{key:"moiraeError",value:function(){C.ZP.error.apply(C.ZP,arguments)}},{key:"moiraeCount",value:function(e){C.ZP.count(e)}},{key:"moiraeTeaLog",value:function(e){var t,n=this.props.getMemberId();null!==(t=e.event)&&void 0!==t&&t.includes("connect")?setTimeout((function(){C.ZP.teaLog(Object.assign({key:"dev_io_event",deviceId:(0,p.Zw)(),memberId:n},e))}),1e3):C.ZP.teaLog(Object.assign({key:"dev_io_event",deviceId:(0,p.Zw)(),memberId:n},e))}},{key:"consoleError",value:function(){var e;(e=console).error.apply(e,arguments)}},{key:"consoleWarn",value:function(){var e;(e=console).warn.apply(e,arguments)}},{key:"logIOInit",value:function(e){setTimeout((function(){!function(e){(0,v.default)("ccm_user_member_info_dev",{user_unique_id:(0,O.p)(window.User.id),member_id:String(e),device_id:(0,p.Zw)()})}(e)}))}},{key:"logException",value:function(e){(0,m.Tb)(e)}},{key:"logWatchEntityFailure",value:function(e){C.ZP.error("watching entity failed! ".concat(e.type," ").concat((0,O.p)(e.token)))}},{key:"logOnMessageData",value:function(e){(0,R.cj)(e)}},{key:"logOnPassiveMessageData",value:function(e){!function(e){var t=e.headers,n=void 0===t?[]:t,r=e.payload,o="";n.forEach((function(e){var t=e.key,n=e.value;"X-TT-LOGID"===t&&(o=n)}));var i="".concat(r.type,":").concat(r.data&&r.data.type);N.push({log_id:o,message_type:i}),L()}(e)}},{key:"logPingSuccess",value:function(e){e%40==0&&(0,A.F2)(),e%8==0&&(0,A.xf)()}},{key:"logPingFailure",value:function(){this.moiraeInfo("failed to ping")}},{key:"logPong",value:function(){this.moiraeInfo("received pong")}},{key:"logPingPongTime",value:function(e){!function(e){++D%5==0&&((0,v.default)("io_pingpong_receive_dev",{cost_time:e}),D=0)}(e)}},{key:"logBeforeConnectTo",value:function(e,t){this.moiraeInfo("conn #".concat(e,": before connect to ").concat(t))}},{key:"logConnecting",value:function(e){this.moiraeInfo("conn #".concat(e,": connecting"))}},{key:"logConnectResult",value:function(e,t,n){this.moiraeInfo("conn #".concat(e,": ").concat(t,", readyState = ").concat(n))}},{key:"logConnectTime",value:function(e,t){this.moiraeInfo("conn #".concat(e,": connectTime = ").concat(t))}},{key:"logConnectionSend",value:function(e,t,n){var r=t===WebSocket.OPEN?"succeeded":"failed";this.moiraeInfo("conn #".concat(e,": send ").concat(n," ").concat(r,", readyState = ").concat(t))}},{key:"logConnectionDestroy",value:function(e,t){this.moiraeInfo("conn #".concat(e,": destroyed ").concat(t?"with":"without"," ws"))}},{key:"logBeforeSwitch",value:function(e){this.moiraeInfo("before wsManager.switch: endPointsCount = ".concat(e))}},{key:"logAfterSwitch",value:function(e){this.moiraeInfo("after wsManager.switch: ".concat(this.getBooleanResultText(e)))}},{key:"logBeforeSwitchingToEndPoint",value:function(e){this.moiraeInfo("before switching to ".concat(e))}},{key:"logAfterSwitchingToEndPoint",value:function(e,t){this.moiraeInfo("after switching to ".concat(e,": ").concat(this.getBooleanResultText(t)))}},{key:"logBeforeRace",value:function(){this.moiraeInfo("before wsManager.race")}},{key:"logAfterRace",value:function(){this.moiraeInfo("after wsManager.race")}},{key:"logBeforeLoadingTicket",value:function(){this.moiraeInfo("before loading ticket")}},{key:"logAfterLoadingTicket",value:function(e,t){var n="".concat(t?"is":"not");this.moiraeInfo("after loading ticket: ".concat(this.getBooleanResultText(e),", ").concat(n," from cache"))}},{key:"logConnectionDestroyedByStopOp",value:function(e){this.moiraeInfo("destroy conn #".concat(e," by stopOp"))}}]),e}(),P=n(731976),g=function(){function e(t){(0,r.Z)(this,e),this.config=t}return(0,o.Z)(e,[{key:"getExternalExtensions",value:function(){return this.config.externalExtensions}},{key:"getStaticConfig",value:function(){return Object.assign({},this.config,{initialTicket:(0,_.default)(window,"User.wsTicket"),tenantId:(0,_.default)(window,"User.tenantId"),fpid:(0,f.Yy)("frontier").fpid,appKey:(0,f.Yy)("frontier").appKey,aid:(0,f.Yy)("frontier").aid,endPoints:(0,f.m0)(),businessType:(0,P._x)()})}},{key:"generateRequestContext",value:function(){return{os:(0,p.Zj)(),app_version:(0,p.Sf)(),os_version:(0,p.IQ)(),platform:(0,p.V)(),request_id:(0,T.Y)()}}},{key:"createIOLogger",value:function(e){return new y(e)}},{key:"sendMessageByAxios",value:function(e){return(0,S.WY)(Object.assign({},e,{headers:Object.assign({"Content-Type":"application/json"},e.headers)}))}},{key:"getCommonHeader",value:function(){var e=(0,l.isUnderWikiIndex)()?(0,d.k$)():{};return Object.assign({"doc-biz":I.f4,"doc-os":I.tn,"doc-platform":I.tj,"X-TT-LOGID":(0,E.M)()},e)}}]),e}(),M=n(339956),b=n(902774),k=n(360851),w={getToken:M.LP},H=(0,k.cY)(),U={Storage:b.ZP,Suite:w,FeatureGate:H};function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var Z=function(e){(0,i.Z)(n,e);var t=F(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.Z)(this,n),t.call(this,new g(e))}return(0,o.Z)(n,[{key:"getUserId",value:function(){return window.User.id}},{key:"requestApi",value:function(e){var t=(0,S.WY)(Object.assign({},e,{headers:Object.assign({"Content-Type":"application/json"},e.headers)}));return t.reqId=(0,_.default)(e,"data.req_id")||NaN,t}}],[{key:"getInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=(0,s.Z)(e,{externalExtensions:U,disableSocket:!1}),null===n.ioInstance&&(n.ioInstance=new n(e)),n.ioInstance}}]),n}(u.IO);Z.ioInstance=null},474664:function(e,t,n){"use strict";n.d(t,{Dz:function(){return r.c},Gi:function(){return r.b},IO:function(){return o.IO}});var r=n(144917),o=n(204965)},731976:function(e,t,n){"use strict";n.d(t,{_x:function(){return s},rB:function(){return E},bl:function(){return l}});var r=n(389666),o=n(501051),i=n(742097),a=n(215661),c=n(671914),u=n(204965);function s(){return a.Z.isOpendoc?"OPEN_DOC":(0,c.mB)(i.Z.search).third_auth?"THIRD_AUTH":void 0}function _(e,t){r.e.emit("".concat(o.ad,":").concat("IO_CHANNEL_STATE_CHANGE"),t,e)}function E(){u.IO.getInstance().registerChannelState(_)}function l(){u.IO.getInstance().unregisterChannelState(_)}},564342:function(e,t,n){"use strict";n.d(t,{n:function(){return o}});var r=n(774561);function o(e,t){window.ms&&window.ms.sendToNative&&window.ms.sendToNative((0,r.Z)({},e,t))}},996503:function(e,t,n){"use strict";n.d(t,{DX:function(){return m}});var r=n(919264),o=n(804175),i=n(359980),a=n(981387),c=n(215661),u=n(671914),s=n(746986),_=n(126368),E=n(806501),l=n(197141),f=n(984856),d=n(60618),T=l.ZP.getInstance();function p(e,t){T.isSupported&&((0,s.default)("call_lark",{interactor:"lark",caller:(0,E.rT)().module,interface_name:e,larkletAPI:!0}),T.sendMessage({event:e,data:t}))}function S(e,t){return T.isSupported?((0,s.default)("call_lark",{interactor:"lark",caller:(0,E.rT)().module,interface_name:e,larkletAPI:!0}),T.postMessage({event:e,data:t})):Promise.reject()}var I="";var O=function(){function e(){(0,r.Z)(this,e),this.isNativeLark=!1}return(0,o.Z)(e,[{key:"toggleDoneInbox",value:function(){return p(f.M.toggleDoneInbox),Promise.resolve()}},{key:"openLarkImageViewer",value:function(e){var t=function(e){var t=e.fn,n=e.args,r=e.eventName,o=void 0===r?"call_lark":r,a=e.eventOptions,c=void 0===a?{}:a,u=e.callback,_=T.isSupported;if((0,s.default)(o,Object.assign({interactor:"lark",caller:(0,E.rT)().module,interface_name:t,larkletAPI:_},c)),_)return u?(T.postMessage({event:t,data:n}).then((function(e){u&&u(e)})),!0):(T.sendMessage({event:t,data:n}),!0);var l=(0,i.default)(window,"lark_to_bear_bridge.".concat(t));if(l){var f=l(n);return u&&u(f),!0}return!1}({fn:f.M.openImgViewer,args:e});return Promise.resolve(t)}},{key:"updateDocFeedRemind",value:function(e){p(f.M.updateDocFeedRemind,e)}},{key:"updateFeedCardShortcut",value:function(e){return S(f.M.updateFeedCardShortcut,e)}},{key:"removeFeed",value:function(e){p(f.M.removeFeed,e)}},{key:"updateDocMsgBadge",value:function(e){p(f.M.updateDocMessageBadge,e)}},{key:"notifyAnnouncement",value:function(e){var t=(0,a.c1)()?d("lark.group_announcement.community"):d("lark.group_announcement"),n=(0,i.default)(window,"bear_to_lark_bridge.docsInfo.chatId","")||(0,u.mB)(location.search).chat_id;return n?S(f.M.groupAnnouncement,{chatId:n,title:t,url:e}):Promise.reject()}},{key:"getDocDraft",value:function(e){return S(f.M.getDocDraft,e)}},{key:"saveDocDraft",value:function(e){return S(f.M.saveDocDraft,e)}},{key:"deleteDocDraft",value:function(e,t){p(f.M.deleteDocDraft,{id:e,token:t})}},{key:"closeChatSidebar",value:function(){return c.Z.isLKP?S(f.M.closeChatSidebar):(p(f.M.closeChatSidebar),Promise.resolve())}},{key:"updateMonitorStatus",value:function(e,t){if(c.Z.isLark&&c.Z.isFeed){var n,r=_.Z.batchGet(["session_id","file_id"],{},"updateMonitorStatus"),o=r.session_id,i=r.file_id,a={status:e,docsType:(n=/\/([\w]+)\/([\d\w]+)(?:\?|$)/.exec(location.href),n?n[1]:void 0),reportId:I,timestamp:(new Date).valueOf(),session_id:o,file_id:i};if(t)for(var u in t)a[u]=t[u];(0,s.default)("docs_feed_process_bear",a),I&&p(f.M.updateMonitorStatus,a)}}},{key:"openShareDoc",value:function(e){return Promise.resolve()}},{key:"handleDocRead",value:function(e){return Promise.resolve()}},{key:"handleShareToChat",value:function(e){return Promise.resolve()}},{key:"notifyAnnouncementV2",value:function(e){return Promise.resolve()}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}(),R=n(522843),m=(0,n(649274).qA)()?R.u.getInstance():O.getInstance()},668933:function(e,t,n){"use strict";n.d(t,{Xh:function(){return _}});var r=n(359980),o=n(746986),i=n(806501),a=(n(857720),n(197141)),c=n(984856),u=(n(996503),n(649274)),s=a.ZP.getInstance();function _(e){var t=s.isSupported;if((0,o.default)("call_lark",{interactor:"lark",caller:(0,i.rT)().module,interface_name:"updateTranslateState",larkletAPI:t}),!(0,u.qA)()){if(!t){var n=(0,r.default)(window,"lark_to_bear_bridge.postMessage");return!!n&&(n("translate-state",e),!0)}s.sendMessage({event:c.M.translateState,data:e})}}},710986:function(e,t,n){"use strict";var r,o,i,a,c,u;n.d(t,{$p:function(){return r},f:function(){return o},E4:function(){return i},nA:function(){return a},Fc:function(){return c},z3:function(){return u}}),function(e){e.MGET_DOC_FEEDS="8|space.doc.v1.MGetDocFeedsRequest|space.doc.v1.MGetDocFeedsResponse|1|MGET_DOC_FEEDS",e.CREATE_SHORTCUTS="2063|feed.v1.CreateShortcutsRequest|feed.v1.CreateShortcutsResponse|1|CREATE_SHORTCUTS",e.UPDATE_SHORTCUTS="2065|feed.v1.UpdateShortcutsRequest|feed.v1.UpdateShortcutsResponse|1|UPDATE_SHORTCUTS",e.DELETE_SHORTCUTS="2064|feed.v1.DeleteShortcutsRequest|feed.v1.DeleteShortcutsResponse|1|DELETE_SHORTCUTS",e.REMOVE_DOC="2236|space.doc.v1.RemoveDocRequest|space.doc.v1.RemoveDocResponse|1|REMOVE_DOC",e.UPDATE_DOC_MESSAGE_BADGE="2237|space.doc.v1.UpdateDocMessageBadgeRequest|space.doc.v1.UpdateDocMessageBadgeResponse|1|UPDATE_DOC_MESSAGE_BADGE",e.CREATE_DOC_DRAFT="2705|space.doc.v1.CreateDocDraftRequest|space.doc.v1.CreateDocDraftResponse|1|CREATE_DOC_DRAFT",e.DELETE_DOC_DRAFT="2706|space.doc.v1.DeleteDocDraftRequest|space.doc.v1.DeleteDocDraftResponse|1|DELETE_DOC_DRAFT",e.GET_DOC_DRAFT="2707|space.doc.v1.GetDocDraftRequest|space.doc.v1.GetDocDraftResponse|1|GET_DOC_DRAFT",e.UPDATE_DOC_ME_READ="2234|space.doc.v1.UpdateDocMeReadRequest|space.doc.v1.UpdateDocMeReadResponse|1|UPDATE_DOC_ME_READ",e.UPDATE_DOC_FEED="2113|space.doc.v1.UpdateDocFeedRequest|space.doc.v1.UpdateDocFeedResponse|1|UPDATE_DOC_FEED",e.UPLOAD_SECURE_IMAGE="2108|media.v1.UploadSecureImageRequest|media.v1.UploadSecureImageResponse|1|UPLOAD_SECURE_IMAGE",e.PUSH_DOC_FEEDS="5021||basic.v1.Entity||PUSH_DOC_FEEDS"}(r||(r={})),function(e){e.MGET_DOC_FEEDS="MGET_DOC_FEEDS",e.CREATE_SHORTCUTS="CREATE_SHORTCUTS",e.DELETE_SHORTCUTS="DELETE_SHORTCUTS",e.REMOVE_DOC="REMOVE_DOC",e.UPDATE_DOC_MESSAGE_BADGE="UPDATE_DOC_MESSAGE_BADGE",e.CREATE_DOC_DRAFT="CREATE_DOC_DRAFT",e.GET_DOC_DRAFT="GET_DOC_DRAFT",e.DELETE_DOC_DRAFT="DELETE_DOC_DRAFT",e.UPDATE_DOC_ME_READ="UPDATE_DOC_ME_READ",e.UPDATE_DOC_FEED="UPDATE_DOC_FEED",e.UPLOAD_SECURE_IMAGE="UPLOAD_SECURE_IMAGE"}(o||(o={})),function(e){e.CLOSE_DOC="CLOSE_DOC",e.FEED_DONE="FEED_DONE",e.SEND_MEETING_MINUTE="SEND_MEETING_MINUTE",e.OPEN_SHARE_DOC="OPEN_SHARE_DOC",e.OPEN_SEND_ANNOUNCEMENT="OPEN_SEND_ANNOUNCEMENT"}(i||(i={})),function(e){e[e.PENDING=0]="PENDING",e[e.FULFILLED=1]="FULFILLED",e[e.REJECTED=2]="REJECTED"}(a||(a={})),function(e){e[e.NORMAL=1]="NORMAL",e[e.POST=2]="POST"}(c||(c={})),function(e){e[e.UNKNOWN_ENTITY=0]="UNKNOWN_ENTITY",e[e.CHAT=1]="CHAT",e[e.EMAIL=2]="EMAIL",e[e.DOC_FEED=3]="DOC_FEED",e[e.THREAD=4]="THREAD",e[e.BOX=5]="BOX",e[e.OPENAPP=6]="OPENAPP",e[e.TOPIC=7]="TOPIC",e[e.OPENAPP_CHAT=8]="OPENAPP_CHAT",e[e.EMAIL_ROOT_DRAFT=100]="EMAIL_ROOT_DRAFT"}(u||(u={}))},308281:function(e,t,n){"use strict";n(981387),n(746986),n(806501)},649274:function(e,t,n){"use strict";n.d(t,{f0:function(){return s},Cf:function(){return E},Im:function(){return l},qH:function(){return f},bN:function(){return d},wY:function(){return T},qA:function(){return S}});var r=n(774561),o=(n(77112),n(215661)),i=n(981387),a=(n(671914),n(746986)),c=n(806501),u=n(483620);function s(){return(0,i.pK)(location.href)===i.B8.ANNOUNCE}function _(e,t){var n=new URL(e),r=n.searchParams,o=r.get("sourceType");o&&r.set("source_type",o),(0,i.AQ)()&&r.set("source_type","meeting_notes"),!t&&r.set("from","lark.open_in_browser");return["open_type","lark","sourceType","last_doc_message_id","feed_id","contentTheme","theme"].forEach((function(e){return r.delete(e)})),n.toString()}function E(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=_(e,t),(0,a.default)("call_lark",{interactor:"lark",caller:(0,c.rT)().module,interface_name:"openInBrowser"}),o.Z.isLKP){var n=window;n.lkpDesktopApi&&n.lkpDesktopApi.openInBrowser(e)}else window.open(e)}function l(){return(0,u.r)(u.t.isSupportCommentDraft)&&!1}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/png";return new Promise((function(n,r){var o=document.createElement("canvas"),i=o.getContext("2d"),a=new Image;a.crossOrigin="use-credentials",a.src=e,a.onload=function(){o.height=a.height,o.width=a.width,i&&i.drawImage(a,0,0,a.width,a.height);var e=o.toDataURL(t);n(e),o=null},a.onerror=function(){r(new Error("get img base64 data failed"))}}))}function d(e){var t=p(8);return{imageIds:[t],elementIds:[t],elements:(0,r.Z)({},t,{tag:2,property:{image:{token:e}}}),innerText:""}}function T(e){e=e||"";var t=p(10),n=[t],r={};return r[t]={property:{text:{content:e}},tag:1},{elements:r,elementIds:n,innerText:e}}function p(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:62,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),a=[],c=i.length;if(o=(o=o||c)>c?c:o,r)for(e=0;e<r;e++)n=0|Math.random()*o,a[e]=i[n];else for(a[8]="-",a[13]="-",a[18]="-",a[23]="-",a[14]="4",e=0;e<36;e++)a[e]||(t=0|16*Math.random(),a[e]=i[19===e?3&t|8:t]);return a.join("")}function S(){var e=navigator.userAgent.toLowerCase();return!e.includes("electron")&&e.includes("lark")&&!o.Z.isLKP}},483620:function(e,t,n){"use strict";n.d(t,{t:function(){return u},r:function(){return l}});var r,o=n(774561),i=n(981387),a=n(212433),c=n(215661);var u,s=function(){var e=c.Z.isLKP?function(){var e=window;if(e.lkpDesktopApi&&e.lkpDesktopApi.getAppVersion)return e.lkpDesktopApi.getAppVersion();var t=navigator.userAgent.match(/LKPDesktop\/[\d.]+/);return t?t[1]:""}():(0,i.jS)("appVersion"),t=null;return(t=e?e.match(/(\d+)\.(\d+)\.(\d+)/):(e=window.navigator.userAgent).match(/Lark\/(\d+)\.(\d+)\.(\d+)/))?t.slice(1,3).join("."):""}();function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.join(".");return(0,a.y)(s,r)}!function(e){e.isAutoTranslateBodyEnabled="isAutoTranslateBodyEnabled",e.isEnabledChannelAPI="isEnabledChannelAPI",e.isEnabledAnnouncementVerify="isEnabledAnnouncementVerify",e.isEnabledMeetingShareToCurrentChat="isEnabledMeetingShareToCurrentChat",e.isNotLegacyTranslateConfig="isNotLegacyTranslateConfig",e.isPushFeedMessage="isPushFeedMessage",e.isEnabledNativeWatermark="isEnabledNativeWatermark",e.needNotAnnouncementPublishOldDomain="needNotAnnouncementPublishOldDomain",e.isSupportCommentDraft="isSupportCommentDraft",e.isEnabledCloseAPI="isEnabledCloseAPI"}(u||(u={}));var E=(r={},(0,o.Z)(r,u.isAutoTranslateBodyEnabled,_(3,12)),(0,o.Z)(r,u.isEnabledChannelAPI,_(3,12)),(0,o.Z)(r,u.isEnabledAnnouncementVerify,_(3,7)),(0,o.Z)(r,u.isEnabledMeetingShareToCurrentChat,_(3,6)),(0,o.Z)(r,u.isNotLegacyTranslateConfig,_(3,6)),(0,o.Z)(r,u.isPushFeedMessage,_(3,3)),(0,o.Z)(r,u.isEnabledNativeWatermark,_(2,7)&&!c.Z.isInVC||_(3,19,2)&&c.Z.isInVC),(0,o.Z)(r,u.needNotAnnouncementPublishOldDomain,_(2,3)),(0,o.Z)(r,u.isSupportCommentDraft,_(3,27)),(0,o.Z)(r,u.isEnabledCloseAPI,_(3,25)),r);function l(e){return E[e]||!1}},197141:function(e,t,n){"use strict";n.d(t,{ZP:function(){return O}});var r=n(919264),o=n(804175),i=n(359980),a=n(215661),c=n(981387),u=n(746986),s=n(483620),_=n(984856),E=window.lkpDesktopApi||{},l=function(){function e(){(0,r.Z)(this,e),this.prefix="#########lkpapi:#####",this.logEnabled=!0}return(0,o.Z)(e,[{key:"log",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.logEnabled&&(e=console).log.apply(e,[this.prefix].concat(n))}},{key:_.M.updateDocMeRead,value:function(e){if(this.log("call updateDocMeRead invoke",e),E.updateDocMeRead)try{return E.updateDocMeRead(JSON.stringify(e)),this.log("call updateDocMeRead success",e),Promise.resolve()}catch(t){this.log("call updateDocMeRead fail, with error",t,e)}return Promise.reject()}},{key:_.M.groupAnnouncement,value:function(e){var t=e.chatId,n=e.url,r=e.title;return this.log("call notifyAnnouceAndClose invoke",e),E.notifyAnnounceAndClose?(E.notifyAnnounceAndClose(t,n,r),this.log("call notifyAnnouceAndClose Success",e),Promise.resolve()):Promise.reject()}},{key:_.M.closeChatSidebar,value:function(){return this.log("call closeChatSidebar invoke"),E.closeLKPAnnounce?(E.closeLKPAnnounce(),this.log("call notifyAnnouceAndClose Success"),Promise.resolve()):Promise.reject()}}]),e}();function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T;function p(){return Math.random().toString(36).substr(2)}function S(e){return a.Z.isFeed&&!!e.event}!function(e){e.SYNC_ANNOUNCEMENT_VERIFY_STATUS="sync_announcement_verify_status"}(T||(T={}));var I=null,O={getInstance:function(){return I||(I=a.Z.isLKP?new m:new R),I}},R=function(){function e(){(0,r.Z)(this,e),this.sendedMsgMap=new Map,this.messageTimer=null,this.isInited=!1,this._eventsCollections={};var t=(0,i.default)(window,"LarkExtensionUI.initialize");a.Z.isFeed&&t&&this._init(t);var n=window.scm||{},o=n.branch,s=n.version;(0,u.default)("docs_webview_architecture",{arch_version:Number(this.isSupported),docs_version:"".concat(o,"(").concat(s,")"),lark_version:(0,c.iY)()})}return(0,o.Z)(e,[{key:"_init",value:function(e){var t=this;try{e({lifecycle:{onCreate:function(){}},channel:{onMessage:function(e){if(S(e)){var n=t.sendedMsgMap.get(e.id);if(e.id&&n)return t.removeMessage(e.id),void(e.err?n.reject(e.data):n.resolve(e.data));t.emit(e)}else console.error("Received an illegal message",e)}}}),this.isInited=!0}catch(e){console.error("LarkExtensionUI initialize error: ",e)}}},{key:"addMessage",value:function(e,t){this.sendedMsgMap.set(e,t),this.messageTimer||this.startMessageTimer()}},{key:"removeMessage",value:function(e){this.sendedMsgMap.delete(e),0===this.sendedMsgMap.size&&this.stopMessageTimer()}},{key:"startMessageTimer",value:function(){var e=this;this.messageTimer=window.setInterval((function(){var t,n=Date.now(),r=[],o=f(e.sendedMsgMap);try{for(o.s();!(t=o.n()).done;){var i=t.value;i[1].expireTime<n&&r.push(i[0])}}catch(e){o.e(e)}finally{o.f()}r.forEach((function(t){var n=e.sendedMsgMap.get(t);e.removeMessage(t),n.message.err=!0,n.message.data=new Error("location timeout"),n.reject(n.message)}))}),1e3)}},{key:"stopMessageTimer",value:function(){this.messageTimer&&(clearInterval(this.messageTimer),this.messageTimer=null)}},{key:"postMessage",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=p();e.id=r;var o=(0,i.default)(window,"LarkExtensionUI.channel.postMessage"),a=S(e);return a||console.error("send an illegal message",e),a&&this.isInited&&o?new Promise((function(i,a){try{o(e),t.addMessage(r,{message:e,resolve:i,reject:a,expireTime:Date.now()+1e3*n})}catch(t){return e.err=!0,a(e)}})):(e.err=!0,Promise.reject(e))}},{key:"sendMessage",value:function(e){if(!S(e))return console.error("send an illegal message",e),!1;var t=(0,i.default)(window,"LarkExtensionUI.channel.postMessage");return!(!this.isInited||!t)&&(t(e),!0)}},{key:"emit",value:function(e){var t=e.event,n=e.data;if(t){var r=this._eventsCollections[t]||[];this._eventsCollections[t]=r.filter((function(e){return Promise.resolve().then((function(){return e&&e(n)})),!!e}))}}},{key:"on",value:function(e,t){var n=this._eventsCollections[e]||[];this._eventsCollections[e]=n,n.push(t)}},{key:"remove",value:function(e,t){var n=this._eventsCollections[e]||[];this._eventsCollections[e]=n.filter((function(e){return e!==t}))}},{key:"isSupported",get:function(){return!(0,i.default)(window,"lark_to_bear_bridge.updateDocMeRead")&&this.isInited&&(0,s.r)(s.t.isEnabledChannelAPI)}}]),e}(),m=function(){function e(){(0,r.Z)(this,e)}return(0,o.Z)(e,[{key:"postMessage",value:function(e,t){return function(e,t){var n=new l,r=t.event,o=t.data;return n[r]&&n[r](o)||Promise.resolve(t)}(0,e)}},{key:"sendMessage",value:function(e){return!0}},{key:"on",value:function(e,t){}},{key:"remove",value:function(e,t){}},{key:"isSupported",get:function(){return!0}}]),e}()},984856:function(e,t,n){"use strict";var r;n.d(t,{M:function(){return r}}),function(e){e.translateState="translateState",e.openImgViewer="openImgViewer",e.updateDocMeRead="updateDocMeRead",e.isMisspelled="isMisspelled",e.getCorrectionsForMisspelling="getCorrectionsForMisspelling",e.pushAnnouncementThumbUrl="pushAnnouncementThumbUrl",e.announcementVerifyStatus="announcement_verify_status",e.toggleDoneInbox="toggleDoneInbox",e.updateDocFeedRemind="updateDocFeedRemind",e.updateFeedCardShortcut="updateFeedCardShortcut",e.pushMeetingNoteThumbUrl="shareToChats",e.groupAnnouncement="groupAnnouncement",e.heartbeat="heartbeat",e.saveDocDraft="saveDocDraft",e.deleteDocDraft="deleteDocDraft",e.getDocDraft="getDocDraft",e.removeFeed="removeFeed",e.updateDocMessageBadge="updateDocMessageBadge",e.closeChatSidebar="closeChatSidebar",e.updateMonitorStatus="updateMonitorStatus"}(r||(r={}))},395095:function(e,t,n){"use strict";n.d(t,{n:function(){return i},F:function(){return a}});var r=n(715372),o=n.n(r),i=o()({loader:function(){return Promise.all([n.e(14455),n.e(34223),n.e(51872),n.e(15435),n.e(90771),n.e(82782)]).then(n.bind(n,220386))},loading:function(){return null}}),a=o()({loader:function(){return Promise.all([n.e(14455),n.e(34223),n.e(51872),n.e(15435),n.e(90771),n.e(82782)]).then(n.bind(n,194801))},loading:function(){return null}})},991210:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(525474),o=n(165235),i=n(715372),a=n.n(i),c=n(215661),u=c.Z.isOpendoc,s=function(){return n.e(45880).then(n.bind(n,430756))};u&&s();var _=u?a()({loader:s,loading:function(){return null}}):o.Fragment,E=c.Z.isOpendoc?_:r.Dialog},111754:function(e,t,n){"use strict";var r=n(919264),o=n(804175),i=n(742097),a=n(481382),c=n(215661),u=n(806501),s=n(791670),_=n(294759),E=function(){function e(){(0,r.Z)(this,e)}return(0,o.Z)(e,[{key:"init",value:function(){var e=this;this.startRecord={},this.fromRecord={},this.startFileType=(0,u.JB)(),this.prevModule="",this.initTime=(new Date).getTime(),this.setStartTime(this.initTime,this.startFileType),this.curModule=this.getModule(i.Z.pathname),!c.Z.isFeed&&s.ZP.listen((function(t,n){"PUSH"===n&&(e.prevModule=e.curModule,e.curModule=e.getModule(i.Z.pathname),e.startRecord[e.curModule]=Date.now(),e.fromRecord[e.curModule]=e.prevModule)}))}},{key:"setStartTime",value:function(e,t){for(var n in a.FILE_TYPE)this.startRecord[a.FILE_TYPE[n]]=e,this.fromRecord[a.FILE_TYPE[n]]=t===a.FILE_TYPE[n]?"url":t}},{key:"getStartTime",value:function(e){return"url"===this.fromRecord[e]?_||!c.Z.isFeed?this.renderAppStartTime=performance.timing.navigationStart:this.renderAppStartTime=window.domReadyTime||0:this.renderAppStartTime=this.startRecord[e],this.renderAppStartTime}},{key:"getFrom",value:function(e){return this.fromRecord[e]}},{key:"getModule",value:function(e){var t=(0,u.rT)(e);return t&&t.module||""}}]),e}();t.Z=new E},195094:function(e){e.exports={garrMasterDocx:"20220511",garrMasterBitable:"20220509",garrMaster:"20210315",garrMasterBottomTemplate:"20220511",garrMasterTemplateCenter:"20220511",garrMasterSheet:"20220519"}},267824:function(e,t,n){"use strict";n.d(t,{ZP:function(){return p},vB:function(){return S},hw:function(){return I},JQ:function(){return T},vK:function(){return R},Lc:function(){return A},wQ:function(){return C},OJ:function(){return g},aN:function(){return M},Yx:function(){return b}});var r=n(367017),o=n.n(r),i=n(298652),a=n(335067),c=n(462674),u=n(742097),s=n(981387),_=n(406005),E=n(360851),l=n(294759);function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T,p="garr_master_versions",S="garr_base_template_branch",I={};!function(e){e.garrComponent="garrComponent",e.garrRequire="garrRequire"}(T||(T={}));var O={navs:[]};function R(e){return m.apply(this,arguments)}function m(){return(m=(0,a.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!c.Z.appInfos[t]){e.next=8;break}return e.next=4,c.Z.loadApp(t);case 4:return n=e.sent,e.abrupt("return",n.mounted?n.provider:null);case 8:return e.abrupt("return",null);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function A(e,t){O[e]=t}function C(e){return e?O[e]:O}function h(e){try{D(p),(0,_.d8)(p,window.encodeURIComponent(JSON.stringify(e)),36500)}catch(e){console.warn(e)}}function v(e){try{D(S),(0,_.d8)(S,window.encodeURIComponent(e),36500)}catch(e){console.warn(e)}}function D(e){var t=u.Z.hostname;["",-1!==t.indexOf(".")?t.slice(t.indexOf(".")):"",".".concat(t)].map((function(t){(0,_.kT)(e,t)}))}function N(e){return document.cookie&&document.cookie.split(";").filter((function(t){if(t){var n=t.split("=")[0].trim();return n&&n===e}return!1})).length>1}function L(e,t){var n=localStorage.getItem("__garr_preload_data__");if(n){try{var r=JSON.parse(n);if(r[e]&&r[e][t])return r[e][t].data}catch(e){console.error(e)}return null}}function y(e){var t=e.preload_script_url;if(t){var n=document.createElement("script"),r=e.name;n.onerror=function(e){console.error(e)},n.onload=function(){console.log("garr preload script load success!");var t=window.garrPreloadConfig,n=[];if(t&&t[r]){var o=t[r].jsList||[],a=t[r].cssList||[];n=[].concat((0,i.Z)(o),(0,i.Z)(a))}!function(e,t,n){try{var r=localStorage.getItem("__garr_preload_data__"),o={};if(r)try{o=JSON.parse(r)}catch(e){console.error(e)}o[e]=o[e]||{};var i=o[e];if(i[t]={createTime:Date.now(),data:n},Object.keys(i).length>5){var a={};Object.keys(i).map((function(e){return[e,i[e].createTime]})).sort((function(e,t){return t[1]-e[1]})).slice(0,Math.round(2.5)).map((function(e){return a[e[0]]=i[e[0]]})),o[e]=a}localStorage.setItem("__garr_preload_data__",JSON.stringify(o))}catch(e){console.error("set __garr_preload_data__ error: ",e)}}(r,e.version,n)},n.src=t,document.body.appendChild(n)}}function P(e){switch(e){case"bitable":return(0,E.k8)("ccm.bitable.preload_script_enable");case"docx":return(0,E.k8)("ccm.docx.preload_script_enable");case"sheet":return(0,E.k8)("ccm.sheet.preload_script_enable");default:return!1}}function g(e){try{if(l&&s.cC)return;var t,n=f(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(P(r.name))L(r.name,r.version)||y(r)}}catch(e){n.e(e)}finally{n.f()}}catch(e){console.error("cacheMicroModules err: ",e)}}function M(e){var t=!1;if(N(p)||N(S))return v(window.scm.branch),h(e),!0;var n=function(){var e=(0,_.ej)(p);if(e)try{return JSON.parse(e)}catch(e){console.error(e)}return null}(),r=(0,_.ej)(S)||null;if(r&&r===window.scm.branch||(v(window.scm.branch),t=!0),n){for(var o in e)if(n[o]!==e[o]){h(e),t=!0;break}}else h(e),t=!0;return t&&console.log("garr cookie changed"),t}function b(e){return 2===e}},329052:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var r,o=n(805159),i=n(165235),a=n(461131),c=n(830145),u=a.default.div(r||(r=(0,o.Z)(["\n  ","\n"])),(function(e){return"z-index: ".concat(e.zindex,";")})),s=function(e){return i.createElement("div",{className:"navigation-bar-wrapper"},i.createElement(u,{zindex:c.NAVIGATIONBAR_ZINDEX,className:e.className||"navigation-bar select-disabled navigation-bar__suite",contentEditable:!1},e.children))}},717031:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(919264),o=n(804175),i=n(573455),a=n(112064),c=n(822462);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var s=function(e){(0,i.Z)(n,e);var t=u(n);function n(){var e;return(0,r.Z)(this,n),(e=t.apply(this,arguments)).mountContainer=function(){var t=document.createElement("div");return t.classList.add("global-overlay-container"),document.body.appendChild(t),e.containerNode=t,function(){document.body.removeChild(t),e.containerNode=null}},e.getContainer=function(){return e.containerNode||void 0},e}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){this.unmountContainer=this.mountContainer()}},{key:"componentWillUnmount",value:function(){this.unmountContainer&&this.unmountContainer()}},{key:"render",value:function(){return null}}],[{key:"getContainer",value:function(){return document.querySelector(".global-overlay-container")}}]),n}(n(165235).Component),_=s},543926:function(e,t,n){"use strict";var r=n(919264),o=n(804175),i=n(645617),a=new(function(){function e(){(0,r.Z)(this,e)}return(0,o.Z)(e,[{key:"updateTaskId",value:function(){this.taskId=(0,i.v4)()}},{key:"configTaskId",value:function(e){this.taskId||(this.taskId=(0,i.v4)()),e.task_id||(e.task_id=this.taskId)}},{key:"getTaskId",value:function(){return this.taskId}}]),e}());t.Z=a},465857:function(e,t,n){"use strict";n.d(t,{kY:function(){return _},N7:function(){return E},hI:function(){return f},tC:function(){return d},gx:function(){return T},jX:function(){return p}});var r=n(981387),o=n(481382),i=n(215661),a=n(44014),c=n(360851),u=n(483620),s=(0,u.r)(u.t.isAutoTranslateBodyEnabled)||!i.Z.isFeed,_=(0,c.dq)("translate_request_config",{occurs:1,request_texts_count:32}),E=s,l=(0,c._3)("translate_support_comment_enable");function f(){return!(o.isAnonymousAccess||i.Z.isInVC)&&(0,c._3)("translate_enable")}function d(){var e=(0,a.locateRoute)();return f()&&E&&!(e.isWikiIndex||e.isSheet||(0,r.xg)()||(0,r.AQ)()||i.Z.isOpenDoc)}function T(){return!(0,a.locateRoute)().isWikiIndex}function p(){var e=(0,a.locateRoute)();return!o.isAnonymousAccess&&(0,c._3)("translate_enable")&&l&&(e.isDoc||e.isDocx||e.isWikiIndex)}},312167:function(e,t,n){"use strict";var r,o;n.d(t,{i:function(){return r},F:function(){return o}}),function(e){e.EN="en",e.ZH="zh",e.JA="ja",e.TH="th"}(r||(r={})),function(e){e[e.ORIGINAL=0]="ORIGINAL",e[e.TRANSLATION=1]="TRANSLATION"}(o||(o={}))},435104:function(e,t,n){"use strict";n.d(t,{ZP:function(){return C},TA:function(){return D},y3:function(){return h},wL:function(){return v}});var r=n(726364),o=n(298652),i=n(922081),a=n(654313),c=n(811967),u=n(359980),s=n(956435),_=n(357081),E=n(164596),l=n(528093),f=n(543926),d=n(919264),T=n(804175),p=n(265498),S=n(524666),I=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,p.Z)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},O=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,d.Z)(this,e),this.array=[],this.maxSize=0,this.array=t}return(0,T.Z)(e,[{key:"setMaxSize",value:function(e){this.maxSize=e}},{key:"length",value:function(){return this.array.length}},{key:"add",value:function(e){var t=this.findIndex(e.id);t>-1?this.array.splice(t,1,e):(this.maxSize>0&&this.array.length===this.maxSize&&this.pop(),this.array.push(e))}},{key:"delete",value:function(e){var t=this.findIndex(e);-1!==t&&this.array.splice(t,1)}},{key:"pop",value:function(){return this.array.shift()}},{key:"findIndex",value:function(e){return this.array.findIndex((function(t){return t.id===e}))}},{key:"latest",value:function(){return this.array[this.length()-1]}},{key:"toJSON",value:function(){return this.array}},{key:"clear",value:function(){this.array=[]}},{key:"isPendding",get:function(){return 0===this.maxSize||this.array.length<this.maxSize}}]),e}(),R=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;(0,d.Z)(this,e),this.workerFn=n,this.maxOccurs=r,this.waitQueue=t,this.workerQueue=new O,this.workerQueue.setMaxSize(r),this.pause=!1,this.workerResult=[],this.workerRqs=[]}return(0,T.Z)(e,[{key:"setCallback",value:function(e,t){this.onSuccess=e,this.onFail=t}},{key:"setWorker",value:function(e){this.workerFn=e}},{key:"appendWaitQueue",value:function(e){var t=this;e.forEach((function(e){t.waitQueue.add(e)}))}},{key:"start",value:function(){var e=this;return this.workerResult=[],this.workerRqs=[],new Promise((function(t){e.resolveQueue=t,0===e.waitQueue.length()&&e.resolveQueue([]),e.work()}))}},{key:"stop",value:function(){this.pause=!0}},{key:"clearWait",value:function(){this.waitQueue.clear()}},{key:"continue",value:function(){this.pause=!1,this.work()}},{key:"clear",value:function(){this.pause=!1,this.cancel(),this.waitQueue.clear(),this.workerQueue.clear(),this.workerRqs=[]}},{key:"cancel",value:function(){this.workerRqs.forEach((function(e){var t=e.abort||e.cancel;t&&"function"==typeof t&&t()})),this.workerRqs=[]}},{key:"work",value:function(){for(var e=Math.min(this.waitQueue.length(),this.maxOccurs-this.workerQueue.length()),t=0;t<e;t++)this.addQueue()}},{key:"checkQueuePending",value:function(){return this.workerQueue.isPendding}},{key:"checkWaitQueueEmpty",value:function(){return 0===this.waitQueue.length()}},{key:"addQueue",value:function(){if(!this.pause&&this.checkQueuePending()){var e=this.waitQueue.pop();e&&(this.workerQueue.add(e),this.worker())}}},{key:"worker",value:function(){var e=this;if(!this.pause){var t=this.workerQueue.latest(),n=t.id,r=t.data,o=this.workerFn(r);this.workerRqs.push(o),o.then((function(n){var r={payload:t,response:n};e.workerResult.push(r),e.onSuccess&&e.onSuccess(r)})).catch((function(n){var r={payload:t,response:n};e.workerResult.push(r),e.onFail&&e.onFail(r)})).finally((function(){e.removeWorkerQueue(n),e.queueEmpty()&&e.resolveQueue?e.resolveQueue(e.workerResult):e.pause||e.addQueue()}))}}},{key:"removeWorkerQueue",value:function(e){this.workerQueue.delete(e)}},{key:"checkWorkerQueueEmpty",value:function(){return 0===this.workerQueue.length()}},{key:"queueEmpty",value:function(){return this.checkWaitQueueEmpty()&&this.checkWorkerQueueEmpty()}}]),e}();I([(0,S.WY)()],R.prototype,"clear",null);function m(e,t,n){var r=(0,u.default)(n,"occurs",1),i=(0,u.default)(n,"request_texts_count",64);f.Z.configTaskId(e);var a=function(e,t){for(var n={url:_.mb.TRANSLATE_V2,method:_.mb.METHOD.POST,headers:{"Content-Type":"application/json"}},r=e.text_list,o=e.suppl,i=new O,a=(0,s.Z)(r,t),c=(0,s.Z)(o,t),u=0;u<a.length;u++){var f=(0,E.Wb)();i.add({id:f,data:Object.assign({},n,{data:Object.assign({},e,{text_list:a[u],suppl:c[u],text_source:e.text_source||l.Dt.UNKNOWN})})})}return i}(e,i);0===a.length()&&console.warn("--------参数错误，无法添加队列-----------");var c=new R(a,t,r),d=new Promise((function(t){c.start().then((function(n){var r={data:{text_list:[],suppl:[]},failure_data:{text_list:[],suppl:[]},codes:[]};return n.forEach((function(e){var t=e.response,n=e.payload;r=t.code?function(e,t,n){var r,i,a=(0,u.default)(n,"text_list",[]),c=(0,u.default)(n,"suppl",[]);(r=e.failure_data.text_list).push.apply(r,(0,o.Z)(a)),(i=e.failure_data.suppl).push.apply(i,(0,o.Z)(c)),e.codes.indexOf(t)>-1||e.codes.push(t);return e}(r,t.code,(0,u.default)(n,"data.data")):function(e,t){var n=(0,u.default)(t,"text_list",[]),r=(0,u.default)(t,"suppl",[]);return(0,u["default"])(t,"translate_status",[]).forEach((function(t,o){t?(e.data.text_list.push(n[o]),e.data.suppl.push(r[o])):(e.failure_data.text_list.push(n[o]),e.failure_data.suppl.push(r[o]),e.codes.some((function(e){return e===l._5.DATA_ERROR}))||e.codes.push(l._5.DATA_ERROR))})),e}(r,(0,u.default)(t,"data"))})),r.target_lang=e.target_lang,r.src_lang=e.src_lang,t(r)}))}));return d.abort=function(){d.cancel_status=!0,c.clear()},d.cancel=d.abort,d}var A=n(916443);function C(e,t,n){return m(e,t,n)}function h(e){var t="",n={};return e.forEach((function(e){var r=e.text,a=e.attribs,s=[(0,A.ug)(t),(0,A.ug)(r)];t+=r,a.forEach((function(e){var t=(0,i.Z)(e,2),r=t[0],a=t[1];(0,c.Z)(n,["".concat(r,",").concat(a)],[].concat((0,o.Z)((0,u.default)(n,["".concat(r,",").concat(a)],[])),[s]))}))})),{text:t,suppl:n}}function v(e){var t=e.text,n=e.suppl,i=[],s=Object.keys(n);if(!s.length)return t.length&&i.push({text:t,attribs:[]}),i;var _={};s.forEach((function(e){n[e].forEach((function(t){var n=e.split(","),i=(0,r.Z)(n),a=i[0],s=i.slice(1).join(","),E=t[0],l=t[0]+t[1]-1,f=["".concat(E,",").concat(l)];(0,c.Z)(_,f,[].concat((0,o.Z)((0,u.default)(_,f,[])),[[a,s]]))}))}));var E=Object.keys(_).sort((function(e,t){var n=e.split(",")[1],r=t.split(",")[1];return Number(n)-Number(r)})).map((function(e){return e.split(",").map((function(e){return Number(e)}))})),l=(0,A.ku)(E),f=0;return l.forEach((function(e){var n=(0,a.Z)((0,A.lW)(e,_));f<e[0]&&i.push({attribs:[],text:(0,A.pY)(t,f,e[0])}),i.push({attribs:n,text:(0,A.pY)(t,e[0],e[1]+1)}),f=e[1]+1})),f<(0,A.ug)(t)&&i.push({attribs:[],text:(0,A.pY)(t,f,(0,A.ug)(t))}),i}function D(e){var t=e.src_lang,n=void 0===t?"en":t,r=e.target_lang,o=e.enable_auto_translate,i=e.shield_auto_translate_langs,a=void 0===i?[]:i,c=e.global_display_type,u=e.languages_display_type,s=void 0===u?{}:u,_=e.enable_auto_translate_doc_body,E=e.enable_auto_translate_doc_comment,l=e.supported_src_langs,f=void 0===l?[]:l,d=e.translation_view,T=void 0===d?0:d,p=e.view_target_lang,S={src_lang:n,target_lang:r,display_type:c,enable_auto_translate:o,enable_auto_translate_doc_body:_,enable_auto_translate_doc_comment:E,supported_src_langs:f,translation_view:T,view_target_lang:void 0===p?"":p},I=a.includes(n);return S.enable_auto_translate_doc_body=S.enable_auto_translate,S.enable_auto_translate_doc_comment=S.enable_auto_translate,!I&&o||(S.enable_auto_translate=!1,S.enable_auto_translate_doc_body=!1,S.enable_auto_translate_doc_comment=!1),s[n]&&(S.display_type=s[n]),S}},916443:function(e,t,n){"use strict";n.d(t,{ug:function(){return s},pY:function(){return _},lW:function(){return E},ku:function(){return l},gU:function(){return f},YC:function(){return T}});var r=n(298652),o=n(654313),i=n(359980);function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u="translate-guid";function s(e){return e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length}function _(e,t,n){var r,o=0,i="",c=a(e);try{for(c.s();!(r=c.n()).done;){var u=r.value;o>=t&&o<n&&(i+=u),o++}}catch(e){c.e(e)}finally{c.f()}return i}function E(e,t){var n=[],o=Object.keys(t).map((function(e){return e.split(",").map((function(e){return Number(e)}))}));return o.forEach((function(o){if(!(o[0]<e[0]&&o[1]<e[1]||o[0]>e[0]&&o[1]>e[1])){var a=(0,i.default)(t,o.join(","),[]);a.length&&n.push.apply(n,(0,r.Z)(a))}})),n}function l(e){if(0===e.length)return[];for(var t=!1,n=(0,r.Z)(e),i=1;i<e.length;i++){var a=e[i-1],c=e[i],u=i,s=[];if(a[1]>=c[0]){if(t=!0,a[0]!==c[0]){var _=[Math.min(a[0],c[0]),Math.max(a[0],c[0])-1];s.push(_)}s.push([Math.max(a[0],c[0]),a[1]]),c[1]>a[1]&&s.push([a[1]+1,c[1]]),n.splice.apply(n,[u-1,2].concat(s));break}}return t?l(n):(0,o.Z)(n)}function f(e,t,n){var r=n?t.getRep(n):t.getRep(),o=r.zoneId,i=d(e,r);if(i){var a=t.getAttributeOnLine(o,e,u);if(!a)return i;var c,s=t.getAttributeOnLine(o,e-1,u),_=t.getAttributeOnLine(o,e+1,u);if(a===s?c=e-1:a===_&&(c=e+1),!c&&0!==c)return i;var E,l,f,T,p,S=d(c,r);return l=S,f=(E=i).selStart[0],T=l.selStart[0],p=f>T?E:l,{selStart:(f<T?E:l).selStart,selEnd:p.selEnd,selZone:E.selZone}}}function d(e,t){var n=t.zoneId,r=t.lines.atIndex(e);return{selStart:[e,0],selEnd:[e,r&&r.text.length||0],selZone:n}}function T(e,t){var n=t.getRep(e.selZone),r=n.attributeManager.getAttributesOnSelection(e.selStart,e.selEnd,n).attribs.find((function(e){return e[0]===u}));return r&&r[1]}},463636:function(e,t,n){"use strict";n.d(t,{Q8:function(){return i},Vb:function(){return a},AJ:function(){return c},LO:function(){return u},Bi:function(){return s}});var r=n(265498),o=n(812083),i=Symbol();function a(e){return"symbol"===(0,r.Z)(e)?e===i:e&&[o.STATUS_CODE.PROMPT_MODIFY_WHEN_VIOLATE_POLICIES,o.STATUS_CODE.PROMPT_CONTACT_WHEN_VIOLATE_POLICIES].includes(e)}var c={NOT_EXIST_BACK_END:3,NOT_EXIST:10001,NOT_EDIT:10003,TOO_FREQUENT:10004,EXCEED_LIMIT:10005,ERROR:404},u={PENDING:0,SUCCESS:1,DECLINE:2,WRONG:3},s={NOT_EXIST:1,PENDING:2,DECLINE:3,WRONG:4,NOT_EDIT:10003,TOO_FREQUENT:10004,EXCEED_LIMIT:10005}},191253:function(e,t,n){"use strict";n.d(t,{Z:function(){return oe}});var r=n(37030),o=n(30017),i=n(941985),a=n(281180),c=n(811210),u=n(535343);var s=n(956986);function _(e){var t,n,r=(0,s.U)(),o=(t=r,n=new Map,{add:function(e){e&&e.forEach((function(e){e&&!n.get(e)&&n.set(e,t.register(e))}))},remove:function(e){e&&e.forEach((function(e){var t=n.get(e);t&&(t(),n.delete(e))}))},dispose:function(){n.forEach((function(e){return e()}))}});return{middleware:[r],onModuleAdded:function(t){t[e]&&o.add(t[e])},onModuleRemoved:function(t){t[e]&&o.remove(t[e])},dispose:function(){o.dispose()}}}var E=n(791670),l=n(299573),f=function(e){return function(e){return function(t){if(t.payload&&t.payload.confirm){var n=t.payload.confirm,r=n.title,o=n.body,i=n.confirmText,a=n.cancelText,c=n.onConfirm,u=n.onCancel;l.Z.show({title:r,body:o,confirmText:i,cancelText:a,onConfirm:c,onCancel:u})}else e(t)}}},d=n(774561),T=n(922081),p=n(481382);var S=function(e){return function(t){return function(n){if(!(n[p.DEFERRED]||n[p.REQUEST]||n[p.BATCH_REQUEST]||n.COMMENT))return t(n);if(n.COMMENT)return n.COMMENT(e.dispatch);var r=function(){var e={};return[new Promise((function(t,n){e.resolve=t,e.reject=n})),e]}(),o=(0,T.Z)(r,2),i=o[0],a=o[1];return t(Object.assign({},n,(0,d.Z)({},p.DEFERRED,a))),i}}},I=n(246479),O=null;function R(e){e.dispatch;return function(e){return function(t){if(t.type!==I.H.route.LOCATION_CHANGE)return e(t);var n=t.payload,r=!1,i=(0,o.u)();if(null!==O||i.previousLocation){if(O&&i.previousLocation&&(r=t.payload.pathname!==O.pathname,n=Object.assign({},n,{isPathChanged:r}),!r&&O.state)){var a=Object.assign({},O.state,{},n.state);n=Object.assign(n,{state:a})}}else r=!0,n=Object.assign({},t.payload,{isInitial:!0,isPathChanged:r});O=n,i.previousLocation=O;var c=Object.assign({},t,{payload:n});return e(c)}}}var m=n(496863),A=n(812083),C=n(98390),h=n(790445);function v(e){var t=e.dispatch;return function(e){return function(n){if(!n.payload||!(0,C.y8)(n.payload))return e(n);return e(Object.assign({},n,{type:"".concat(n.type,"_START")})),n.payload.then((function(e){if(!e.code||e.code===A.STATUS_CODE.SUCCESS){var r=Object.assign({},n,{payload:e,type:"".concat(n.type,"_SUCCESS")});return t(r),t(Object.assign({},r,{type:"".concat(n.type,"_FINISH")})),e}!function(e){if(e.code===A.STATUS_CODE.LOGIN_REQUIRED&&!p.isAnonymousAccess)return(0,h.Zg)(),Promise.reject(new Error("login required!"));var r=Object.assign({},n,{type:"".concat(n.type,"_FAIL"),payload:e});t(r),t(Object.assign({},r,{type:"".concat(n.type,"_FINISH")}))}(e)}),(function(e){var r=e.response,o=r.status,i=r.statusText,a=Object.assign({},n,{type:"".concat(n.type,"_FAIL"),payload:{code:o,msg:i}});(0,m.Z)(e)&&(a.severError=!0),t(a),t(Object.assign({},a,{type:"".concat(n.type,"_FINISH")}))}))}}}var D=n(357081);var N=function(e){return function(e){return function(t){(function(e){return e.type===D.Hp.intermediate.FETCH_PAGED_DATA})(t)||e(t)}}};function L(e){e.dispatch;return function(e){return function(t){if(!t[p.REQUEST]&&!t[p.BATCH_REQUEST])return e(t)}}}var y=n(41240),P=new Map;window.Toast=y.Z;var g=function(e){return function(e){return function(t){if(t.type===I.H.toast.TOAST_SHOW){var n=t.toastConfig,r=n.key,o=n.type,i=n.content,a=n.duration,c=n.closable,u=n.className,s=n.closeAfterCancel,_=n.onClose,E=n.cancelable,l=n.cancelText,f=n.onCancel,d=n.keepAlive,T=n.processable,p=n.delayCloseTime,S=n.actionText,O=n.onActionClick,R=n.delay;if(!i)return;if(R){var m=setTimeout((function(){P.delete(r),y.Z.show({key:r,type:o,content:i,duration:a,closable:c,className:u,closeAfterCancel:s,onClose:_,cancelable:E,cancelText:l,onCancel:f,keepAlive:d,processable:T,delayCloseTime:p,actionText:S,onActionClick:O})}),R);P.set(r,m)}else y.Z.show({key:r,type:o,content:i,duration:a,closable:c,className:u,closeAfterCancel:s,onClose:_,cancelable:E,cancelText:l,onCancel:f,keepAlive:d,processable:T,delayCloseTime:p,actionText:S,onActionClick:O})}else if(t.type===I.H.toast.TOAST_CLOSE){var A=t.toastConfig,C=A.key,h=A.delayCloseTime;h?setTimeout((function(){P.get(C)&&(clearTimeout(P.get(C)),P.delete(C)),y.Z.remove(C)}),h):(P.get(C)&&(clearTimeout(P.get(C)),P.delete(C)),y.Z.remove(C))}else t.type===I.H.toast.TOAST_PROCESS_UPDATE&&y.Z.update(t.toastConfig);e(t)}}},M=(0,a.zk)(E.ZP);function b(){return[{middleware:[S]},{middleware:[M,R]},(0,u.W)(),(0,c.getSagaExtension)(),{middleware:[L,N,v,f,g]},_("teaCommonParamsActionListeners")]}var k=n(233961),w=n(964862),H=n(158181),U=n(155284),F=n(464691),Z=n(510940),x="@@path/SET_BACK_URL",B=(0,Z.handleActions)((0,d.Z)({},x,(function(e,t){var n=t.payload,r=n.current,o=n.back;return Object.assign({},e,(0,d.Z)({},r,o))})),{}),W=n(367017),G=n.n(W),K=n(742097),V=n(139928),j=n(44226),Y=n(44014),J=n(426466),X=n(477067),q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K.Z.pathname;return{type:x,payload:{current:t,back:e}}},Q=G().mark(ee),z=G().mark(te);function $(e,t){return[e.get("type"),t.get("type")].every((function(e){return e===j.RouteType.FILELIST}))}function ee(){var e,t,n;return G().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,(0,V.select)(J.C_);case 3:return e=r.sent,r.next=6,te(e);case 6:return t=r.sent,r.next=9,(0,V.take)(D.Hp.route.LOCATION_CHANGE);case 9:return r.next=11,(0,V.select)(J.C_);case 11:if(n=r.sent,!(!e.isEmpty()&&!$(e,n)&&K.Z.pathname!==t&&t!==D.BC.URL.TEMPLATE)){r.next=16;break}return r.next=16,(0,V.put)(q(t));case 16:r.next=0;break;case 18:case"end":return r.stop()}}),Q)}function te(e){var t,n,r,o,i,a;return G().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=(0,Y.locateRoute)(),n=(0,Y.isUnderRootRoute)(),r=(0,Y.isUnderSuiteView)(),o=!t.isMe&&n,!t.isFolder&&!t.isMe){c.next=8;break}i=K.Z.pathname,c.next=16;break;case 8:if(!r){c.next=15;break}return c.next=11,(0,V.select)(X.Az);case 11:a=c.sent,i=a[K.Z.pathname],c.next=16;break;case 15:o&&(i=e.get("url"));case 16:return void 0===i&&(i=D.BC.URL.HOME),c.abrupt("return",i);case 18:case"end":return c.stop()}}),z)}var ne={id:U.u.APP_PC,initialActions:[(0,F.Y)(U.u.APP_PC)],reducerMap:(0,d.Z)({},U.E.APP_PC,(0,H.combineReducers)({backUrlMap:B})),sagas:[ee]};(0,o.Z)();var re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.createStore)({initialState:e,enhancers:[],extensions:b()},(0,k.O)(),(0,w.k)(),ne);return t}(window.___INITIAL_STATE__);window.store=re,(0,i.PQ)(re);var oe=re},230177:function(e,t,n){"use strict";n.d(t,{FV:function(){return r},vX:function(){return o}});var r="wiki_version",o=("?".concat(r,"=1"),"?".concat(r,"=2"),"current_space_wiki")},268374:function(e,t,n){"use strict";n.r(t),n.d(t,{getWikiSpaceAndNodeDataFromTemplate:function(){return c},getWikiObjTokenFromTemplate:function(){return u},getWikiObjTypeFromTemplate:function(){return s},getWikiTokenFromTemplate:function(){return _},getSpaceIdFromTemplate:function(){return E},getHomePageWikiTokenFromTemplate:function(){return l},getValidWikiVersionFromTemplate:function(){return f},getValidWikiVersionFromTemplateBySpaceId:function(){return d}});var r=n(359980),o=n(972429),i=n(913629),a=n(230177),c=function(e){var t=window[a.vX];if((0,o.default)(t)||"string"==typeof e&&t.wiki_token!==e)return null;var n={spaceId:t.space_id,spaceName:t.space_name,spaceIcon:t.space_icon,wikiToken:t.wiki_token,objToken:t.obj_token,objType:t.obj_type,wikiVersion:t.wiki_version},i=(0,r.default)(t,"home_page.obj_token");if(i){var c={objType:(0,r.default)(t,"home_page.obj_type"),objToken:i,wikiToken:(0,r.default)(t,"home_page.wiki_token")};(n=Object.assign({},n,{homePage:c})).wikiToken||(n=Object.assign({},n,{},c))}return n},u=function(e){var t=c(e);return(0,r.default)(t,"objToken")},s=function(e){var t=c(e);return(0,r.default)(t,"objType")},_=function(e){var t=c(e);return(0,r.default)(t,"wikiToken")},E=function(e){var t=c(e);return(0,r.default)(t,"spaceId")},l=function(e){var t=c(e);return(0,r.default)(t,"homePage.wikiToken")},f=function(e){var t=c(e),n=null==t?void 0:t.wikiVersion;return(0,i.validateVersion)(n)},d=function(e){var t=window[a.vX];if(!((0,o.default)(t)||"string"==typeof e&&t.space_id!==e))return t.wiki_version}},218281:function(e,t){"use strict";t.Z={bitable:{env:"prod",name:"bitable",path:"/bitable/:token?",source_url:"//sf3-scmcdn2-cn.feishucdn.com/eesz/bear/smartable/module/ee/docs/bitable/1.0.1.71/index.js",preload_script_url:"//sf3-scmcdn2-cn.feishucdn.com/eesz/bear/smartable/module/ee/docs/bitable/1.0.1.71/garr_preload.js",branch:"master",version:"1.0.1.71",stage:"master_version"},"bottom-template":{env:"prod",name:"bottom-template",path:"",type:2,source_url:"//sf3-scmcdn2-cn.feishucdn.com/eesz/platform_fe/operation/module/dynamic_bottom_template/1.0.0.151/index.js",preload_script_url:"",branch:"master",version:"1.0.0.151",stage:"master_version"},code:0,docx:{env:"prod",name:"docx",path:"/docx/:token?",source_url:"//sf3-scmcdn2-cn.feishucdn.com/eesz/bear/docx/module/ee/docs/docx/1.0.5.857/index.js",preload_script_url:"//sf3-scmcdn2-cn.feishucdn.com/eesz/bear/docx/module/ee/docs/docx/1.0.5.857/garr_preload.js",branch:"master",version:"1.0.5.857",stage:"master_version",docx_ssr_version:"1.0.5.857"},msg:"ok",sheet:{env:"prod",name:"sheet",path:"/sheet/:token?",source_url:"//sf3-scmcdn2-cn.feishucdn.com/eesz/bear/sheet/module/ee/bear_web/sheet/1.0.0.6723/index.js",preload_script_url:"//sf3-scmcdn2-cn.feishucdn.com/eesz/bear/sheet/module/ee/bear_web/sheet/1.0.0.6723/garr_preload.js",branch:"AB-a-release-suite",version:"1.0.0.6723",stage:"master_version"},slide:{env:"prod",index_css:"/eesz/module/css/slide_index.1.0.0.1876.css?ssr",name:"slide",path:"/slide/:token?",source_url:"//sf3-scmcdn2-cn.feishucdn.com/eesz/bear/slide/module/ee/docs/slide/1.0.0.1876/index.js",stage:"branch:master",version:"1.0.0.1876",versionList:{ga:"1.0.0.1876"},versionListProject:{alpha:"测试版",beta:"19.10.3",ga:"20.6.5","pre-beta":"19.10.3",rc:"19.10.3"}},"template-center":{env:"prod",name:"template-center",path:"",type:2,source_url:"//sf3-scmcdn2-cn.feishucdn.com/eesz/platform_fe/operation_template_center/module/dynamic_template_center/1.0.0.206/index.js",preload_script_url:"//sf3-scmcdn2-cn.feishucdn.com/eesz/platform_fe/operation_template_center/module/dynamic_template_center/1.0.0.206/garr_preload.js",branch:"master",version:"1.0.0.206",stage:"master_version"},releaseConfig:"master-2022.5.4"}},617047:function(e,t,n){"use strict";var r;n.d(t,{i:function(){return r}}),function(e){e.FIND="find",e.REPLACE="replace"}(r||(r={}))},617962:function(e,t,n){"use strict";var r,o,i,a;n.d(t,{tF:function(){return r},AJ:function(){return o},BH:function(){return i},x0:function(){return a}}),function(e){e[e.DOC=1]="DOC",e[e.SHEET=2]="SHEET",e[e.SLIDE=3]="SLIDE",e[e.BITABLE=4]="BITABLE",e[e.COMMENT=5]="COMMENT",e[e.DRIVE=6]="DRIVE",e[e.DOCX=22]="DOCX"}(r||(r={})),function(e){e[e.COMMON=1]="COMMON"}(o||(o={})),function(e){e[e.INCREASE=0]="INCREASE",e[e.DECREASE=1]="DECREASE"}(i||(i={})),function(e){e.LIKE="LIKE",e.DISLIKE="DISLIKE"}(a||(a={}))},215442:function(e,t,n){var r=n(509962).getAppNameFromConfig;e.exports=function(e){var t=r();return e.replace(/\{\{APP_DISPLAY_NAME\}\}/g,t)}},60618:function(e,t,n){var r=n(922489),o=n(215442),i=r.t;e.exports=function(){var e=i.apply(null,arguments);return o(e)}},294759:function(e){var t=-1!==window.location.search.indexOf("from=lark.tab"),n="lark.tab"===window.sessionStorage.getItem("__ENTER_FROM__"),r=window.navigator.userAgent,o=/lark|feishu/i.test(r)&&(t||n||/TYPE\/PC_TAB/i.test(r));e.exports=o},298015:function(e,t,n){"use strict";n.d(t,{H:function(){return a}});var r={};n.r(r),n.d(r,{NOOP:function(){return o}});var o="NOOP",i=n(598498),a={sheet:n(435990),route:i,common:r}},30017:function(e,t,n){"use strict";n.d(t,{u:function(){return i},Z:function(){return a}});var r=n(481382),o={chainedFunc:function e(t){function n(){}return function(r){return void 0===t&&(t=n),function(){return t(),r&&r(),e}}}},i=function(){return window[r.PROJECT_GLOBAL]};function a(){window[r.PROJECT_GLOBAL]={utils:o},"getGlobalVar"in window||(window.getGlobalVar=i,console.log("GlobalVars initialized"))}},791670:function(e,t,n){"use strict";n.d(t,{uS:function(){return m}});var r=n(649915),o=n(177722),i=n(359980),a=n(811967),c=n(670025),u=n(837992),s=n(981387),_=n(790445),E=n(70393),l=n(216343),f=n(230177),d=n(60618),T=n(294759);function p(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var S=("file:"===location.protocol||"native-resource:"===location.protocol||window.useHashRouter?o.Z:r.Z)({getUserConfirmation:function(e,t){e?u.V.show({title:d("common.leave_page_warning_title"),content:e,okText:d("common.leave_page_warning_confirm"),cancelText:d("common.leave_page_warning_cancel"),onOk:function(){return t(!0),!0},onCancel:function(){t(!1)}}):t(!0)}});if(T||s.$2){S.nativePush=S.push,S.nativeReplace=S.replace;var I=l.g7?new RegExp("(/space|/drive)?/(wiki/(spaces/)?$)"):new RegExp("(/space|/drive)?/((home|folder|discover|share|trash|me|quickaccess|shared|sharedfolder|favorites|storage)/|(wiki|wiki-v2)/(spaces/)?$)"),O=function(e){return function(){var t=arguments[0].pathname||arguments[0];if(!t||"string"!=typeof t)return e.apply(void 0,arguments);var n=c.parseUrl(t).url,r=c.parseUrl(docsLocation.pathname).url;if(""===n||I.test(n)||!I.test(r))e.apply(void 0,arguments);else{var o=/^https?:\/\//.test(t)?t:"".concat(docsLocation.origin).concat(t),i=arguments[0];i&&i.state&&i.state.from&&(o=c.stringifyUrl({url:o,query:{from:i.state.from}})),window.open(o)}}};S.push=O(S.nativePush),S.replace=O(S.nativeReplace)}else if(E.No){S.nativePush=S.push,S.nativeReplace=S.replace;var R=function(e,t){var n=t;return function(){var t,r,o=arguments[0].pathname||arguments[0];if(!o||"string"!=typeof o)return e.apply(void 0,arguments);if("string"==typeof arguments[0]){var u=p(o);r=u.search,u.hash;var s=c.parse(r);(t=!!(0,_.TM)(s[f.FV]))&&(arguments[0]=c.exclude(arguments[0],[f.FV]))}else{r=(0,i.default)(arguments[0],"search",""),(0,i.default)(arguments[0],"hash","");var E=c.parse(r);(t=!!(0,_.TM)(E[f.FV]))&&(0,a.Z)(arguments[0],"search",c.exclude(r,[f.FV]))}var l=/^\/wiki\/(?!space$)[\w\d]+$/.test(o);if(l&&"replace"===n&&c.parseUrl(o).url===c.parseUrl(docsLocation.pathname).url)return e.apply(void 0,arguments);if(!t&&l){var d;d="string"==typeof arguments[0]?o:S.createHref(arguments[0]);var T=/^https?:\/\//.test(d)?d:"".concat(docsLocation.origin).concat(d);window.open(T)}else e.apply(void 0,arguments)}};S.push=R(S.nativePush,"push"),S.replace=R(S.nativeReplace,"replace")}t.ZP=S,S.rawPush=S.push,S.rawReplace=S.replace;var m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function n(n,r,o){var i=docsLocation.href,a=r;t.beforePush&&(a=t.beforePush(r)),a&&("replace"===n?e.rawReplace(a,o):e.rawPush(a,o),t.afterPush&&t.afterPush({from:i,to:a}))}return e.push=function(e,t){n("push",e,t)},e.replace=function(e,t){n("replace",e,t)},e}},652947:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(204328),o=Object.assign({},(0,r.DJ)("CLIENT_VARS"),{RESET_CLIENT_VARS:"RESET_CLIENT_VARS",SET_CLIENT_VARS:"SET_CLIENT_VARS",CHANGE_TOKEN:"CHANGE_TOKEN",SET_EDITOR:"SET_EDITOR",DESTROY_EDITOR:"DESTROY_EDITOR",SET_BODY_BLANK:"SET_BODY_BLANK",SET_TITLE_BLANK:"SET_TITLE_BLANK",SET_TITLE_AND_BODY_BLANK:"SET_TITLE_AND_BODY_BLANK",TOGGLE_FULLSCREEN:"TOGGLE_FULLSCREEN",SET_RENDERED:"SET_RENDERED"})},349531:function(e,t,n){"use strict";n.d(t,{DF:function(){return u},uk:function(){return s},sw:function(){return _},os:function(){return E},AT:function(){return l},p:function(){return f},b7:function(){return d},_$:function(){return T},Ff:function(){return S}});var r=n(523232),o=n(155284),i=n(533613),a=n(492894),c=o.E.DOC_BASE,u=function(e){return e[c]&&e[c].etherpad||{}},s=function(e){return u(e).clientVars},_=function(e){var t=u(e).editor;return a.Z.get(t)},E=function(e){return u(e).isTitleBlank},l=function(e){return u(e).isBodyBlank},f=function(e){return u(e).isFullscreenMode},d=function(e){return u(e).isDocRendered},T=function(e){return u(e).isSpellCheckerShowing},p=function(e){var t={title:"",doc_ssr:!1},n=s(e);if(n){var r=n.collab_client_vars;if(n.doc_ssr||(0,i.Fl)())return Object.assign({},t,{title:r.title,ssr:!0})}return t},S=(0,r.P1)((function(e){return p(e).title}),(function(e){return p(e).doc_ssr}),(function(e,t){return{title:e,doc_ssr:t}}))},103742:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(204328),o=Object.assign({},(0,r.DJ)("TREE_FILE_META"),{FETCH_TREE_FILE_META_WITHIN_PARAMS:"FETCH_TREE_FILE_META_WITHIN_PARAMS",SET_TOKEN_MAP:"SET_TOKEN_MAP",SAVE_TREE_EXPANDED_KEYS:"SAVE_TREE_EXPANDED_KEYS"})},465872:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(204328),o=Object.assign({},(0,r.DJ)("MY_SPACE_2_NEW_OBJ_LIST"),{FETCH_MY_SPACE_2_NEW_OBJ_LIST_WITHIN_PARAMS:"FETCH_MY_SPACE_2_NEW_OBJ_LIST_WITHIN_PARAMS"})},812990:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(204328),o=Object.assign({},(0,r.DJ)("MY_OBJECT_LIST"),{FETCH_MY_OBJECT_LIST_WITHIN_PARAMS:"FETCH_MY_OBJECT_LIST_WITHIN_PARAMS"})},383127:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(204328),o=Object.assign({},(0,r.DJ)("MY_SPACE_LIST"),{FETCH_MY_SPACE_LIST_WITHIN_PARAMS:"FETCH_MY_SPACE_LIST_WITHIN_PARAMS"})},318449:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(204328),o=Object.assign({},(0,r.DJ)("PIN_LIST"),{},(0,r.DJ)("ADD_PIN",!1),{},(0,r.DJ)("REMOVE_PIN",!1),{},(0,r.DJ)("MOVE_PIN",!1))},596090:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(204328),o=Object.assign({},(0,r.DJ)("RECENT_OBJS"),{},(0,r.DJ)("RECENT_OBJS_IN_SUITE_BACK_NAV"),{},(0,r.DJ)("RECENT_OBJS_FOR_CHECK"),{SET_RECENT_OBJ_TOKENS:"SET_RECENT_OBJ_TOKENS"})},404671:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(204328),o=Object.assign({},(0,r.DJ)("MY_SPACE_2_NEW_FOLDER"),{FETCH_MY_SPACE_2_NEW_FOLDER_WITHIN_PARAMS:"FETCH_MY_SPACE_2_NEW_FOLDER_WITHIN_PARAMS"})},253232:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(204328),o=Object.assign({},(0,r.DJ)("MY_SPACE_FOLDER"),{FETCH_MY_SPACE_FOLDER_WITHIN_PARAMS:"FETCH_MY_SPACE_FOLDER_WITHIN_PARAMS",FETCH_MY_SPACE_FOLDER_PURE:"FETCH_MY_SPACE_FOLDER_PURE"})},278084:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(204328),o=Object.assign({},(0,r.DJ)("FETCH_V2_SHARED_FOLDERS",!1),{},(0,r.DJ)("FETCH_V2_SHARED_FOLDER_WITHIN_PARAMS",!1),{},(0,r.DJ)("SHOW_V2_SHARED_FOLDER",!1),{},(0,r.DJ)("HIDE_V2_SHARED_FOLDER",!1))},798016:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(204328),o=Object.assign({},(0,r.DJ)("ROOT_SHARE_FOLDER"),{FETCH_ROOT_SHARE_FOLDER_PURE:"FETCH_ROOT_SHARE_FOLDER_PURE",FETCH_ROOT_SHARE_FOLDER_WITHIN_PARAMS:"FETCH_ROOT_SHARE_FOLDER_WITHIN_PARAMS"},(0,r.DJ)("SHOW_SHARE_FOLDER",!1),{},(0,r.DJ)("HIDE_SHARE_FOLDER",!1))},18465:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(204328),o=Object.assign({},(0,r.DJ)("ALL_TEAM_SPACE"),{FETCH_ALL_TEAM_SPACE_WITHIN_PARAMS:"FETCH_ALL_TEAM_SPACE_WITHIN_PARAMS"})},205695:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(204328),o=Object.assign({},(0,r.DJ)("SHARE_LIST"),{},(0,r.DJ)("FETCH_ALL_SHARE_FOLDERS_LIST",!1),{},(0,r.DJ)("FETCH_V2_ROOT_SHARE_FOLDER_WITHIN_PARAMS",!1))},672789:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(204328),o=Object.assign({},(0,r.DJ)("SHARE_OBJECTS"))},549470:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});var r={SET_CURRENT_LIST_NAME:"SET_CURRENT_LIST_NAME",TOGGLE_SHOW_HIDDEN_SHARED_FOLDER:"TOGGLE_SHOW_HIDDEN_SHARED_FOLDER",TOGGLE_RIGHT_BAR_EXPAND:"TOGGLE_RIGHT_BAR_EXPAND"}},278910:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});var r={SET_LIST_VIEW_SETTING:"SET_LIST_VIEW_SETTING",SET_LIST_VIEW_MODE:"SET_LIST_VIEW_MODE",SET_LIST_VIEW_COLUMNS:"SET_LIST_VIEW_COLUMNS",CLICK_META_MENU_ITEM:"CLICK_META_MENU_ITEM",SET_LIST_VIEW_FILTERING_SETTING:"SET_LIST_VIEW_FILTERING_SETTING",SET_LIST_VIEW_ORDERING_SETTING:"SET_LIST_VIEW_ORDERING_SETTING",SET_RECENT_LIST_VIEW_ORDERING_SETTING:"SET_RECENT_LIST_VIEW_ORDERING_SETTING",SET_RECENT_LIST_VIEW_FILTER_TYPE:"SET_RECENT_LIST_VIEW_FILTER_TYPE",SET_RECENT_LIST_VIEW_SETTING:"SET_RECENT_LIST_VIEW_SETTING",LOG_ORDER_FIELD_CHANGE:"LOG_ORDER_FIELD_CHANGE"}},221603:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(204328),o=Object.assign({},(0,r.DJ)("STAR_LIST"),{},(0,r.DJ)("ADD_STAR",!1),{},(0,r.DJ)("REMOVE_STAR",!1),{INSERT_TO_STAR_LIST_HEAD:"INSERT_TO_STAR_LIST_HEAD"})},721136:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(204328),o=Object.assign({},(0,r.DJ)("DUSTBIN_CHILDREN"),{},(0,r.DJ)("ROOT_DUSTBIN"),{},(0,r.DJ)("ROOT_DUSTBIN_V2"))},987141:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(204328),o=Object.assign({},(0,r.DJ)("FOLDER_FILE_META"),{},(0,r.DJ)("FOLDER_FILE_META_V2"),{},(0,r.DJ)("EXTERNAL_HINT"),{SET_EXTERNAL_HINT:"SET_EXTERNAL_HINT"})},994386:function(e,t,n){"use strict";n.d(t,{E:function(){return l},$:function(){return T}});var r=n(919264),o=n(804175),i=n(573455),a=n(112064),c=n(822462),u=(n(56509),n(165235)),s=n(129108);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var E=function(e){(0,i.Z)(n,e);var t=_(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){this.props.autoMount&&this.renderComponent()}},{key:"componentDidUpdate",value:function(){this.props.autoMount&&this.renderComponent()}},{key:"componentWillUnmount",value:function(){this.props.autoDestroy&&this.removeContainer()}},{key:"renderComponent",value:function(e,t){var n=this.props,r=n.visible,o=n.getContainer,i=n.getComponent;if(this.component||r){this.container||(this.container=o());var a=i(e),c=this;s.unstable_renderSubtreeIntoContainer(this,a,this.container,(function(){c.component=this,t&&t.call(this)}))}}},{key:"removeContainer",value:function(){if(this.container){var e=this.container;s.unmountComponentAtNode(e),e.parentNode.removeChild(e),this.container=null}}},{key:"render",value:function(){return this.props.children||null}}]),n}(u.PureComponent);E.defaultProps={autoMount:!0,autoDestroy:!0,getContainer:function(){var e=document.createElement("div");return document.body.appendChild(e),e}};var l=E;function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var d=function(e){(0,i.Z)(n,e);var t=f(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"shouldComponentUpdate",value:function(e){return!(!this.props.visible&&!e.visible)}},{key:"render",value:function(){return u.Children.only(this.props.children)}}]),n}(u.Component),T=d},160391:function(e,t,n){"use strict";var r=n(742097),o=n(331495),i=n(143449),a=n(981387),c=n(671914),u=n(806501),s=n(242759),_=n(481382),E=(n(215661),n(682460)),l=n(53781),f=n(88619),d=n(443431),T=n(554266),p=n(746986),S=n(139315),I=n(652629),O=n(957600),R=n(791670),m=n(620698),A=n(420602),C=n(294759),h={},v="",D=N(r.Z.pathname);L(),s.Z.on(S._,(function(){(0,d.h)()}));function N(e){var t=(0,u.rT)(e);return t&&t.module||""}function L(e){var t=(0,c.mB)(r.Z.search);["v","vdx","debug","oversea","side_car","vs","vw","vsh","vb","vbt","vtc"].forEach((function(e){void 0!==t[e]&&(h[e]=t[e])}));var n=function(e){var t="";return Object.keys(h).forEach((function(n,r){!e[n]&&Object.keys(h).length&&h[n]&&(0!==r&&(t+="&"),t+="".concat(n,"=").concat(h[n]))})),t}(t);if(n){var o=r.Z.search?"&":"?";R.ZP.replace(Object.assign({search:"".concat(r.Z.search).concat(o).concat(n),hash:r.Z.hash},e.state?{state:e.state}:{}))}}t.Z=function(){T.o.onRouteWatchStart(),o.ZP.onRouteUpdate(!0),C&&a.cC&&(0,m.D)().then((function(e){e.getInstance().onInitialRouteLoad()})),R.ZP.listen((function(e,t){if(o.ZP.onRouteUpdate(!1),C&&a.cC&&(0,m.D)().then((function(e){e.getInstance().onRouteUpdate()})),T.o.onRouteUpdate(),"PUSH"===t&&(f.Cy.setIsSsd(),f.Cy.setLoadStartTime(),window.isFastSpaceTemplate&&!window.fastSpaceFinished&&(0,i.Ie)()),(0,E.G)(),L(e),r.Z.pathname!==window.teaMap.prePathname){v=D,D=N(r.Z.pathname);var n=(0,c.nT)(r.Z.href,!0).type;C&&a.cC||v===D||!(0,I.V)()&&!(0,I.M)(_.mapFileType2TypeNum[n])||(0,l.Tu)(e.pathname,"",!1);var u=e.state;u&&u.from&&(0,d.vB)(u&&u.from),u&&u.ccm_open_type&&(0,d.Np)(u&&u.ccm_open_type);var s=(0,a.iR)(r.Z.href),S=window.teaMap.preSearch;window.teaMap.preSearch=e.search,(0,O.Hn)(S,e.search)||(0,d.zg)({new_source:s}),function(e){(0,p.setVcShareId)(),(0,d.RT)({from:e}),(0,d.h)(),(0,d.F2)(),(0,d.xf)(),window.teaMap.preHref=r.Z.href,window.teaMap.prePathname=r.Z.pathname,window.teaMap.enterPathTime=Date.now()}(v),A.G.endAll()}}))}},509962:function(e,t,n){"use strict";n.r(t),n.d(t,{getAppNameFromConfig:function(){return f}});var r,o,i,a,c,u=n(913867),s=n(359980),_=null,E="undefined"==typeof window?n.g:window,l=(r={zh:"zh-CN",en:"en-US",ja:"ja-JP",fr:"fr-FR",hi:"hi-IN",id:"id-ID",it:"it-IT",ko:"ko-KR",pt:"pt-BR",ru:"ru-RU",th:"th-TH",vi:"vi-VN",de:"de-DE",es:"es-ES","zh-TW":"zh-TW","zh-HK":"zh-HK"},o=(0,s.default)(E,"User.language"),i=(0,s.default)(E,"navigator.language"),c=(a=o||i||"").split("-")[0],r[a]||r[c]||"en-US");function f(){if(null!==_)return _;var e="Lark";try{var t=E.globalConfig?E.globalConfig.common:E.backupDomain.ext,n="common.".concat((0,s.default)(t,"brand.app_name","").toLowerCase()),r=E.TTI18N[n];r&&(e=r)}catch(e){}return _=function(){var e=E.globalKaConfig;if(e){var t=(0,s.default)(e,"i18n.IDS_LARK_PRODUCT_NAME");return(0,u.Z)(t)?t:""}}()||function(){var e=E.globalKaConfig;if(e){var t=(0,s.default)(e,"i18n.app_name.$base","");return(0,s.default)(e,"i18n.app_name[".concat(l,"]"),t)}}()||function(){if(E.materialConfig)return E.materialConfig.brand_app_name}()||e}},525143:function(e,t,n){"use strict";n.d(t,{R:function(){return o}});var r=n(359980),o=function(){if("pre_release"===(0,r.default)(window,"globalConfig.common.env"))return"Pre_release"}},995442:function(e,t,n){"use strict";n.d(t,{jX:function(){return _},vM:function(){return E},gd:function(){return l},O6:function(){return f},H0:function(){return d},H1:function(){return T},H2:function(){return p},H3:function(){return S},H4:function(){return I},H5:function(){return O},H6:function(){return R},H7:function(){return m},H8:function(){return A},H9:function(){return C},Pl:function(){return h},KW:function(){return v},$5:function(){return D},HJ:function(){return N},d3:function(){return L},gg:function(){return y},oD:function(){return P},tY:function(){return g},Fu:function(){return M},vS:function(){return b},BU:function(){return k},b3:function(){return w},SD:function(){return H},Cs:function(){return U},XC:function(){return F},ib:function(){return Z},Zj:function(){return x},j_:function(){return B},Bg:function(){return W},cV:function(){return G},tu:function(){return K},BV:function(){return V},Mc:function(){return j},EY:function(){return Y},X2:function(){return J},JR:function(){return X},PC:function(){return q},yT:function(){return Q},dK:function(){return z},I3:function(){return $},Dn:function(){return ee},CP:function(){return te},zF:function(){return ne},C1:function(){return re},Qd:function(){return oe},J5:function(){return ie},Vv:function(){return ae},PF:function(){return ce},Pp:function(){return ue},E7:function(){return Ee},Yg:function(){return fe},on:function(){return de}});var r,o=n(774561),i=n(985001),a=n(617047),c=n(439756),u=n(215661),s=(0,n(2106).zj)(),_="GLOBAL_SEARCH",E="CREATE_DOC",l="CREATE_SHEET",f="SHORTCUTS",d="h0",T="h1",p="h2",S="h3",I="h4",O="h5",R="h6",m="h7",A="h8",C="h9",h="bold",v="italic",D="underline",N="strikethrough",L="DO_MERGE_CELL",y="alignleft",P="aligncenter",g="alignright",M="alignfull",b="insertorderedlist",k="insertunorderedlist",w="insertcodelist",H="insertcodeblock",U="blockquote",F="insertcalloutblock",Z="insertseparator",x="link",B="bookmark",W="checkbox",G="insertimage",K="insertImageOrFile",V="undo",j="redo",Y="sheet",J="highlight",X="callouthighlight",q="ppt",Q="alignimageright",z="alignimageleft",$="alignimagecenter",ee="imagefullscreen",te="print",ne="inlinecode",re="doInsertTable",oe=a.i.FIND,ie=a.i.REPLACE,ae="jira_issue",ce="templateabstract",ue=(r={},(0,o.Z)(r,_,{mac:{metaKey:!0,shiftKey:!0,keyCode:70},windows:{ctrlKey:!0,shiftKey:!0,keyCode:70}}),(0,o.Z)(r,l,{mac:{metaKey:!0,altKey:!0,shiftKey:!0,keyCode:78},windows:{altKey:!0,shiftKey:!0,ctrlKey:!0,keyCode:78}}),(0,o.Z)(r,E,{mac:{metaKey:!0,altKey:!0,code:"KeyN"},windows:{altKey:!0,ctrlKey:!0,keyCode:78}}),(0,o.Z)(r,f,{mac:{metaKey:!0,keyCode:191},windows:{ctrlKey:!0,keyCode:191}}),(0,o.Z)(r,J,{windows:{keyCode:72,ctrlKey:!0,altKey:!0},mac:{keyCode:72,metaKey:!0,altKey:!0}}),(0,o.Z)(r,d,{mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:48},mac:{altKey:!0,metaKey:!0,keyCode:48}}),(0,o.Z)(r,T,{mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:49},mac:{altKey:!0,metaKey:!0,keyCode:49}}),(0,o.Z)(r,p,{mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:50},mac:{altKey:!0,metaKey:!0,keyCode:50}}),(0,o.Z)(r,S,{mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:51},mac:{altKey:!0,metaKey:!0,keyCode:51}}),(0,o.Z)(r,I,{mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:52},mac:{altKey:!0,metaKey:!0,keyCode:52}}),(0,o.Z)(r,O,{mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:53},mac:{altKey:!0,metaKey:!0,keyCode:53}}),(0,o.Z)(r,R,{mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:54},mac:{altKey:!0,metaKey:!0,keyCode:54}}),(0,o.Z)(r,m,{mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:55},mac:{altKey:!0,metaKey:!0,keyCode:55}}),(0,o.Z)(r,A,{mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:56},mac:{altKey:!0,metaKey:!0,keyCode:56}}),(0,o.Z)(r,C,{mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:57},mac:{altKey:!0,metaKey:!0,keyCode:57}}),(0,o.Z)(r,"heading",{titleEnable:!1}),(0,o.Z)(r,h,{windows:{key:"b",ctrlKey:!0},mac:{metaKey:!0,key:"b"}}),(0,o.Z)(r,v,{windows:{key:"i",ctrlKey:!0},mac:{key:"i",metaKey:!0}}),(0,o.Z)(r,D,{windows:{key:"u",ctrlKey:!0,shiftKey:!1},mac:{key:"u",metaKey:!0,shiftKey:!1}}),(0,o.Z)(r,N,{windows:{key:"x",ctrlKey:!0,shiftKey:!0},mac:{key:"x",metaKey:!0,shiftKey:!0}}),(0,o.Z)(r,L,{imageEnable:!1,titleEnable:!1,mentionEnable:!1}),(0,o.Z)(r,y,{imageEnable:!0,titleEnable:!0,mentionEnable:!0,windows:{key:"l",ctrlKey:!0,shiftKey:!0},mac:{key:"l",metaKey:!0,shiftKey:!0}}),(0,o.Z)(r,P,{imageEnable:!0,titleEnable:!0,mentionEnable:!0,windows:{key:"e",ctrlKey:!0,shiftKey:!0},mac:{key:"e",metaKey:!0,shiftKey:!0}}),(0,o.Z)(r,g,{imageEnable:!0,titleEnable:!0,mentionEnable:!0,windows:{key:"r",ctrlKey:!0,shiftKey:!0},mac:{key:"r",metaKey:!0,shiftKey:!0}}),(0,o.Z)(r,M,{listEnable:!1,windows:{ctrlKey:!0,which:"f",shiftKey:!0},mac:{metaKey:!0,which:"f",shiftKey:!0}}),(0,o.Z)(r,b,[{imageEnable:!1,windows:{key:"7",ctrlKey:!0,shiftKey:!0},mac:{key:"7",metaKey:!0,shiftKey:!0}},{imageEnable:!1,windows:{key:"&",ctrlKey:!0,shiftKey:!0},mac:{key:"&",metaKey:!0,shiftKey:!0}}]),(0,o.Z)(r,k,[{imageEnable:!1,windows:{key:"8",ctrlKey:!0,shiftKey:!0},mac:{key:"8",metaKey:!0,shiftKey:!0}},{imageEnable:!1,windows:{key:"*",ctrlKey:!0,shiftKey:!0},mac:{key:"*",metaKey:!0,shiftKey:!0}}]),(0,o.Z)(r,F,{titleEnable:!1}),(0,o.Z)(r,s?H:w,{imageEnable:!1,windows:{altKey:!0,ctrlKey:!0,which:"c"},mac:{metaKey:!0,altKey:!0,which:"c"}}),(0,o.Z)(r,U,{windows:{keyCode:190,shiftKey:!0,ctrlKey:!0,altKey:!1},mac:{keyCode:190,shiftKey:!0,metaKey:!0,altKey:!1}}),(0,o.Z)(r,Z,{windows:{ctrlKey:!0,which:"s",altKey:!0},mac:{metaKey:!0,which:"s",altKey:!0}}),(0,o.Z)(r,x,{titleEnable:!0,windows:{ctrlKey:!0,key:"k"},mac:{metaKey:!0,key:"k"}}),(0,o.Z)(r,ae,{titleEnable:!1}),(0,o.Z)(r,W,{imageEnable:!1,windows:{ctrlKey:!0,which:"t",altKey:!0},mac:{metaKey:!0,which:"t",altKey:!0}}),(0,o.Z)(r,G,{listEnable:!1,windows:{ctrlKey:!0,which:"u",shiftKey:!0},mac:{metaKey:!0,which:"u",shiftKey:!0}}),(0,o.Z)(r,ee,{listEnable:!1,windows:{ctrlKey:!0,which:"f",shiftKey:!0},mac:{metaKey:!0,which:"f",shiftKey:!0}}),(0,o.Z)(r,V,{titleEnable:!0,mentionEnable:!0,driveEnable:!0,windows:{ctrlKey:!0,which:"z"},mac:{metaKey:!0,which:"z"}}),(0,o.Z)(r,j,[{titleEnable:!0,mentionEnable:!0,driveEnable:!0,windows:{ctrlKey:!0,which:"z",shiftKey:!0},mac:{metaKey:!0,which:"z",shiftKey:!0}},{titleEnable:!0,driveEnable:!0,windows:{ctrlKey:!0,which:"y"},mac:{metaKey:!0,which:"y"}}]),(0,o.Z)(r,Y,{windows:{},mac:{},imageEnable:!1}),(0,o.Z)(r,q,{windows:{keyCode:116},mac:{metaKey:!0,shiftKey:!0,keyCode:80}}),(0,o.Z)(r,te,{windows:{ctrlKey:!0,shiftKey:!1,which:"p"},mac:{metaKey:!0,shiftKey:!1,which:"p"}}),(0,o.Z)(r,ne,{windows:{ctrlKey:!0,which:"c",shiftKey:!0},mac:{ctrlKey:!0,which:"c",metaKey:!0}}),(0,o.Z)(r,re,{windows:{altKey:!0,ctrlKey:!0,keyCode:c.VD.A},mac:{metaKey:!0,altKey:!0,keyCode:c.VD.A}}),(0,o.Z)(r,oe,{windows:{altKey:!1,ctrlKey:!0,shiftKey:!1,keyCode:c.VD.F},mac:{altKey:!1,metaKey:!0,ctrlKey:!1,shiftKey:!1,keyCode:c.VD.F}}),(0,o.Z)(r,ie,{windows:{ctrlKey:!0,keyCode:c.VD.H},mac:{metaKey:!0,shiftKey:!0,keyCode:c.VD.H}}),(0,o.Z)(r,"LARK_LST_UNREAD",{windows:{ctrlKey:!0,shiftKey:!0,keyCode:c.VD.Up},mac:{metaKey:!0,shiftKey:!0,keyCode:c.VD.Up}}),(0,o.Z)(r,"LARK_NXT_UNREAD",{windows:{ctrlKey:!0,shiftKey:!0,keyCode:c.VD.Down},mac:{metaKey:!0,shiftKey:!0,keyCode:c.VD.Down}}),(0,o.Z)(r,"LARK_DONE",{windows:{ctrlKey:!0,keyCode:c.VD.D},mac:{metaKey:!0,keyCode:c.VD.D}}),(0,o.Z)(r,"LARK_ANNOUNCE_ESC",{windows:{keyCode:c.VD.Esc},mac:{keyCode:c.VD.Esc}}),r),se=String(!!navigator&&navigator.platform),_e=/Mac|iPad/i.test(se);function Ee(e,t,n){var r=_e?"mac":"windows",o=n||ue[t];return(0,i.Z)(o)?o.some((function(t){return le(t[r],e)})):le(o[r],e)}function le(e,t){if(!e)return!1;for(var n=Object.keys(e),r=0,o=n;r<o.length;r++){var i=o[r],a=t[i];if("which"===i&&a?a=String.fromCharCode(a).toLowerCase():"key"===i&&(a=a&&a.toLowerCase()),e[i]!==a)return!1}return n.length>0}function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue;for(var n in t)if(Ee(e,n,t[n]))return n;return""}var de=function(){return u.Z.isMac?"⌘":"Ctrl"}},53781:function(e,t,n){"use strict";n.d(t,{C9:function(){return p},nG:function(){return S},yC:function(){return I},Tu:function(){return O},cb:function(){return f.c},b2:function(){return f.b},EI:function(){return m}});var r=n(922081),o=n(742097),i=n(700789),a=n(782293),c=n(215661),u=n(443431),s=n(671914),_=n(360851),E=n(791670),l=n(366),f=n(799012),d=n(294759);function T(e){return d&&_.ZG&&!/^https?:\/\//.test(e)?"".concat(o.Z.origin).concat(e):e}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e)try{var n,o=/^https?:\/\//.test(e);if(o)n=(0,s.j4)(e,"from",t);else{var i=e.split("?"),a=(0,r.Z)(i,2),c=a[0],u=a[1],_=new URLSearchParams(u);_.set("from",t),n=T("".concat(c,"?").concat(_.toString()))}window.open(n)}catch(t){window.open(e)}}function S(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!c.Z.isLark&&t)(0,a.C)(e);else if((0,l.Nv)()||n)o.Z.href=e;else if(r){var i=(0,u.b$)();E.ZP.push({pathname:e,state:{from:i}})}else E.ZP.push(e)}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=["v","vdx","oversea","side_car","vs","vw","vsh","vb","vbt","vtc"],r=o.Z.search,a=new URLSearchParams(r),c=new URLSearchParams;n.forEach((function(e){null!==a.get(e)&&c.set(e,a.get(e))})),t&&c.set("from",t);var u=Array.from(c.keys()).reduce((function(e,t){return e[t]=c.get(t),e}),{}),s=(0,i.aA)(e,u);return s}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var r=I(e,t);(0,a.C)(T(r),n?"_blank":"_self")}catch(t){(0,a.C)(T(e),"_blank")}}var R="docs-open-link-iframe";function m(e){var t=document.querySelector("iframe#".concat(R));return t||((t=document.createElement("iframe")).id=R,t.style.display="none",document.body.appendChild(t)),t.src=e,t}},537058:function(e,t,n){"use strict";n.d(t,{Qx:function(){return p},e6:function(){return S},gu:function(){return I},kH:function(){return O},ud:function(){return R},ME:function(){return N},fX:function(){return y},gY:function(){return P},w5:function(){return g},g$:function(){return M},D3:function(){return b}});var r=n(26278),o=n(298652),i=n(922081),a=n(347253),c=n(614795),u=n(481382),s=n(581034),_=n(746986),E=n(941985),l=n(374614),f=n(391360),d=n(15458),T=["token","version","type","count"],p=function(e,t){var n=u.mapFileType2TypeNum[e.toLowerCase()];return"".concat(n,":").concat(t)},S=function(e,t){return(0,f.ad)(E.ZP.getState())[p(e,t)]||[]},I=function(e,t){var n=t.type,r=t.token,o=t.members;e[p(n,r)]=o},O=function(e,t){var n=t.type,r=t.token;delete e[p(n,r)]},R=function(e,t){var n=t.token,r=t.members;E.ZP.dispatch((0,l.Vf)({type:e,token:n,members:r||[]}))};function m(e,t){return"".concat(e,"#").concat(t)}function A(e){var t=e.split("#"),n=(0,i.Z)(t,2);return{type:n[0],token:n[1]}}var C=new Map,h=new Map;function v(e){C.has(e)||C.set(e,new Map),h.has(e)||h.set(e,new Set)}var D=(0,a.default)((function(e,t){C.forEach((function(n,r){var i=A(r),a=i.type,c=i.token;0!==n.size&&c===t&&E.ZP.dispatch((0,l.Cy)({type:a,token:c,count:e,memberInfoList:(0,o.Z)(n.values())}))})),C.clear()}),500),N=function(e,t){var n=t.token,o=(t.version,t.type,t.count),i=(0,r.Z)(t,T),a=m(e,n);v(a);var c=C.get(a),u=h.get(a);c.set(i.member_id,i),u.delete(i.member_id),D(o,n)},L=(0,a.default)((function(e,t){h.forEach((function(n,r){var i=A(r),a=i.type,c=i.token;0!==n.size&&c===t&&E.ZP.dispatch((0,l.KE)({type:a,token:c,count:e,memberIds:(0,o.Z)(n)}))})),h.clear()}),500),y=function(e,t){var n=t.token,r=t.users_count,o=t.member_id;if(o){o=[].concat(o);var i=m(e,n);v(i);var a=h.get(i),c=C.get(i);o.forEach((function(e){a.add(e),c.delete(e)})),L(r,n)}},P=function(e,t){E.ZP.dispatch((0,l.WO)({type:e,token:t}))},g=function(e,t){var n=t.token,r=t.members,o=t.count;r&&E.ZP.dispatch((0,l.WO)({type:e,token:n,members:r,count:o}))},M=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!E.ZP)return"";if(!n)return"";var o=E.ZP.getState(),i=o.appState;if(!i)return r;var a=i.members;if(!a)return r;var c=a[p(t,n)];if(!c)return r;var u=c.find((function(t){return(t.suid||t.user_id)===e}));if(!u)return r;if(u.i18n_names){var _=(0,s.G3)(),l=(0,s.Sy)((0,s.Zj)(_));if(l&&u.i18n_names[l])return u.i18n_names[l]}var f=u.user_name||u.cn_name||r;return s.um.zh?u.cn_name||f:u.en_name||f};function b(e,t,n){return d.WY.get("".concat(c.GET_COLL_MEMBERS,"?member_id=").concat(e,"&token=").concat(t,"&obj_type=").concat(n)).catch((function(e){throw(0,_.default)("reFetchRoomMembers error"),console.error(e),e}))}},139159:function(e,t,n){"use strict";n.d(t,{B:function(){return c}});var r=n(359980),o=n(746986),i=n(284113),a=!0;function c(e){var t=e.exception,n=e.message;if(t&&t.values)t.values.forEach((function(e){var t=(0,r.default)(e,"stacktrace.frames",[]);(0,o.collectSuiteEvent)("client_raven_error",{client_error_type:e.type,client_error_value:e.value,is_prod:(0,i.kf)(),branch:(0,r.default)(window,"scm.branch","unknown"),chunk:u(t)})}));else if(n){if(/^QuotaExceededError/.test(n)){if(!a)return;a=!1,setTimeout((function(){a=!0}),18e5)}(0,o.collectSuiteEvent)("client_raven_error",{client_error_msg:n})}}function u(e){var t=e.some((function(e){var t=(0,r.default)(e,"filename","").toLowerCase();return t.includes("wiki")&&!t.includes("wiki_relation")}));return e.some((function(e){return(0,r.default)(e,"filename","").toLowerCase().includes("3rd")}))?"wikiDep":t?"wiki":"other"}},443431:function(e,t,n){"use strict";n.d(t,{F2:function(){return y},xf:function(){return g},FS:function(){return b},zg:function(){return H},jP:function(){return Z},Lm:function(){return x},RT:function(){return B},DB:function(){return W},nA:function(){return G},Wt:function(){return K},h:function(){return V},Hg:function(){return j},$t:function(){return Y},F1:function(){return J},vB:function(){return Q},Np:function(){return $},b$:function(){return ee},Bu:function(){return te},kp:function(){return ne}});var r=n(367017),o=n.n(r),i=n(335067),a=n(359980),c=n(742097),u=n(670025),s=n(746986),_=n(806501),E=n(605826),l=(n(671914),n(339956)),f=n(374179),d=n(613066),T=n(700789),p=n(978083),S=n(44226),I=n(44014),O=n(215661),R=n(74709),m=n(747243),A=n(605669),C=n(21450),h=n(481382),v=n(796960),D=n(791670);function N(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){return P.apply(this,arguments)}function P(){return P=(0,i.Z)(o().mark((function e(t){var n,r,i,a,c,u,E,l,f,d=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]&&d[1],window.teaMap){e.next=3;break}return e.abrupt("return");case 3:if(r=Number(new Date),i=window.teaMap,a=i.preDuration,c=i.launchWeb,u=r-(a||c),window.teaMap.preDuration=r,window.teaMap.hasFocus){e.next=11;break}return window.teaMap.hasFocus=!0,e.abrupt("return");case 11:if((0,p.Gg)()){e.next=13;break}return e.abrupt("return");case 13:if("false"!==(t||document.hasFocus().toString())){e.next=16;break}return e.abrupt("return");case 16:E=(0,_.rT)(window.teaMap.preHref),l=E.module,f=l===S.routeModule.DRIVE?X():null,(0,s.default)("launch_duration",Object.assign({session_duration:Math.floor(u/1e3),preDuration:a,launchTime:c,isUnload:n.toString(),module:l,in_page:t||document.hasFocus().toString(),__disable_storage__:1},f));case 19:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}function g(e){return M.apply(this,arguments)}function M(){return M=(0,i.Z)(o().mark((function e(t){var n,r,i,a,c,u,E,l,f,d=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]&&d[1],window.teaMap){e.next=3;break}return e.abrupt("return");case 3:if(r=Number(new Date),i=window.teaMap,a=i.newPreDuration,c=i.launchWeb,u=r-(a||c),window.teaMap.newPreDuration=r,window.teaMap.hasFocus){e.next=11;break}return window.teaMap.hasFocus=!0,e.abrupt("return");case 11:if((0,p.Gg)()){e.next=13;break}return e.abrupt("return");case 13:if("false"!==(t||document.hasFocus().toString())){e.next=16;break}return e.abrupt("return");case 16:E=(0,_.rT)(window.teaMap.preHref),l=E.module,f=l===S.routeModule.DRIVE?X():null,(0,s.default)("ccm_launch_duration_heartbeat",Object.assign({session_duration:Math.floor(u/1e3),preDuration:a,launchTime:c,isUnload:n.toString(),module:l,in_page:t||document.hasFocus().toString(),__disable_storage__:1},f));case 19:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}function b(){var e;window.teaMap.launchWeb=Number(new Date),window.teaMap.hasFocus=!0,window.addEventListener("beforeunload",(function(){y(void 0,!0),g(void 0,!0)}));var t,n=function(){var t=(new Date).getTime();(!e||t-e>50)&&(y((!document.hasFocus()).toString()),g((!document.hasFocus()).toString()),window.teaMap.hasFocus=!1),e=t};document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&n()})),window.addEventListener("focus",(function(){y((!document.hasFocus()).toString()),g((!document.hasFocus()).toString()),window.teaMap.hasFocus=!0})),window.addEventListener("blur",(function(){n()})),t=document.querySelector("html"),new MutationObserver((function(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;)t.value.target.className.match("translated-")&&(0,s.default)("click_page_translate",{action:"browser_translate"})}catch(e){n.e(e)}finally{n.f()}})).observe(t,{attributes:!0})}function k(e){return!e.file_tenant_id||!e.file_id}function w(){var e={referrer:"",referrer_file_type:"",referrer_file_id:""};try{var t=document.referrer;if(0===t.length)return e;var n=(0,l.LP)(t);return 0===n.length?Object.assign({},e,{referrer:t}):{referrer:t.replace(n,"*".repeat(n.length)),referrer_file_type:(0,l.pv)(t),referrer_file_id:(0,d.p)(n)}}catch(t){return e}}function H(){return U.apply(this,arguments)}function U(){return U=(0,i.Z)(o().mark((function e(){var t,n,r,i,u,l,T,O,R,m=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=m.length>0&&void 0!==m[0]?m[0]:{},"doc"!==(n=(0,_.rT)().module)&&"sheet"!==n&&"bitable"!==n&&"slide"!==n&&"mindnote"!==n&&n!==S.routeModule.DRIVE&&"wiki"!==n&&"workspace"!==n){e.next=30;break}if(r=(0,E.W)(),i=(0,I.getSrcModuleParams)(),(0,I.getCurrentRouteObj)().path!==S.PATH.WIKI_SPACE_OVERVIEW){e.next=8;break}return e.abrupt("return");case 8:if(!k(r)){e.next=14;break}return e.next=11,(0,f._v)(2e3);case 11:r=(0,E.W)(),e.next=8;break;case 14:if(n!==S.routeModule.DRIVE){e.next=24;break}return e.next=17,(0,f._v)(0);case 17:t=X();case 18:if(t){e.next=24;break}return e.next=21,(0,f._v)(1e3);case 21:t=X(),e.next=18;break;case 24:u={},"mindnote"===n&&(u.mode=-1!==(c.Z.hash||"").indexOf("mindmap")?"mindmap":"outline"),l={},T=window.store.getState(),"wiki"===n?(O=(0,A.G7)(T),l={wiki_space_id:(0,d.p)((0,a.default)(O,"spaceId")),wiki_area_id:(0,d.p)((0,a.default)(O,"areaId")),module:"wiki"}):"workspace"===n&&(R=(0,C.ww)(T),l={wiki_space_id:(0,d.p)((0,a.default)(R,"spaceId")),module:"workspace"}),(0,s.default)("client_file_open",Object.assign({network_status:(0,p.Gg)()?p.ku:p.cz},t,{},u,{},i,{},l),!0);case 30:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}var F=function(e){var t=(0,T.mB)(e),n=t.from||"",r=/^(?:([A-Za-z]+):)(?:\/\/([.\-\w]+))(?::(\d+))?(?:\/([^?#/]*))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/;if(n=decodeURIComponent(n),r.test(n)){var o=r.exec(n);n=o[2]+(o[3]?":".concat(o[3]):"")+(o[4]?"/".concat(o[4]):"")}return{launchSource:n,isReminder:!!t.reminder_id}};function Z(e){var t={launchSource:"",isReminder:!1};try{if(t=F(e),function(e){var t=[v.B.OPEN_TEMPLATE_CENTER,v.B.TEMPLATE_SOURCE],n=(0,T.mB)(e);return n.from&&t.some((function(e){return Boolean(n[e])}))}(e))return;var n=u.exclude(e,["hash","source_type","from",v.B.CCM_OPEN_TYPE,v.B.ARTICLE_ID,v.B.ENTITY_ID,v.B.FROM_SHARE_WITH_ME_NEW]);if(n===e)return;var r=new URLSearchParams((0,T.mB)(n)).toString(),o=c.Z.pathname+(r?"?".concat(r):"")+c.Z.hash;D.ZP.replace(o)}catch(e){console.log(e)}(0,s.default)("client_enter_docs",{source:t.launchSource,is_reminder:t.isReminder})}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.source;("url"!==t||(0,I.isUnderWikiHome)())&&(0,s.default)("client_enter_wiki",{source:t||(0,_.rT)().module})}function B(e){var t,n,r=e.platform,o=e.from,i=void 0===o?"":o,a=(0,I.getCurrentRouteObj)();((0,s.default)("launch_web",Object.assign({action:"launch_web",source:r,from:i,path:a&&a.path,cookieLength:(0,R.Nx)(),localStorageLength:(0,R.LT)(),template_log_id:"url"===i?null===(t=window.templateRequestInfo)||void 0===t?void 0:t.logId:void 0},w())),window.htmlCollectEvent)&&window.htmlCollectEvent("launch_web_extra",Object.assign({action:"launch_web",source:r,from:i,path:a&&a.path,cookieLength:(0,R.Nx)(),localStorageLength:(0,R.LT)(),template_log_id:"url"===i?null===(n=window.templateRequestInfo)||void 0===n?void 0:n.logId:void 0},w()))}function W(e){(0,s.default)("dev_load_lang_cdn",{source:e,first_load_cdn_error:!0===window.usingBackupLangCDN||!0===window.failedToLoadLangCDN?1:0,load_backup_cdn_error:!0===window.failedToLoadLangCDN?1:0,i18n_platform:"starling"})}function G(e){if(e)return"0"!==e.zoneId?"table":"default";var t=window.editor;if(!t)return"default";var n=t.getRep();return n&&"0"!==n.zoneId?"table":"default"}function K(e){window.teaMap.ownerId=e.owner_id,window.teaMap.createTime=e.create_time}function V(){window.teaMap.ownerId=void 0,window.teaMap.createTime=void 0}function j(e){switch(e.toString()){case"0":return"user";case"1":return"file";case"2":return"folder";case"3":return"sheet";case"4":return"sheet_doc";case"5":return"chat";case"6":return"group";case"7":return"block";case"8":return"bitable";case"11":return"mindnote";case"16":return"wiki";default:return""}}function Y(e){switch(e.toString()){case"0":return"user";case"1":case"3":case"8":case"11":case"15":return"link_file";case"2":return"folder";case"4":return"sheet_doc";case"5":return"chat";case"6":return"group";case"7":return"epoll";case"12":return"drive";case"SHEET":return"sheet";case"TABLE":return"table";case"16":return"wiki";case"BITABLE":case"17":case"18":return"bitable";default:return""}}var J=function(e){(0,s.collectSuiteEvent)("show_style_toolbar",{source:e})};function X(){var e=(0,E.f)();if(!e)return null;if(0===Object.keys(e).length)return{product_type:"drive",file_type:"file",sub_file_type:"",mode:"preview"};var t=e.type;return{product_type:"drive",file_type:"file",sub_file_type:t||"",mode:O.Z.isInVC&&["pptx","ppt","pps","ppsx","pot"].includes(t)?"presentation":"preview"}}var q="";function Q(e){try{var t=window.location.href,n=(0,l.ci)(t);if(n===q)return;q=n,e||(e=F(t).launchSource||""),(0,s.setDefaultSource)(e)}catch(e){console.log(e)}}var z="";function $(e){try{var t=window.location.href,n=(0,l.ci)(t);if(n===z)return;z=n,e||(e=F(t).launchSource||""),(0,s.setDefaultOpenSource)(e)}catch(e){console.log(e)}}function ee(){return(0,I.isUnderHomeRoute)()?h.FILE_SOURCE.SPACE_HOME_CREATE:(0,I.isUnderMeRoute)()?h.FILE_SOURCE.SPACE_PERSNOAL_CREATE:(0,I.isUnderShareFolderHomeRoute)()?h.FILE_SOURCE.SPACE_SHARED_CREATE:(0,I.isUnderSuiteView)()?h.FILE_SOURCE.DETAIL_CREATE:""}var te=function(){var e={container_type:"none",container_id:""};try{if(!window.store)return e;var t=(0,_.rT)().module;if("wiki"===t||"workspace"===t){var n=window.store.getState();return{container_type:"wiki",container_id:(0,m.Cy)(n)?(0,d.p)((0,a.default)((0,C.ww)(n),"spaceId")):(0,d.p)((0,a.default)((0,A.G7)(n),"spaceId"))}}return(0,I.isUnderSuiteView)()?{container_type:"folder",container_id:(0,d.p)((0,l.LP)())}:e}catch(t){return console.error("get container params error",t),e}},ne=function(){var e,t=(0,I.getCurrentRouteObj)();try{e=JSON.stringify(window.bearGarr)}catch(t){e=""}(0,s.default)("access_new_devops_dev",{docxAccessNewDevops:(0,a.default)(window,"bearGarr.docx.branchVersion")?"false":"true",path:t&&t.path,extraData:e,docxVersion:(0,a.default)(window,"bearGarr.docx.version"),docxStage:(0,a.default)(window,"bearGarr.docx.stage"),docxEnv:(0,a.default)(window,"bearGarr.docx.env")})}},859878:function(e,t,n){"use strict";n.d(t,{mu:function(){return r},Bt:function(){return i}});function r(e){return function(e){if(!e)return"";return new Date(e).toJSON().split("T")[0].split("-").join("")}(1e3*e)}function o(e){if(e=parseInt(e,10),!Number.isNaN(e))return e*Math.pow(10,Math.abs("".concat(e).length-13));console.error("time must be a number, but received: ".concat(e))}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();return(e=o(e))>t?t-1e3:e}},229915:function(e,t,n){"use strict";n.d(t,{jN:function(){return T},y:function(){return p},Dk:function(){return S},YQ:function(){return I},rY:function(){return O}});var r=n(559294),o=n(284113),i=n(533613),a=n(481382),c=n(812083),u=n(509962),s=n(180135),_=n(215661),E=n(581034),l=n(235724),f=n(60618),d=(0,r.Z)(c.STATUS_CODE);function T(){return(0,l.isSingleProduct)()?f("common.docs_with_brand"):(0,o.KH)()?f("common.brand_name"):f("common.brand_name_internal")}function p(e){var t=(0,u.getAppNameFromConfig)();return e.replace(/\{\{APP_DISPLAY_NAME\}\}/g,t)}function S(e){if(_.Z.isLarkWindow)document.title="";else{var t=(0,s.jj)()||((0,i.Fl)()?(0,i.zI)((0,o.KH)(),(0,E.Kd)()):T()),n=t?" - ":"";document.title=p(e?"".concat(e).concat(n).concat(t):t)}}function I(e){var t,n=e.payload,r=n.delete_flag,o=n.title,i=n.type;return e.error&&(t=e.error.code),!d.includes(t)&&t>=400?f("request.server_error"):1===r||t===c.STATUS_CODE.NOTE_DELETED||t===c.STATUS_CODE.OBJCT_DELETED?a.SuiteTitle.deleted:t===c.STATUS_CODE.FORBIDDEN?a.SuiteTitle.forbidden:t===c.STATUS_CODE.NOT_FOUND||t===c.STATUS_CODE.INVALID_PARAMETERS?a.SuiteTitle.notFound:t===c.STATUS_CODE.FAILED?a.SuiteTitle.serverError:t===c.STATUS_CODE.TIMEOUT?a.SuiteTitle.timeout:!o&&i?O(i):o}function O(e){return a.suiteType2UnnamedTitle[e]||""}},230708:function(e,t,n){"use strict";n.d(t,{j:function(){return _},L:function(){return E}});var r=n(359980),o=n(613066),i=n(443431),a=n(605826),c=n(806501);function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _={module:function(){return(0,c.rT)().module},sub_module:function(){return(0,c.rT)().sub_module},src_module:function(){return(0,c.rT)().src_module},src_sub_module:function(){return(0,c.rT)().src_sub_module},file_id:c.g9,file_type:c.JB,page_token:c.BH,page_type:c.C2,loc_file_id:c.g9,loc_file_type:c.JB,owner_id:c.nT,is_owner:c.Gm,user_type:c.Ng,create_time:(0,c.zg)("createTime"),create_date:c.lZ,from_create_date:c.Jx,session_id:(0,c.zg)("sessionId"),member_id:(0,c.zg)("memberId"),file_tenant_id:function(){return(0,o.p)((0,a.W)().file_tenant_id)},file_is_cross_tenant:function(){return(0,a.W)().file_is_cross_tenant},path:c.DW,product:c.rC,user_permission:c.WO,file_permission:c.HL,user_permission_folder:c.Cf,folder_permission:c.Wo,container_type:function(){return(0,i.Bu)().container_type},container_id:function(){return(0,i.Bu)().container_id}};function E(e){var t,n={},o=u(e);try{for(o.s();!(t=o.n()).done;){var i=t.value,a=void 0;switch(i){case"navigation_start_to_now":a=Date.now()-window.performance.timing.navigationStart;break;case"open_current_path_to_now":var s=(0,r.default)(window,["teaMap","enterPathTime"]);s&&(a=Date.now()-s);break;case"jsHeapSizeLimit":case"totalJSHeapSize":case"usedJSHeapSize":window.performance.memory&&(a=window.performance.memory[i]);break;case"chat_id":var E=(0,c.tN)();E&&(a=E);break;case"is_pre_env":a=(0,r.default)(window,["teaMap","isPreEnv"])?1:0;break;default:a=_[i]&&_[i]()}void 0!==a&&(n[i]=a)}}catch(e){o.e(e)}finally{o.f()}return n}},746986:function(e,t,n){"use strict";n.r(t),n.d(t,{ccmEventTracking:function(){return ce},collectCommentLog:function(){return _e},collectCommentSubmitEventError:function(){return Ee},collectCommentSubmitEventSuccess:function(){return se},collectSuiteEvent:function(){return ae},collector:function(){return H},createNewSessionId:function(){return M.d},default:function(){return le},getSuiteEventByBlockType:function(){return ue},getTeaCommonParams:function(){return $},processTokenInString:function(){return te},setDefaultOpenSource:function(){return F},setDefaultSource:function(){return U},setVcActionUniqueId:function(){return W},setVcShareId:function(){return B},shouldSendTea:function(){return K}});var r=n(359980),o=n(139315),i=n(742097),a=n(613066),c=n(242759),u=n(44014),s=n(126368),_=n(189735),E=n(346530),l=n(941985),f=n(885463);function d(){(0,u.isUnderSuiteView)()&&s.Z.batchMark(["file_tenant_id"],(function(){var e=function(){var e,t="",n="";if(l.ZP){var r=l.ZP.getState(),o=(0,E.z)(i.Z.pathname),a=o&&(0,_.tU)(o),c=(0,f.M)(r);a&&(t=a.get("owner_id"),e=a.get("create_time"),n=c.getIn([t,"tenant_id"],""))}return{createTime:e,fileTenantId:n,ownerId:t}}(),t=e.fileTenantId;return{file_tenant_id:t?(0,a.p)(t):""}}))}c.Z.on&&c.Z.on(o._,d),d();var T=n(399643),p=n(70649),S=n(422142),I=n(991541),O=n(581034),R=n(98001),m=n(443431),A=n(671914),C=n(77112),h=n(17649),v=n(982131),D=n(487828),N=n(422399),L=n(806501),y=n(235724),P=n(284113),g=n(360851),M=n(697486),b=(0,A.Mo)().localhost,k=(0,g.dq)("ccm_gpe_dev_settings"),w=k&&k.check_tea_params,H={init:function(e){if(!(0,R.Z)()){window.teaMap={},window.teaMap.sessionId=s.Z.params.get("session_id"),window.teaMap.preHref=i.Z.href,window.teaMap.prePathname=i.Z.pathname,window.teaMap.enterPathTime=Date.now(),window.teaMap.isPreEnv=(0,P.op)(),window.teaMap.articleId=(0,A.mB)(location.href).article_id||"",window.teaMap.entityId=(0,A.mB)(location.href).entity_id||"";var t=(0,C.Yy)("tea");if(t.open){var n=(0,L.HS)(),o=Z(),a=o.darkMode,c=o.contentDarkMode,u=window.User&&window.User.settingsConfig&&window.User.settingsConfig.ccm_platform_tea_config||{},_={user_unique_id:e.userId,app_name:(0,y.isSingleProduct)()?"feishu_docs":"docs",app_version:T.default.isLark?(0,L.iY)():(0,v.ws)((0,L.Sf)()),browser_version:e.browserVersion,os_name:(0,L.Zj)()||"default",device_model:(0,L.Pd)(e.osName||"default"),os_version:e.osVersion,"custom.platform":(0,L.V)(),"custom.sub_platform":(0,L.u$)(),"custom.app_form":(0,L.zl)(),"custom.browser":e.browser,"custom.browser_version":e.browserVersion,"custom.browser_kernel":e.browserKernel,"custom.user_type":(0,L.Ng)(),"custom.product":(0,L.rC)(),"custom.vc_meeting_id":(0,L.pB)(),"custom.vc_action_unique_id":(0,L.yd)(),"custom.share_id":(0,L.Yn)(),"custom.source":(0,L.b5)(),"custom.open_source":"none","custom.app_id":"none","custom.cdn_host":navigator.cdn_host,"custom.tenant_id":e.tenantId||"none","custom.refer_url":(0,L.CJ)()||"none","custom.refer_one_id":n.refer_one_id||"none","custom.user_agent":navigator.userAgent,"custom.is_login":(0,y.getIsAnonymousAccess)()?"false":"true","custom.lark_user_id":e.userId,"custom.app_full_version":T.default.isLark?(0,L.iY)():(0,v.ws)((0,L.Sf)()),"custom.is_mpa_entry":e.is_from_mpa||"false","custom.is_check_group":(0,g.CX)()?"true":"false","custom.dark_mode":a,"custom.content_dark_mode":c,"custom.user_unit":u.user_unit||"","custom.service_unit":u.service_unit||"",app_language:(0,O.G3)(),ab_version:(0,I.zE)(),tenant_id:e.tenantId||"none",department_id:e.departmentId||"none",web_version_date:(0,L.oR)("date"),web_version_timestamp:(0,L.oR)("timestamp"),web_version:(0,r.default)(window,"scm.version",""),gray_scale:(0,r.default)(window,"scm.branch",""),disable_auto_pv:!0,referrer:""},E=(0,A.mB)(i.Z.search).teaTool;h.u.init((0,v.yU)(),{initParams:{app_id:e.appId,channel_domain:t.config.channel_domain,max_storage_num:2e3,disable_session:!0,disable_sdk_monitor:!0,max_failed_storage:2e3,user_unique_id:e.userId,log:!1,use_tea_adapter:!1,_staging_flag:e.debug?1:0,report_interval:E?5e3:3e4,max_report_event:E?5:30,enable_ab_test:!1},configParams:_}),(0,p.onUIStateChange)(x),this.config=_,window.teaMap.userId=e.userId,document.addEventListener("visibilitychange",(function(){var e="hidden"===document.visibilityState;h.u.updateInitParams({report_interval:e?3e5:3e4})}))}}},updateConfig:function(e){(0,C.Yy)("tea").open&&h.u.updateTeaConfig(e)}};function U(e){H.updateConfig({"custom.source":e})}function F(e){H.updateConfig({"custom.open_source":e})}function Z(){var e=(0,p.getGlobalThemeSetting)()||p.ThemeType.LIGHT,t=(0,p.getLarkContentThemeSetting)()||"";return e===p.ThemeType.LIGHT&&(t=p.ThemeType.LIGHT),{darkMode:e.toLowerCase(),contentDarkMode:t.toLowerCase()}}function x(){var e=Z(),t=e.darkMode,n=e.contentDarkMode;H.updateConfig({"custom.dark_mode":t,"custom.content_dark_mode":n})}function B(){H.updateConfig({"custom.share_id":(0,L.Yn)()})}function W(){H.updateConfig({"custom.vc_action_unique_id":(0,L.yd)()})}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h.u.send(e,t,n)}function K(){return!(0,R.Z)()&&"-1"!==(0,r.default)(window,"User.departmentId")}var V=["module","sub_module","src_module","src_sub_module"],j=["file_id","file_type"],Y=["file_tenant_id","file_is_cross_tenant"],J=["session_id","member_id"],X=["user_permission","file_permission","user_permission_folder","folder_permission"],q=["container_type","container_id"],Q=[].concat(V,j,X,q,["loc_file_id","loc_file_type","page_type","page_token","path","is_owner"],J,Y,["chat_id","jsHeapSizeLimit","totalJSHeapSize","usedJSHeapSize","navigation_start_to_now","open_current_path_to_now","is_pre_env","has_pre_cookie"]),z=[].concat(V,j,X,q,["page_token","owner_id","is_owner","create_time","create_date","from_create_date"],J,Y),$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=s.Z.batchGet(Q,e,t);return Object.assign({},n,{},e)},ee=[{name:"user id",reg:/^\D*(\d{19})\D*$/,regIndex:1},{name:"docs token",reg:/(doc|dox|wik|bas|bmn|sht)[A-Za-z0-9]{24}/,regIndex:0}],te=function(e){var t=e;return ee.forEach((function(e){var n=e.reg,r=e.regIndex,o=n.exec(t),i=o&&o[r];t=t.replace(n,(0,a.p)(i))})),t};function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.record_id&&t.record_id.toString().startsWith("dox")&&G("ccm_doc_unexpected_data_event_report_dev",{event_name:e})}var re=["client_file_open","ccm_docs_page_view","ccm_sheet_content_page_view","ccm_mindnote_content_page_view","ccm_bitable_content_page_view","ccm_drive_page_view"],oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(0,C.Yy)("tea");if(o.open){re.includes(e)&&(t.article_id=(0,r.default)(window,"teaMap.articleId"),t.entity_id=(0,r.default)(window,"teaMap.entityId")),N.Z.countRecord("jsError.".concat(e));try{var i=$(t,e);w&&Object.keys(i).forEach((function(t){var n=!0;"template_token"===t&&"pgc"===i.template_type||(ee.forEach((function(e){e.reg.test(i[t])&&(n=!1)})),n||console.log("tea 上报了不符合预期的字段, event:".concat(e,", param:").concat(t,", value:").concat(i[t]),i))})),K()&&(ne(e,i),G(e,i,n))}catch(e){console.log("collect Event error",e)}}};window.collectEvent=oe;var ie=(b&&(window._tealog=window._tealog||[]),function(e,t){b&&(window._tealog.push({eventName:e,data:t}),console.log(e,t))});function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];ie(e,t);var r=(0,C.Yy)("tea");if(r.open)try{var o=s.Z.batchGet(z,t,e),i=Object.assign({},o,{},t);"sheet_opration"!==e||i.mode||(i.mode=S.H.getParam("mode","default")),K()&&G(e,i,n)}catch(e){console.log("collect suite event error",e)}}function ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,m.Bu)(),r=Object.assign({},n,{},t);ae(e,r)}var ue=function(e,t){"BITABLE_BLOCK"===e._blockType&&(t.op_item="database",t.tab="bitable")},se=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=Object.assign({comment_id:(0,a.p)(t),comment_type:e,reply_id:(0,a.p)(n),status_code:0,status_name:"success",source:"direct"},r,{zone:(0,m.nA)()});ae("click_comment_submit",o)},_e=function(e,t,n,r,o){ae("dev_comment_event",{comment_id:(0,a.p)(t),comment_type:e,reply_id:(0,a.p)(n),comment_stage:r,comment_extra:o})},Ee=function(e,t,n){ae("click_comment_submit",{comment_type:e,status_name:n,status_code:t,zone:(0,m.nA)()})};(0,D.ie)()&&(window.getFileType=L.JB,window.getEncryptToken=L.g9);var le=oe},431562:function(e,t,n){"use strict";n.d(t,{ZP:function(){return o},aj:function(){return c},yt:function(){return s}});var r=n(746986);function o(e,t,n,o,i){return function(a,c,u){var s=u.value;return u.value=function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];var _,E,l=s.apply(this,c),f=Array.from(c).find((function(e){return e&&Object.prototype.hasOwnProperty.call(e,"target")&&Object.prototype.hasOwnProperty.call(e,"nativeEvent")})),d=f?f.target:void 0;if("function"==typeof o?_=o.apply(this,[this].concat(c)):"string"==typeof o&&(_=o),"function"==typeof i?E=i.apply(this,[this].concat(c)):"string"==typeof i&&(E=i),!_)return l;var T={action:_,source:n,eventType:t,targetId:d&&d.id||"",targetClass:d&&d.className||""};return E&&(T.create_file_type=E),(0,r.collectSuiteEvent)(e,T),l},u}}var i={},a={};function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i[e]||(i[e]={},a[e]={});var n=i[e];n.interval=t;var o={start:function(e){var r=(new Date).getTime();n.lastTime&&r-n.lastTime<1e3*t?n.cancel=!0:(n.lastTime=r,n.startTime=e)},end:function(e){n.endTime=e},send:function(t,o,i){return new Promise((function(c){return n.cancel?(n.cancel=!1,c()):i&&"function"==typeof i?(i(e,n.startTime,n.endTime),c()):void u((function(){var i=Object.assign({},t,{},a[e]);i[o]=n.endTime-n.startTime,console.log("log: ",e,i),(0,r.collectSuiteEvent)(e,i),c({eventName:e,sendData:i})}))}))},getStartTime:function(){return n&&n.startTime},clear:function(){for(var t in i[e])delete i[e][t];for(var n in a[e])delete a[e][n]},setExtraData:function(t,n){a[e][t]=n},getExtraData:function(t){return a[e]?a[e][t]:null}};return o}function u(e){u=window.requestIdleCallback&&"function"==typeof window.requestIdleCallback?function(e){window.requestIdleCallback(e)}:function(e){window.requestAnimationFrame(e)},u(e)}function s(e){var t=e.eventName,n=e.intervalTime,r=void 0===n?60:n,o=e.teaParams,i=0,a=null,c=function(e){throw new Error(e)};(r<=0||r>300)&&c("invalid interval time"),t||c("invalid event name");var u=function(){return i>0&&i<r},s=function(){document.hidden?l():_()},_=function(){a||(a=setInterval((function(){++i===r&&(collectEvent(t,Object.assign({duration:r},o),!0),i=0)}),1e3))},E=function(){clearInterval(a),a=null},l=function(){E(),u()&&(collectEvent(t,Object.assign({duration:i},o),!0),i=null)};return document.addEventListener("visibilitychange",s),_(),{lastReport:function(){E(),document.removeEventListener("visibilitychange",s),u()&&(collectEvent(t,Object.assign({duration:i},o),!0),i=null)}}}},366:function(e,t,n){"use strict";n.d(t,{Nv:function(){return s},Yg:function(){return f},dV:function(){return E},F:function(){return l}});var r=n(359980),o=n(215661);function i(e){var t,n=this;return function(){if(t)return t;for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=e.apply(n,o);return t=a,a}}function a(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.split("."),r=t.split("."),o=Math.max(n.length,r.length),i=0;i<o;i++){var a=n[i],c=r[i];if(!c)return!0;if(!a)return!1;var u=Number(a),s=Number(c);if(u<s)return!1;if(u>s)return!0}return!0}function c(e,t){var n;o.Z.isDocsSDK?o.Z.android?n=e[0]:o.Z.ios&&(n=e[1]):o.Z.android?n=t[0]:o.Z.ios&&(n=t[1]);var r=_();return!!n&&a(r,n)}var u=i((function(){var e=window.navigator.userAgent;return(0,r.default)(e.match(/DocsSDK\/([0-9.]+)/i),"[1]")})),s=(i((function(){var e=u();return!!(e&&o.Z.isLark&&(o.Z.ios&&a(e,"1.3")||!o.Z.ios&&a(e,"1.1.0")))})),i((function(){var e=u();return!!(e&&o.Z.ios&&a(e,"1.7.0"))})));function _(){if(o.Z.isDocsSDK)return u();var e=navigator.userAgent||"";return(0,r.default)(e.match(/Docs[^SDK/]*\/([0-9.]+)/),"[1]")}function E(){var e=_(),t="";return t=o.Z.isDocsSDK?o.Z.android?"1.2.3":"1.8.2":"0.2.5",o.Z.isIOS?location.protocol.indexOf("docsource")>-1&&a(e,t):a(e,t)}function l(){var e=_(),t="";return o.Z.isDocsSDK?o.Z.android?t="0.2.4":o.Z.ios&&(t="1.8.0"):t="0.2.4",a(e,t)}function f(){var e;return!!o.Z.isDocs&&(!!o.Z.ios||(e=o.Z.isDocsSDK?"1.12.99":"0.2.7",a(_(),e)))}c(["1.15.99","1.9.4"],["0.3.0","0.3.0"])},246479:function(e,t,n){"use strict";n.d(t,{H:function(){return p}});var r={};n.r(r),n.d(r,{common:function(){return u}});var o={};n.r(o),n.d(o,{FETCH_PAGED_DATA:function(){return l}});var i=n(26124),a=n(204328),c=Object.assign({},(0,a.DJ)("ACCOUNT_USER_INFO"),{},(0,a.DJ)("ACCOUNT_USER_UPDATE"),{},(0,a.DJ)("UPLOAD_AVATAR")),u={EMBED_VIDEO_CHAT_STATUS:"EMBED_VIDEO_CHAT_STATUS",INIT_BUSINESS_STAGE:"INIT_BUSINESS_STAGE",UPDATE_BUSINESS_STAGE:"UPDATE_BUSINESS_STAGE",RESET_BUSINESS_STAGE:"RESET_BUSINESS_STAGE",TIMEOUT_BUSINESS_STAGE:"TIMEOUT_BUSINESS_STAGE",MARK_MODULE_ADDED:"MARK_MODULE_ADDED",MARK_MODULE_REMOVED:"MARK_MODULE_REMOVED",BIZ_STAGE_CONTAINER_READY:"SUITE_CONTAINER_READY"},s=n(900967),_={prefix:{FETCH:"FETCH_"},suffix:a.NS,user:Object.assign({},(0,a.DJ)("CURRENT_USER"),{},(0,a.DJ)("USER_DETAIL"),{UPDATE_CURRENT_USER:"UPDATE_CURRENT_USER",DELETE_CURRENT_USER:"DELETE_CURRENT_USER"},(0,a.DJ)("MINA_CONFIG"),{PASSPORT_HEARTBEAT:"PASSPORT_HEARTBEAT",SET_USER_INFO:"SET_USER_INFO",SAVE_LOCAL_MINA_CONFIG:"SAVE_LOCAL_MINA_CONFIG"}),guide:Object.assign({},(0,a.DJ)("USER_GUIDE"),{},(0,a.DJ)("USER_GUIDE_V2"),{},(0,a.DJ)("UPDATE_USER_GUIDE",!1),{},(0,a.DJ)("UPDATE_USER_GUIDE_V2",!1),{},(0,a.DJ)("CLOSE_USER_GUIDE",!1),{},(0,a.DJ)("CLOSE_USER_GUIDE_V2",!1),{SET_USER_GUIDE_DONE:"SET_USER_GUIDE_DONE"}),permission:Object.assign({SET_USER_PERMISSION_ERROR:"SET_USER_PERMISSION_ERROR"},(0,a.DJ)("BULK_SET_PERM",!1),{},(0,a.DJ)("BULK_SHARE_LINK",!1),{},(0,a.DJ)("BULK_ASK_OWNER",!1),{},(0,a.DJ)("ASK_OWNER_OPEN_LINK_SHARING",!1),{},(0,a.DJ)("AUTHORIZED_MEMBERS"),{},(0,a.DJ)("AUTHORIZED_MEMBERS_V2"),{},(0,a.DJ)("AUTHORIZED_MEMBERS_COUNT"),{},(0,a.DJ)("ALL_PERMISSION_INFO"),{},(0,a.DJ)("SUITE_PUBLIC_PERMISSION"),{},(0,a.DJ)("USER_PERMISSION_ON_SUITE"),{},(0,a.DJ)("SET_SUITE_PUBLIC_PERMISSION",!1),{SET_SUITE_PUBLIC_PERMISSION_STATE:"SET_SUITE_PUBLIC_PERMISSION_STATE"},(0,a.DJ)("REMOVE_AUTHORIZED_MEMBERS",!1),{},(0,a.DJ)("SEND_SUITE_PERMISSION_REQUEST",!1),{},(0,a.DJ)("SEND_SUITE_PARENT_PERMISSION_REQUEST",!1),{},(0,a.DJ)("TRANSFER_SUITE_OWNER",!1),{UPDATE_AUTHORIZED_MEMBERS:"UPDATE_AUTHORIZED_MEMBERS",UNIVERSAL_TRANSFER_OWNER:"UNIVERSAL_TRANSFER_OWNER"},(0,a.DJ)("SEND_FOLDER_PERMISSION_REQUEST",!1),{COPY_TEXT_FAIL:"COPY_TEXT_FAIL",SET_EDIT_MODE:"SET_EDIT_MODE",SET_IS_DOC_LOCKED_BY_PLUGIN:"SET_IS_DOC_LOCKED_BY_PLUGIN"},(0,a.DJ)("UPDATE_USER_PERMISSION",!1),{},(0,a.DJ)("UPDATE_USER_PERMISSION_V2",!1),{},(0,a.DJ)("NOTIFY_MEMBER_AFTER_UPDATE_PERMISSION",!1),{WITHDRAW_PERMISSION_NOTIFICATION:"WITHDRAW_PERMISSION_NOTIFICATION",SET_USER_PERMISSION_FROM_CLIENT_VARS:"SET_USER_PERMISSION_FROM_CLIENT_VARS"},(0,a.DJ)("AUTHORIZED_ROLE_MEMBERS"),{},(0,a.DJ)("AUTHORIZED_ROLE_USER"),{},(0,a.DJ)("AUTHORIZED_ROLE_USERS"),{},(0,a.DJ)("FOLDER_INFO_ROLE"),{},(0,a.DJ)("POST_FOLDER_INFO_ROLE",!1),{},(0,a.DJ)("POST_ADD_ROLE_MEMBER",!1),{},(0,a.DJ)("POST_UPDATE_ROLE_MEMBER",!1),{},(0,a.DJ)("POST_DELETE_ROLE_MEMBER",!1),{},(0,a.DJ)("AUTHORIZED_USERS"),{REMOVE_AUTHORIZED_USERS:"REMOVE_AUTHORIZED_USERS"},(0,a.DJ)("ANONYMOUS_SUITE_PERMISSION",!0),{},(0,a.DJ)("EMBED_OBJECT_PERMISSION",!0),{},(0,a.DJ)("EMBED_OBJECT_MEMBERS",!0),{},(0,a.DJ)("BULK_SET_EMBED_PERM",!1),{REMOVE_EMBED_OBJECTS:"REMOVE_EMBED_OBJECTS",SET_EMBED_OBJ_OWNER:"SET_EMBED_OBJ_OWNER"},(0,a.DJ)("USER_PERMISSION_ON_EMBED_OBJECT",!0),{},(0,a.DJ)("POST_PASSWORD_CREATE",!1),{},(0,a.DJ)("POST_PASSWORD_DELETE",!1),{},(0,a.DJ)("POST_PASSWORD_REFRESH",!1),{SET_HAS_LINK_PASSWORD_STATE:"SET_HAS_LINK_PASSWORD_STATE"},(0,a.DJ)("SHARE_SPACE_SETTING"),{},(0,a.DJ)("UPDATE_SHARE_SPACE_SETTING",!1),{},(0,a.DJ)("USER_PERMISSION_ON_SHARE_SPACE"),{},(0,a.DJ)("UPDATE_SHARE_SPACE_MEMBER_PERMISSION",!1),{SET_SHARE_SPACE_PUBLIC_PERMISSION_STATE:"SET_SHARE_SPACE_PUBLIC_PERMISSION_STATE"},(0,a.DJ)("MEMBERS_EXIST_V2",!0),{},(0,a.DJ)("SUITE_PERMISSION_CONFIG",!0),{},(0,a.DJ)("APP_SHARE_MEMBERS",!0),{},(0,a.DJ)("RECOMMEND_APP_MEMBERS",!0),{},(0,a.DJ)("CREATE_MOCK_USER",!1),{},(0,a.DJ)("TEAM_SPACE_COVER_MEMBER_INFO",!0),{},(0,a.DJ)("POST_LEAVE_TEAM_SPACE",!1),{},(0,a.DJ)("SINGLE_CONTAINER_FOLDER_SETTING"),{},(0,a.DJ)("UPDATE_SINGLE_CONTAINER_FOLDER_SETTING",!1),{},(0,a.DJ)("SINGLE_CONTAINER_FOLDER_MEMBER_PERM"),{},(0,a.DJ)("SINGLE_CONTAINER_FOLDER_MEMBERS"),{},(0,a.DJ)("POST_SINGLE_CONTAINER_FOLDER_MEMBERS_CREATE",!1),{},(0,a.DJ)("POST_SINGLE_CONTAINER_FOLDER_MEMBERS_UPDATE",!1),{},(0,a.DJ)("POST_SINGLE_CONTAINER_FOLDER_MEMBERS_DELETE",!1),{},(0,a.DJ)("POST_SINGLE_CONTAINER_FOLDER_APPLY_PERM",!1),{},(0,a.DJ)("POST_SINGLE_CONTAINER_FOLDER_TRANSFER_OWNER",!1),{ADMIN_PERMISSION_FAIL:"ADMIN_PERMISSION_FAIL"},(0,a.DJ)("MINI_PROGRAM_QR_CODE",!0),{},(0,a.DJ)("POST_SPACE_UNLOCK",!1),{},(0,a.DJ)("POST_SUITE_UNLOCK",!1),{},(0,a.DJ)("CHECK_SPACE_LOCK_STATE_CHANGE",!1),{},(0,a.DJ)("CHECK_SUITE_LOCK_STATE_CHANGE",!1),{},(0,a.DJ)("SINGLE_CONTAINER_FOLDER_MEMBERS_EXIST",!0),{},(0,a.DJ)("USER_PERMISSION_ON_EMBED_OBJECT",!0)),suite:Object.assign({SET_CUSTOM_ICON:"SET_CUSTOM_ICON",OPEN_FOLDER_OR_FILE:"OPEN_FOLDER_OR_FILE",SET_CURRENT_SUITE_TOKEN:"SET_CURRENT_SUITE_TOKEN",SYNC_NOTE_META:"SYNC_NOTE_META",SYNC_TAB_TITLE:"SYNC_TAB_TITLE",UPDATE_DOC_TITLE:"UPDATE_DOC_TITLE"},(0,a.DJ)("TOKEN_INFO"),{},(0,a.DJ)("CURRENT_SUITE"),{},(0,a.DJ)("UPDATE_TITLE",!1),{},(0,a.DJ)("UPDATE_META",!1),{},(0,a.DJ)("UPDATE_SHEET_META",!1),{},(0,a.DJ)("COPY_SUITE",!1),{CHECK_SUITE_EXTERNAL:"CHECK_SUITE_EXTERNAL",SET_SHOULD_PRINT:"SET_SHOULD_PRINT",UPDATE_SUITE_VISIBILITY_STATE:"UPDATE_SUITE_VISIBILITY_STATE"},(0,a.DJ)("POST_RECENT_REPORT",!1),{SET_HELP_BTN_VISIBLE:"actionTypes.suite.SET_HELP_BTN_VISIBLE",SET_HELP_BTN_ACTIVATED:"SET_HELP_BTN_ACTIVATED"},(0,a.DJ)("ANONYMOUS_SUITE_META",!0),{},(0,a.DJ)("SUITE_WIKI_INFO"),{REMOVE_SUITE_WIKI_INFO:"REMOVE_SUITE_WIKI_INFO",FETCH_BATCH_WIKI_INFO:"FETCH_BATCH_WIKI_INFO",FETCH_BATCH_SPACE_INFO_BY_WIKI_TOKEN:"FETCH_BATCH_SPACE_INFO_BY_WIKI_TOKEN",UPDATE_SUB_TYPE:"UPDATE_SUB_TYPE"}),member:{ADD_SUITE_MEMBERS:"ADD_SUITE_MEMBERS",UPDATE_SUITE_MEMBER:"UPDATE_SUITE_MEMBER",UPDATE_SUITE_MEMBERS:"UPDATE_SUITE_MEMBERS",REMOVE_SUITE_MEMBERS:"REMOVE_SUITE_MEMBERS",RESET_SUITE_MEMBERS:"RESET_SUITE_MEMBERS",SET_CURRENT_MEMBER_ID:"SET_CURRENT_MEMBER_ID",SET_MEMBERS_COUNT:"SET_MEMBERS_COUNT"},search:Object.assign({},(0,a.DJ)("RECENT_IN_SEARCH_BOX"),{},(0,a.DJ)("SEARCH_HISTORY"),{},(0,a.DJ)("UPDATE_SEARCH_HISTORY",!1),{},(0,a.DJ)("DELETE_SEARCH_HISTORY",!1),{},(0,a.DJ)("SEARCH_SUITE"),{},(0,a.DJ)("SEARCH_USER"),{},(0,a.DJ)("SEARCH_FOLDER"),{},(0,a.DJ)("REFINE_SEARCH"),{},(0,a.DJ)("REFINE_SEARCH_ADVANCED"),{},(0,a.DJ)("SEARCH_WIKI"),{},(0,a.DJ)("SEARCH_WIKI_ADVANCED"),{},(0,a.DJ)("UPDATE_REFINE_SEARCH_HISTORY",!1),{SHOW_ADVANCED_SEARCH:"SHOW_ADVANCED_SEARCH",HIDE_ADVANCED_SEARCH:"HIDE_ADVANCED_SEARCH",SWITCH_TAB:"SWITCH_TAB",SWITCH_RECENT_TAB:"SWITCH_RECENT_TAB",TOGGLE_USER_CHOSEN:"TOGGLE_USER_CHOSEN",SELECT_USER:"SELECT_USER",TOGGLE_CHAT_CHOSEN:"TOGGLE_CHAT_CHOSEN",DELETE_USER:"DELETE_USER",DELETE_CHAT:"DELETE_CHAT",SELECT_CHAT:"SELECT_CHAT",SELECT_FOLDER:"SELECT_FOLDER",TOGGLE_FOLDER_CHOSEN:"SELECT_FOLDER_CHOSEN",DELETE_FOLDER:"DELETE_FOLDER",RESET_FOLDER:"RESET_FOLDER",RESET_ADVANCED_SEARCH:"RESET_ADVANCED_SEARCH",CHANGE_OPEN_TIME:"CHANGE_OPEN_TIME",SELECT_WIKI_SPACE:"SELECT_WIKI_SPACE",DELETE_WIKI_SPACE:"DELETE_WIKI_SPACE",TOGGLE_WIKI_SPACE_CHOSEN:"TOGGLE_WIKI_SPACE_CHOSEN",CHOOSE_FILE_TYPE:"CHOOSE_FILE_TYPE",FILL_ADVANCED_SEARCH_LIST:"FILL_ADVANCED_SEARCH_LIST",LOAD_MORE_REFINE_SEARCH:"LOAD_MORE_REFINE_SEARCH",LOAD_RELEVANT_REFINE_SEARCH:"LOAD_RELEVANT_REFINE_SEARCH",LOAD_RELEVANT_MORE_REFINE_SEARCH:"LOAD_RELEVANT_MORE_REFINE_SEARCH",SET_ADVANCED_SEARCH_LOAD_TYPE:"SET_ADVANCED_SEARCH_LOAD_TYPE",CHANGE_SEARCH_KEYWORD:"CHANGE_SEARCH_KEYWORD",SET_IS_SEARCH_HISTORY_SHOWN:"SET_IS_SEARCH_HISTORY_SHOWN",SET_IS_BROWSE_HISTORY_SHOWN:"SET_IS_BROWSE_HISTORY_SHOWN",SET_IS_ADVANCE_SEARCH_ICON_SHOWN:"SET_IS_ADVANCE_SEARCH_ICON_SHOWN",SET_IS_MORE_RECENT_BTN_SHOWN:"SET_IS_MORE_RECENT_BTN_SHOWN",SET_IS_ADVANCE_SEARCH_ENABLE:"SET_IS_ADVANCE_SEARCH_ENABLE",SET_IS_USER_CANDIDATE_ITEMS_SHOWN:"SET_IS_USER_CANDIDATE_ITEMS_SHOWN",SET_IS_CHAT_CANDIDATE_ITEMS_SHOWN:"SET_IS_CHAT_CANDIDATE_ITEMS_SHOWN",ENTER_WIKI:"ENTER_WIKI",LEAVE_WIKI:"LEAVE_WIKI"},(0,a.DJ)("FETCH_RECENT_WIKI",!1),{},(0,a.DJ)("SEARCH_USER_BY_CONTACT")),etherpad:{UPDATE_DOC_PERMISSION_USER_MAP:"UPDATE_DOC_PERMISSION_USER_MAP",REMOVE_DOC_READABLE_USER_MAP:"REMOVE_DOC_READABLE_USER_MAP",UPDATE_DOC_CANT_READ_MAP:"UPDATE_DOC_NOTIPS_EMBEDOBJS_MAP",REMOVE_DOC_CANT_READ_MAP:"REMOVE_DOC_CANT_READ_MAP"},commentData:Object.assign({},(0,a.Bx)("FETCH_COMMENTS"),{},(0,a.Bx)("RESOLVE_COMMENT"),{},(0,a.Bx)("REPLY_COMMENT"),{},(0,a.Bx)("UPDATE_COMMENT"),{},(0,a.Bx)("DELETE_COMMENT"),{},(0,a.Bx)("REOPEN_COMMENT"),{},(0,a.Bx)("GEN_REPLY_ID"),{},(0,a.Bx)("ADD_COMMENT"),{},(0,a.Bx)("FETCH_COMMENT"),{},(0,a.Bx)("SET_COMMENT_MESSAGE_READ"),{RESOLVE_COMMENT_ANIMATION_END:"RESOLVE_COMMENT_ANIMATION_END",START_NEW_COMMENT:"START_NEW_COMMENT",LINK_COMMENT_TO_DOC:"LINK_COMMENT_TO_DOC",LINK_COMMENT_TO_DOC_OK:"LINK_COMMENT_TO_DOC_OK",LINK_COMMENT_TO_DOC_ERROR:"LINK_COMMENT_TO_DOC_ERROR",MERGE_COMMENTS:"MERGE_COMMENTS",MERGE_COMMENTS_NEW:"MERGE_COMMENTS_NEW",RESET_COMMENTS:"RESET_COMMENTS",DELETE_TEMPLATE_COMMENT:"DELETE_TEMPLATE_COMMENT"}),commentPosition:{SET_COMMENT_POSITION_DATA:"SET_COMMENT_POSITION_DATA",TOGGLE_COMMENT_SHOWN:"TOGGLE_COMMENT_SHOWN",TOGGLE_CHECK_COMMENT_SHOWN:"TOGGLE_CHECK_COMMENT_SHOWN"},commentPanelPosition:{SET_COMMENT_PANEL_POSITION_DATA:"SET_COMMENT_PANEL_POSITION_DATA"},commentReaction:{SET_COMMENT_REACTION:"SET_COMMENT_REACTION",SET_COMMENT_REACTION_ENTITIES:"SET_COMMENT_REACTION_ENTITIES",SET_COMMENT_REACTION_LOAD_STATUS:"SET_COMMENT_REACTION_LOAD_STATUS"},messageData:Object.assign({},(0,a.Bx)("FETCH_MESSAGES"),{SET_MESSAGES:"SET_MESSAGES",UPDATE_MESSAGES:"UPDATE_MESSAGES",SET_MESSAGE_STATUS:"SET_MESSAGE_STATUS",SET_LOCAL_MESSAGE_STATUS_READED:"SET_LOCAL_MESSAGE_STATUS_READED",SET_INCOMING_MESSAGES:"SET_INCOMING_MESSAGES",RESET_MESSAGES:"RESET_MESSAGES",REMOVE_MESSAGES_NEW_STATUS:"REMOVE_MESSAGES_NEW_STATUS",RESET_MESSAGES_NEW_STATUS:"RESET_MESSAGES_NEW_STATUS",SET_NOTIFICATIONS:"SET_NOTIFICATIONS",SET_ACTIVE_NOTIFICATION:"SET_ACTIVE_NOTIFICATION",UPDATE_BUTTON_STATUS:"UPDATE_BUTTON_STATUS"}),messagePosition:{SET_MESSAGE_POSITION_DATA:"SET_MESSAGE_POSITION_DATA",RESET_MESSAGE_POSITION_DATA:"RESET_MESSAGE_POSITION_DATA",SET_ACTIVE_NOTIFICATION:"SET_ACTIVE_NOTIFICATION"},commentLoadStatus:{SET_COMMENT_LOAD_STATUS:"SET_COMMENT_LOAD_STATUS"},comment:Object.assign({globalComment:Object.assign({},(0,a.DJ)("GLOBAL_COMMENT_LIST"),{},(0,a.DJ)("NEW_GLOBAL_COMMENT"),{},(0,a.DJ)("ADD_NEW_GLOBAL_COMMENT",!1),{ADD_NEW_GLOBAL_COMMENT_TO_LOCAL:"ADD_NEW_GLOBAL_COMMENT_TO_LOCAL"},(0,a.DJ)("UPDATE_GLOBAL_COMMENT",!1),{},(0,a.DJ)("DELETE_GLOBAL_COMMENT",!1),{},(0,a.DJ)("RESOLVE_GLOBAL_COMMENT",!1),{SET_GLOBAL_COMMENT_VERSION:"SET_GLOBAL_COMMENT_VERSION",REMOVE_GLOBAL_COMMENT:"REMOVE_GLOBAL_COMMENT",REOPEN_GLOBAL_COMMENT:"REOPEN_GLOBAL_COMMENT",MERGE_GLOBAL_COMMENT_MESSAGE_STATUSES:"MERGE_GLOBAL_COMMENT_MESSAGE_STATUSES",RESET_GLOBAL_COMMENT:"RESET_GLOBAL_COMMENT",SET_LOCAL_GLOBAL_COMMENT_READ:"SET_LOCAL_GLOBAL_COMMENT_READ",SET_MOBILE_OFELINE_COMMENT_FAIL:"SET_MOBILE_OFELINE_COMMENT_FAIL"}),boxComment:Object.assign({},(0,a.DJ)("DRIVE_BOX_NEW_WHOLE_COMMENT"),{},(0,a.DJ)("BOX_COMMENTS"),{},(0,a.DJ)("ADD_BOX_COMMENT"),{},(0,a.DJ)("ADD_DRIVE_BOX_NEW_WHOLE_COMMENT",!1),{},(0,a.DJ)("REPLY_DRIVE_BOX_COMMENT",!1),{},(0,a.DJ)("DRIVE_BOX_COMMENT_LIST"),{},(0,a.DJ)("UPDATE_REPLY_DRIVE_BOX_COMMENT",!1),{},(0,a.DJ)("DELETE_REPLY_DRIVE_BOX_COMMENT",!1),{},(0,a.DJ)("RESOLVE_DRIVE_BOX_COMMENT",!1),{RESET_DRIVE_BOX_COMMENTS:"RESET_DRIVE_BOX_COMMENTS"}),docComment:Object.assign({INIT_COMMENTS:"INIT_COMMENTS",INIT_MOBILE_COMMENTS:"INIT_MOBILE_COMMENTS",MERGE_COMMENT_MESSAGE_STATUSES:"MERGE_COMMENT_MESSAGE_STATUSES",SET_COMMENT_VERSION:"SET_COMMENT_VERSION"},(0,a.DJ)("COMMENT_LIST"),{},(0,a.DJ)("RESOLVE_COMMENT",!1),{RESOLVE_COMMENT_ANIMATED:"RESOLVE_COMMENT_ANIMATED"},(0,a.DJ)("POST_COMMENT",!1),{POST_COMMENT_TO_LOCAL:"POST_COMMENT_TO_LOCAL"},(0,a.DJ)("REPLY_COMMENT",!1),{},(0,a.DJ)("UPDATE_REPLY_COMMENT",!1),{},(0,a.DJ)("DELETE_REPLY_COMMENT",!1),{UPDATE_REPLY_COMMENT:"UPDATE_REPLY_COMMENT",REOPEN_COMMENT:"REOPEN_COMMENT",START_NEW_COMMENT:"START_NEW_COMMENT",LINK_COMMENT_TO_DOC:"LINK_COMMENT_TO_DOC",LINK_COMMENT_TO_DOC_OK:"LINK_COMMENT_TO_DOC_OK",LINK_COMMENT_TO_DOC_ERROR:"LINK_COMMENT_TO_DOC_ERROR",REMOVE_COMMENTS:"REMOVE_COMMENTS",UPDATE_COMMENTS:"UPDATE_COMMENTS",RESET_COMMENTS:"RESET_COMMENTS",SET_LOCAL_DOC_COMMENT_READ:"SET_LOCAL_DOC_COMMENT_READ",FAKE_POST_COMMENT_TO_LOCAL:"FAKE_POST_COMMENT_TO_LOCAL",FAKE_LINK_COMMENT_TO_DOC_OK:"FAKE_LINK_COMMENT_TO_DOC_OK",FAKE_REPLY_COMMENT_TO_LOCAL:"FAKE_REPLY_COMMENT_TO_LOCAL",FAKE_UPDATE_REPLY_COMMENT:"FAKE_UPDATE_REPLY_COMMENT",FAKE_DELETE_REPLY_COMMENT:"FAKE_DELETE_REPLY_COMMENT",TOGGLE_DOC_COMMENT:"TOGGLE_DOC_COMMENT"})},(0,a.DJ)("SET_COMMENT_MESSAGE_READ",!1),{SET_COLLAB_DOC_MESSAGE_READ:"SET_COLLAB_DOC_MESSAGE_READ"}),pageMessage:Object.assign({},(0,a.DJ)("PC_INIT_MESSAGE_LIST"),{},(0,a.DJ)("PC_MESSAGE_LIST"),{UPDATE_PC_MESSAGE:"UPDATE_PC_MESSAGE"},(0,a.DJ)("MESSAGE_LIST"),{UPDATE_MESSAGE:"UPDATE_MESSAGE"},(0,a.DJ)("MOBILE_MESSAGE_LIST"),{UPDATE_MOBILE_MESSAGE:"UPDATE_MOBILE_MESSAGE",RESET_MOBILE_MESSAGE_LIST:"RESET_MOBILE_MESSAGE_LIST",UPDATE_MESSAGE_POSITION:"UPDATE_MESSAGE_POSITION",SET_MESSAGE_READ:"SET_MESSAGE_READ",SET_MESSAGE_STATUS:"SET_MESSAGE_STATUS",SET_LOCAL_MESSAGE_MOBILE_READ:"SET_LOCAL_MESSAGE_MOBILE_READ"},(0,a.DJ)("SET_MESSAGE_MOBILE_READ",!1),{},(0,a.DJ)("SET_ALL_MESSAGE_READ",!1),{START_NEW_COMMENT:"START_NEW_COMMENT_IN_LARK"},(0,a.DJ)("COMMENT_LIST"),{},(0,a.DJ)("LARK_RESOLVE_COMMENT",!1),{},(0,a.DJ)("LARK_POST_MESSAGE_COMMENT",!1),{},(0,a.DJ)("LARK_REPLY_COMMENT",!1),{},(0,a.DJ)("LARK_UPDATE_REPLY_COMMENT",!1),{},(0,a.DJ)("LARK_DELETE_REPLY_COMMENT",!1),{UPDATE_REPLY_COMMENT:"LARK_UPDATE_REPLY_COMMENT",REOPEN_COMMENT:"LARK_REOPEN_COMMENT",LINK_COMMENT_TO_DOC:"LARK_LINK_COMMENT_TO_DOC",LINK_COMMENT_TO_DOC_OK:"LARK_LINK_COMMENT_TO_DOC_OK",LINK_COMMENT_TO_DOC_ERROR:"LARK_LINK_COMMENT_TO_DOC_ERROR",REMOVE_COMMENTS:"LARK_REMOVE_COMMENTS",UPDATE_COMMENTS:"LARK_UPDATE_COMMENTS",RESET_MESSAGES:"RESET_MESSAGES",SET_MESSAGE_SHOW_STATE:"SET_MESSAGE_SHOW_STATE"}),commentHistory:{SET_COMMENT_HISTORY_REOPENING:"SET_COMMENT_HISTORY_REOPENING"},rule:Object.assign({},(0,a.DJ)("CREATE_SMART_COLLECTION",!1),{},(0,a.DJ)("GET_ALL_SMART_COLLECTION",!1),{},(0,a.DJ)("GET_SINGLE_SMART_COLLECTION",!1),{},(0,a.DJ)("UPDATE_SMART_COLLECTION",!1),{},(0,a.DJ)("REMOVE_SMART_COLLECTION",!1),{},(0,a.DJ)("SORT_SMART_COLLECTION",!1),{},(0,a.DJ)("SMART_COLLECTION_RED_DOT_ID_LIST"),{},(0,a.DJ)("GET_SMART_COLLECTION_SUITE_LIST",!1),{},(0,a.DJ)("GET_PREVIEW_SMART_COLLECTION_SUITE_LIST",!1),{},(0,a.DJ)("UPDATE_SMART_COLLECTION_VIEW_SETTING",!1),{CANCEL_REMOVE_SMART_COLLECTION:"CANCEL_REMOVE_SMART_COLLECTION",CANCEL_UPDATE_SMART_COLLECTION:"CANCEL_UPDATE_SMART_COLLECTION",CANCEL_GET_SMART_COLLECTION_SUITE_LIST:"CANCEL_GET_SMART_COLLECTION_SUITE_LIST",SET_COLLECTION_LIST_TOKENS:"SET_COLLECTION_LIST_TOKENS",CLEAR_COLLECTION_RED_DOT_BY_ID:"CLEAR_COLLECTION_RED_DOT_BY_ID"}),lark:Object.assign({},(0,a.DJ)("LARK_CHAT_INFO"),{},(0,a.DJ)("LARK_CHAT_ID"),{},(0,a.DJ)("DOCS_CUSTOMER_SERVICE_CHAT_ID"),{},(0,a.DJ)("JOIN_LARK_CHAT",!1)),toast:{TOAST_SHOW:"TOAST_SHOW",TOAST_CLOSE:"TOAST_CLOSE",TOAST_PROCESS_UPDATE:"TOAST_PROCESS_UPUDATE"},websocket:{SYNC_CONNECTED:"".concat(s.L.WEBSOCKET,"/SYNC_CONNECTED"),SYNC_CLOSED:"".concat(s.L.WEBSOCKET,"/SYNC_CLOSED")},route:{LOCATION_CHANGE:"@@router/LOCATION_CHANGE",SET_BACK_URL:"@@path/SET_BACK_URL",SET_ROUTE_OBJ:"SET_ROUTE_OBJ"},service:{SET_FAILED_SERVICES:"SET_FAILED_SERVICES",CLEAR_FAILED_SERVICES:"CLEAR_FAILED_SERVICES"},header:{TOGGLE_HEADER_SHOWN:"TOGGLE_HEADER_SHOWN",STORE_LARK_TITLE:"STORE_LARK_TITLE"},fetchResponse:{FETCH_SUCC:"FETCH_SUCC",FETCH_FAIL:"FETCH_FAIL"},export:{FETCH_EXPORT_TICKET:"FETCH_EXPORT_TICKET",CREATE_EXPORT_TASK:"CREATE_EXPORT_TASK",GET_EXPORT_TASK_RESULT:"GET_EXPORT_TASK_RESULT",FETCH_EXPORT_TOKEN:"FETCH_EXPORT_TOKEN",FETCH_EXPORT_RESULT:"FETCH_EXPORT_RESULT",FETCH_EXPORT_STATUS:"FETCH_EXPORT_STATUS",TOGGLE_EXPORTING:"TOGGLE_EXPORTING"},template:Object.assign({SET_TEMPLATE_MODE:"SET_TEMPLATE_MODE",TOGGLE_TEMPLATE_VISIBLE:"TOGGLE_TEMPLATE_VISIBLE",TOGGLE_ANNOUNCE_TEMPLATE_VISIBLE:"TOGGLE_ANNOUNCE_TEMPLATE_VISIBLE",FETCH_REMOVED_TEMPLATE_RED_DOTS:"FETCH_REMOVED_TEMPLATE_RED_DOTS",CREATE_BLANK_FILE:"CREATE_BLANK_FILE",SET_TEMPLATE_CENTER_ENTRY:"SET_TEMPLATE_CENTER_ENTRY",UPDATE_TEMPLATE_APPEAL_STATUS:"UPDATE_TEMPLATE_APPEAL_STATUS"},(0,a.DJ)("TEMPLATE_BANNER_LIST"),{},(0,a.DJ)("TEMPLATE_TOPIC_LIST"),{},(0,a.DJ)("TEMPLATE_LIST"),{},(0,a.DJ)("TEMPLATE_LIST_V2"),{},(0,a.DJ)("TEMPLATE_SYS_LIST"),{},(0,a.DJ)("TEMPLATE_CUSTOM_LIST"),{},(0,a.DJ)("TEMPLATE_CO_LIST"),{},(0,a.DJ)("TEMPLATE_SEARCH"),{},(0,a.DJ)("TEMPLATE_RECOMMENDATIONS"),{},(0,a.DJ)("RELATED_TEMPLATE_RECOMMENDATIONS"),{},(0,a.DJ)("TEMPLATE_BANNER_RECOMMENDATIONS"),{},(0,a.DJ)("TEMPLATE_BANNER_RECOMMENDATIONS_V2"),{},(0,a.DJ)("TEMPLATE_GROUP"),{},(0,a.DJ)("CREATE_BY_TEMPLATE",!1),{},(0,a.DJ)("INSERT_TEMPLATE",!1),{},(0,a.DJ)("TEMPLATE_SEARCH_RECOMMEND"),{},(0,a.DJ)("TEMPLATE_COLLECTION_PREVIEW"),{},(0,a.DJ)("USE_COLLECTION_TEMPLATE",!1),{},(0,a.DJ)("SINGLE_TEMPLATE"),{},(0,a.DJ)("RECENT_LIST"),{},(0,a.DJ)("USER_PERMISSION_ON_IMPORT_SUITE"),{},(0,a.DJ)("CREATE_BY_TEMPLATE_I18N_ID",!1)),network:{SET_NETWORK_STATE:"SET_NETWORK_STATE"},nps:{FETCH_NPS_QUESTIONAIRE:"FETCH_NPS_QUESTIONAIRE",APPEAR_NPS_QUESTIONAIRE:"APPEAR_NPS_QUESTIONAIRE",CLOSE_NPS_QUESTIONAIRE:"CLOSE_NPS_QUESTIONAIRE",SUBMIT_NPS_QUESTIONAIRE:"SUBMIT_NPS_QUESTIONAIRE",SUBMIT_ANSWER:"SUBMIT_ANSWER"},settings:Object.assign({},(0,a.DJ)("USER_SETTING"),{},(0,a.DJ)("USER_TRANSLATE_SETTING"),{},(0,a.DJ)("SMART_COMPOSE_SETTING"),{},(0,a.DJ)("UPDATE_SMART_COMPOSE_SETTING"),{},(0,a.DJ)("UPDATE_USER_SETTING",!1),{},(0,a.DJ)("UPDATE_USER_TRANSLATE_SETTING",!1),{},(0,a.DJ)("IS_USER_TRANSLATE_VIP"),{},(0,a.DJ)("USER_LANG_CORRECTION_SETTING"),{},(0,a.DJ)("UPDATE_USER_LANG_CORRECTION_SETTING",!1),{},(0,a.DJ)("UPDATE_USER_VIEW_RECORD_SETTING",!1),{FETCH_ABBREVIATION_SETTING:"FETCH_ABBREVIATION_SETTING",UPDATE_ABBREVIATION_SETTING:"UPDATE_ABBREVIATION_SETTING"}),preference:Object.assign({},(0,a.DJ)("USER_PREFERENCE"),{},(0,a.DJ)("UPDATE_USER_PREFERENCE")),like:{globalLike:Object.assign({},(0,a.DJ)("GLOBAL_LIKE_LIST"),{OPEN_GLOBAL_LIKE_DETAIL:"OPEN_GLOBAL_LIKE_DETAIL",CLOSE_GLOBAL_LIKE_DETAIL:"CLOSE_GLOBAL_LIKE_DETAIL"},(0,a.DJ)("RECENT_GLOBAL_LIKE_LIST"),{},(0,a.DJ)("GLOBAL_LIKE_COUNT"),{SYNC_GLOBAL_LIKE:"SYNC_GLOBAL_LIKE"},(0,a.DJ)("POST_GLOBAL_LIKE",!1),{},(0,a.DJ)("POST_GLOBAL_DISLIKE",!1),{SET_HAS_LIKED_FROM_LOCAL:"SET_HAS_LIKED_FROM_LOCAL",CLEAR_GLOBAL_LIKE_STATE:"CLEAR_GLOBAL_LIKE_STATE"})},findReplace:{TRIGGER_FIND_REPLACE:"TRIGGER_FIND_REPLACE",OPEN_FIND_REPLACE_BOX:"OPEN_FIND_REPLACE_BOX",CLOSE_FIND_REPLACE_BOX:"CLOSE_FIND_REPLACE_BOX",START_FINDING:"START_FINDING",SET_IS_REPLACING_ALL:"SET_IS_REPLACING_ALL",UPDATE_FIND_REPLACE_RESULT:"UPDATE_FIND_REPLACE_RESULT",SET_REPLACE_TEXT:"SET_REPLACE_TEXT",FIND_REPLACE_SHOW_MORE:"FIND_REPLACE_SHOW_MORE"},translate:Object.assign({TOGGLE_TRANSLATE:"TOGGLE_TRANSLATE",RESET_TRANSLATE_STATUS:"RESET_TRANSLATE_STATUS",UPDATE_TRANSLATE_STATUS:"UPDATE_TRANSLATE_STATUS",UPDATE_TRANSLATION_VIEW:"UPDATE_TRANSLATION_VIEW",SET_CLIENTVARS:"TRANSLATE_SET_CLIENTVARS",UPDATE_TRANSLATE_CONFIG:"UPDATE_TRANSLATE_CONFIG"},(0,a.DJ)("GET_TRANSLATE_CONFIG",!1),{},(0,a.DJ)("SUBMIT_TRANSLATE",!1),{},(0,a.DJ)("ORIGIN_CLIENT_VARS",!0),{},(0,a.DJ)("SET_TRANSLATION_VIEW",!1)),jira:Object.assign({},(0,a.DJ)("SYNC_JIRA"),{},(0,a.DJ)("JIRA_ISSUE_INIT_DATA"),{FAKE_SYNC_JIRA_START:"FAKE_SYNC_JIRA_START",FAKE_SYNC_JIRA_SUCCESS:"FAKE_SYNC_JIRA_SUCCESS",FAKE_SYNC_JIRA_FAIL:"FAKE_SYNC_JIRA_FAIL",FAKE_SYNC_JIRA_END:"FAKE_SYNC_JIRA_END"},(0,a.DJ)("JIRA_AUTH_STATUS")),opendoc:{SET_OPENDOC_OPTIONS:"SET_OPENDOC_OPTIONS",SET_FEATURE_CONFIG:"SET_FEATURE_CONFIG"},notificationCenter:Object.assign({},(0,a.DJ)("NOTIC_LIST"),{},(0,a.DJ)("NOTIC_UNREAD_COUNT"),{},(0,a.DJ)("MARK_NOTIC_STATUS"))},E=Object.assign({},(0,a.DJ)("TEAM_SPACE_COVERS"),{},(0,a.DJ)("CREATE_TEAM_SPACE",!1),{},(0,a.DJ)("CREATE_FOLDER",!1),{},(0,a.DJ)("CREATE_FILE",!1),{},(0,a.DJ)("CREATE_INIT_FOLDER",!1),{},(0,a.DJ)("CREATE_SHARE_FOLDER",!1),{},(0,a.DJ)("CREATE_DRIVE_FILE",!1),{},(0,a.DJ)("CREATE_ISV",!1),{USER_FRIENDLY_MOVE_FILE:"USER_FRIENDLY_MOVE_FILE",USER_FRIENDLY_MOVE_FILE_CONFIRM:"USER_FRIENDLY_MOVE_FILE_CONFIRM"},(0,a.DJ)("MOVE_FILE",!1),{MOVE_FILE_TO_WIKI:"MOVE_FILE_TO_WIKI",TRIGGER_HANDLE_DELETE_OBJ:"TRIGGER_HANDLE_DELETE_OBJ",TRIGGER_HANDLE_REMOVE_NODE:"TRIGGER_HANDLE_REMOVE_NODE",TRIGGER_HANDLE_REMOVE_RECENT_RECORD:"TRIGGER_HANDLE_REMOVE_RECENT_RECORD",TRIGGER_HANDLE_REMOVE_SHARED_RECORD:"TRIGGER_HANDLE_REMOVE_SHARED_RECORD",TRIGGER_HANDLE_DELETE_COMPLETELY:"TRIGGER_HANDLE_DELETE_COMPLETELY",PERMANENTLY_DELETE_FILE:"PERMANENTLY_DELETE_FILE",CONFIRM_DELETE:"CONFIRM_DELETE",REMOVE_CHILD_FROM_FATHER_INDEX:"REMOVE_CHILD_FROM_FATHER_INDEX"},(0,a.DJ)("REMOVE_FILE",!1),{},(0,a.DJ)("DELETE_FOLDER_OBJECT",!1),{},(0,a.DJ)("DELETE_OBJECT",!1),{},(0,a.DJ)("DELETE_RECENT_RECORD",!1),{},(0,a.DJ)("DELETE_SHARED_RECORD",!1),{DELETE_FILE_PATH:"DELETE_FILE_PATH"},(0,a.DJ)("COMMON_ADD_FILE_TO",!1),{},(0,a.DJ)("COMMON_ADD_SHORTCUT_TO",!1),{},(0,a.DJ)("RESTORE_REMOVED_FILE",!1),{},(0,a.DJ)("DELETE_REMOVED_FILE",!1),{},(0,a.DJ)("ADD_MEMBERS_TO_FOLDER",!1),{},(0,a.DJ)("REMOVE_MEMBER_FROM_FOLDER",!1),{},(0,a.DJ)("MEMBERS_OF_SHARE_FOLDER"),{},(0,a.DJ)("TRANSFER_SHARE_FOLDER_OWNER",!1),{},(0,a.DJ)("SUBSCRIBE",!1),{},(0,a.DJ)("UNSUBSCRIBE",!1),{},(0,a.DJ)("SUBSCRIBE_STATUS"),{UPDATE_SUBSCRIBE_STATUS:"UPDATE_SUBSCRIBE_STATUS",FETCH_LEANMODE:"FETCH_LEANMODE",FETCH_LEANMODE_CONFIG:"FETCH_LEANMODE_CONFIG",UPDATE_LEANMODE_CONFIG:"UPDATE_LEANMODE_CONFIG"},(0,a.DJ)("RENAME_FILE",!1),{},(0,a.DJ)("UPDATE_FOLDER_INFO",!1),{SET_CURRENT_SUITE_TOKEN:"SET_CURRENT_SUITE_TOKEN",SET_SELECTED_FILE_METAS:"SET_SELECTED_FILE_METAS",SET_META_NAME:"SET_META_NAME",INSERT_UPLOADED_FILE_TO_RECENT:"INSERT_UPLOADED_FILE_TO_RECENT"},(0,a.DJ)("BULLETIN_INFO"),{},(0,a.DJ)("CLOSE_BULLETIN",!1),{},(0,a.DJ)("ACTIVITY_INFO"),{MANUALLY_SHOW_USAGE_LIMIT:"MANUALLY_SHOW_USAGE_LIMIT",NOTIFY_SUITE_BOT:"NOTIFY_SUITE_BOT",SET_CURRENT_DRAGGING_ITEMS:"SET_CURRENT_DRAGGING_ITEMS"},(0,a.DJ)("FETCH_USER_DETAIL",!1),{},(0,a.DJ)("SAVE_AS_TEMPLATE",!1),{},(0,a.DJ)("DELETE_TEMPLATE",!1),{},(0,a.DJ)("BATCH_TASK",!1),{CANCEL_BATCH_TASK:"CANCEL_BATCH_TASK",SET_NODE_IS_EXTERNAL:"SET_NODE_IS_EXTERNAL",SET_NODE_IS_SHARE_FOLDER:"SET_NODE_IS_SHARE_FOLDER"},(0,a.DJ)("POST_PASSWORD_INPUT",!1),{},(0,a.DJ)("ISV_CONFIG",!0),{},(0,a.DJ)("APPEAL",!1),{},(0,a.DJ)("APPEAL_STATUS",!1),{},(0,a.DJ)("FETCH_MOVE_REVIEWER",!1),{},(0,a.DJ)("APPLY_MOVE_SUITE",!1)),l="FETCH_PAGED_DATA",f={FETCH_LATEST_GUIDE:"FETCH_LATEST_GUIDE",HOME_GUIDE_PREPARE:"HOME_GUIDE_PREPARE",HOME_GUIDE_READY:"HOME_GUIDE_READY",SHARED_DOC_GUIDE_PREPARE:"SHARED_DOC_GUIDE_PREPARE",SHARED_DOC_GUIDE_READY:"SHARED_DOC_GUIDE_READY",UNDO_REDO_GUIDE_CHECK_STATE:"UNDO_REDO_GUIDE_CHECK_STATE",UNDO_REDO_GUIDE_SET_ON:"UNDO_REDO_GUIDE_SET_ON",UNUSED_DOC_FEATURE_CHECK:"UNUSED_DOC_FEATURE_CHECK",CANCEL_UNUSED_HOME_FEATURE_GUIDE:"CANCEL_UNUSED_HOME_FEATURE_GUIDE",CANCEL_UNUSED_DOC_FEATURE_GUIDE:"CANCEL_UNUSED_DOC_FEATURE_GUIDE",SET_SPACE_TUTORIAL_CREATE_MENU_VISIBLE:"SET_SPACE_TUTORIAL_CREATE_MENU_VISIBLE",SPACE_TUTORIAL_IMPORT_CENTER:"SPACE_TUTORIAL_IMPORT_CENTER",SPACE_TUTORIAL_SHARE_FOLDER:"SPACE_TUTORIAL_SHARE_FOLDER",SPACE_TUTORIAL_NEW_DOC:"SPACE_TUTORIAL_NEW_DOC",SPACE_TUTORIAL_SHOW_SHARE_FOLDER:"SPACE_TUTORIAL_SHOW_SHARE_FOLDER",SPACE_SHARE_WITH_ME_V2:"SPACE_SHARE_WITH_ME_V2",INIT_PREFERENCE_OPTIONS:"INIT_PREFERENCE_OPTIONS",TOGGLE_PREFERENCE_OPTION:"TOGGLE_PREFERENCE_OPTION",WIKI_SIDEBAR_GUIDE_PREPARE:"WIKI_SIDEBAR_GUIDE_PREPARE",WIKI_SIDEBAR_SELECTED_MENU_OPENING:"WIKI_SIDEBAR_SELECTED_MENU_OPENING"},d=(0,a.U3)({FETCH_SUCC:"FETCH_SUCC",FETCH_FAIL:"FETCH_FAIL"},s.L.REQUEST),T=(0,a.U3)({OPEN_MODAL:"OPEN_MODAL",CLOSE_MODAL:"CLOSE_MODAL",CLOSE_ALL_MODAL:"CLOSE_ALL_MODAL",CONFIRM_OR_CANCEL_ACTION_FROM_MODAL:"CONFIRM_OR_CANCEL_ACTION_FROM_MODAL",CLICK_CONTEXTMENU_ITEM:"CLICK_CONTEXTMENU_ITEM",CLICK_DROPDOWNMENU_ITEM:"CLICK_DROPDOWNMENU_ITEM",RIGHT_CLICK_FILE_LIST_ITEM:"RIGHT_CLICK_FILE_LIST_ITEM",CALL_TEMPLATE_CENTER:"CALL_TEMPLATE_CENTER",UPDATE_SIDEBAR_DFA_STATE:"UPDATE_SIDEBAR_DFA_STATE"},s.L.UI),p=Object.assign({},_,{explorer:E,onboarding:f,box:i.Z,ui:T,request:d,intermediate:o,account:c},r,{customIcon:{FETCH_ICON_LIST:"FETCH_ICON_LIST",FETCH_ICON_LIST_FAIL:"FETCH_ICON_LIST_FAIL"},relationGraph:{FETCH_RECENT_RELATION_GRAPH:"FETCH_RECENT_RELATION_GRAPH",FETCH_BATCH_NODES_RELATION:"FETCH_BATCH_NODES_RELATION"},todo:{TOGGLE_TODO_CENTER_PANEL:"TOGGLE_TODO_CENTER_PANEL",SET_TODO_CENTER_PANEL_OPEN_STATUS:"SET_TODO_CENTER_PANEL_OPEN_STATUS",FETCH_TODO_LIST:"FETCH_TODO_LIST",FETCH_TODO_TEMPLATE:"FETCH_TODO_TEMPLATE",CREATE_TODO_TEMPLATE:"CREATE_TODO_TEMPLATE",UPDATE_TODO_STATUS:"UPDATE_TODO_STATUS"}})},209653:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(204328),o=Object.assign({},(0,r.DJ)("OBJ_SETTINGS"),{SET_OBJ_SETTINGS:"SET_OBJ_SETTINGS",FETCH_BOX_FILE_CDN_URL:"FETCH_BOX_FILE_CDN_URL"},(0,r.DJ)("OBJ_ENTITY_INFO"),{},(0,r.DJ)("OBJ_PATHS"))},21751:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(204328),o=Object.assign({},(0,r.DJ)("CURRENT_USER"),{},(0,r.DJ)("USER_DETAIL"),{DELETE_CURRENT_USER:"DELETE_CURRENT_USER"},(0,r.DJ)("MINA_CONFIG"),{PASSPORT_HEARTBEAT:"PASSPORT_HEARTBEAT",SET_USER_INFO:"SET_USER_INFO",SAVE_LOCAL_MINA_CONFIG:"SAVE_LOCAL_MINA_CONFIG",UPDATE_CURRENT_USER:"UPDATE_CURRENT_USER"})},585052:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(204328),o=Object.assign({SET_ROOT_META:"SET_ROOT_META"},(0,r.DJ)("FOLDER_PATH_V2"),{SET_FOLDER_PATH:"SET_FOLDER_PATH",DELETE_FOLDER_PATH:"DELETE_FOLDER_PATH"})},278272:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(204328),o=Object.assign({},(0,r.DJ)("EXPLORER_ROOT_TOKEN_MAP"),{LOAD_PERSISTED_ROOT_TOKEN_MAP:"LOAD_PERSISTED_ROOT_TOKEN_MAP"})},585720:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(204328),o=Object.assign({},(0,r.DJ)("CURRENT_SUITE"),{SET_CURRENT_SUITE_TOKEN:"SET_CURRENT_SUITE_TOKEN"},(0,r.DJ)("UPDATE_TITLE",!1),{},(0,r.DJ)("UPDATE_META",!1),{UPDATE_SHEET_META:"UPDATE_SHEET_META",SYNC_TAB_TITLE:"SYNC_TAB_TITLE",UPDATE_DOC_TITLE:"UPDATE_DOC_TITLE",SYNC_NOTE_META:"SYNC_NOTE_META",SET_SHOULD_PRINT:"SET_SHOULD_PRINT",UPDATE_APPEAL_STATUS:"UPDATE_APPEAL_STATUS"},(0,r.DJ)("TOKEN_INFO"),{},(0,r.DJ)("COPY_SUITE",!1),{CHECK_SUITE_EXTERNAL:"CHECK_SUITE_EXTERNAL",UPDATE_SUITE_VISIBILITY_STATE:"UPDATE_SUITE_VISIBILITY_STATE"},(0,r.DJ)("POST_RECENT_REPORT",!1),{SET_HELP_BTN_VISIBLE:"SET_HELP_BTN_VISIBLE",SET_HELP_BTN_ACTIVATED:"SET_HELP_BTN_ACTIVATED",SET_HELP_SIDE_BAR_VISIBLE:"SET_HELP_SIDE_BAR_VISIBLE"},(0,r.DJ)("SUITE_WIKI_INFO"),{},(0,r.DJ)("BATCH_WIKI_INFO_V1"),{},(0,r.DJ)("BATCH_WIKI_INFO_V2"),{},(0,r.DJ)("BATCH_SPACE_INFO_BY_WIKI_TOKEN_V1"),{},(0,r.DJ)("BATCH_SPACE_INFO_BY_WIKI_TOKEN_V2"),{REMOVE_SUITE_WIKI_INFO:"REMOVE_SUITE_WIKI_INFO",SET_CUSTOM_ICON:"SET_CUSTOM_ICON"},(0,r.DJ)("WIKI_ENTITY",!0),{UPDATE_WIKI_ENTITY:"UPDATE_WIKI_ENTITY",SET_EXPLORER_WIKI_ENTITY:"SET_EXPLORER_WIKI_ENTITY"},(0,r.DJ)("OBJ_CONTAINER_V2"),{},(0,r.DJ)("SHORTCUTS_CONTAINER_V2"),{FETCH_SHORTCUTS_CONTAINER_V2_WITHIN_PARAMS:"FETCH_SHORTCUTS_CONTAINER_V2_WITHIN_PARAMS"},(0,r.DJ)("SHORTCUT_LIST_FROM_OBJ_V2"),{FETCH_SHORTCUT_LIST_FROM_OBJ_V2_WITHIN_PARAMS:"FETCH_SHORTCUT_LIST_FROM_OBJ_V2_WITHIN_PARAMS",CLEAR_OBJ_CONTAINER_V3:"CLEAR_OBJ_CONTAINER_V3",FETCH_SUITE_ALL_PATH:"FETCH_SUITE_ALL_PATH",UPDATE_OBJ_CONTAINER_TOKEN_V2:"UPDATE_OBJ_CONTAINER_TOKEN_V2"},(0,r.DJ)("FETCH_OBJ_META",!1))},406005:function(e,t,n){"use strict";function r(e){var t=document.cookie.match(new RegExp("(?:^|;)\\s*".concat(e,"=([^;]+)")));return window.decodeURIComponent(t?t[1]:"")}function o(e,t,n,r,o){var i=[[e,t||""],["path","/"]];if(n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3),i.push(["expires",a.toUTCString()])}r&&i.push(["domain",r]),o&&(i=i.concat(o)),document.cookie=i.reduce((function(e,t,n){return"".concat(e).concat(0===n?"":";").concat(t.join("="))}),"")}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/";document.cookie="".concat(e,"=; path=").concat(n,"; domain=").concat(t,"; max-age=0")}n.d(t,{ej:function(){return r},d8:function(){return o},kT:function(){return i}})},698686:function(e,t,n){"use strict";function r(){var e=[].slice.call(arguments,0);return 1===e.length?e[0]:function(){for(var t=0;t<e.length;t++)e[t]&&e[t].apply&&e[t].apply(this,arguments)}}n.d(t,{Z:function(){return r}})},492894:function(e,t){"use strict";var n=new Map,r={set:function(e,t){n.clear(),n.set(e,t)},get:function(e){return n.get(e)||null},delete:function(e){n.delete(e)}};t.Z=r},586536:function(e,t,n){"use strict";var r=n(265498);function o(e){return"function"==typeof Node?e instanceof Node:e&&"object"===(0,r.Z)(e)&&e.nodeName&&e.nodeType>=1&&e.nodeType<=12}function i(e){if(1===e.length)return o(e[0])?e[0]:document.createTextNode("".concat(e[0]));for(var t=document.createDocumentFragment(),n=0;n<e.length;n++)t.appendChild(o(e[n])?e[n]:document.createTextNode("".concat(e[n])));return t}[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach((function(e){e.hasOwnProperty("append")||Object.defineProperty(e,"append",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments);this.appendChild(i(e))}}),e.hasOwnProperty("prepend")||Object.defineProperty(e,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments);this.insertBefore(i(e),this.firstChild)}})}))},676191:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(144301);function o(){(0,r.B)((function(e){0}))}},93649:function(e,t,n){"use strict";n.d(t,{V:function(){return a}});var r=n(265498),o=n(648025),i=n(359980),a=function(e){var t;try{t=window[e];var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}("localStorage"),c={getItem:function(e){if(!a)return{};var t,n=u(e),r=n.name,o=n.path,c=localStorage.getItem(r)||"{}";try{var s=JSON.parse(c);t=o.length?(0,i.default)(s,o):s}catch(e){t=c}return t},setItem:function(e,t){if(a){var n=u(e),o=n.name,i=n.path,s=c.getItem(o);"object"!==(0,r.Z)(s)&&(s={}),i.length?function(e,t,n){var o=e,i=0;"string"==typeof t&&(t=t.split("."));for(var a=t.length;i<a-1;i++){var c=t[i];o[c]="object"===(0,r.Z)(o[c])?o[c]:{},o=o[c]}o[t[i]]=n}(s,i,t):s=t,localStorage.setItem(o,JSON.stringify(s))}},setItemSafely:function(e,t){try{c.setItem(e,t)}catch(e){}},removeItem:function(e){if(a){var t=u(e),n=t.path,r=t.name;if(n.length){var i=c.getItem(r)||{};(0,o.Z)(i,n),c.setItem(r,i)}else localStorage.removeItem(e)}},clear:function(){if(a)try{localStorage.clear()}catch(e){}}};function u(e){var t=e.split("."),n=t.splice(0,1)[0];return{path:t,name:n}}t.Z=c},940386:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(742097),o=n(497754),i=n.n(o),a=n(215661),c=n(671914);function u(){var e=document.body,t="0"===(0,c.mB)(r.Z.search).iframe,n=window.parent!==window,o=a.Z.isChrome&&parseInt(a.Z.version.toString(),10)>=96&&parseInt(a.Z.version.toString(),10)<98;e.className=i()(e.className,{"iframe-mode":!t&&n,windows:a.Z.windows,opendoc:a.Z.isOpendoc,chrome96:o})}},164596:function(e,t,n){"use strict";n.d(t,{jV:function(){return c},Wb:function(){return s},xW:function(){return _},ei:function(){return E},Es:function(){return l},iq:function(){return f},f9:function(){return d},gB:function(){return T},Tf:function(){return p}});var r=n(432459),o=n(742097),i=n(217376),a=n(339956),c=function(e,t,n){return(0,r.Z)(function(e){return function(t){return t&&t.plugins&&t.plugins[e]}}(t),function(e){return function(t){return t&&t[e]}}(n))(e)},u=0;function s(){return u++,(0,i.zs)(6)+"-"+u}function _(){return window.bestPracticeToken?window.bestPracticeToken:o.Z.pathname?(0,a.LP)():""}function E(){return window.User?window.User.id:"unknown"}function l(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function f(){return(0,i.zs)(8)}function d(e){return e&&(e.tagName||"").toLowerCase()}function T(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=1024;if(Math.abs(e)<n)return e+" B";for(var r=["KB","MB","GB","TB","P","E","Z","Y"],o=-1;Math.abs(e)>=n&&o<r.length;)e/=n,++o;return t?e.toFixed(2)+r[o]:Math.floor(e)+r[o]}function p(e){var t=(new DOMParser).parseFromString(e,"text/html");return Array.from(t.body.childNodes).some((function(e){return 1===e.nodeType}))}},338024:function(e,t,n){"use strict";n.r(t),n.d(t,{Provider:function(){return E},ReactReduxContext:function(){return o},batch:function(){return ee.unstable_batchedUpdates},connect:function(){return K},connectAdvanced:function(){return D},createDispatchHook:function(){return J},createSelectorHook:function(){return Q},createStoreHook:function(){return j},setIncompatibilityWarningHandler:function(){return s.B},shallowEqual:function(){return y},useDispatch:function(){return X},useSelector:function(){return $},useStore:function(){return Y}});var r=n(165235),o=(n(56509),r.createContext(null));var i=function(e){e()},a=function(){return i},c={notify:function(){}};var u=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=c,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var e=a(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=c)},e}(),s=n(144301);function _(e){return e&&"function"==typeof e.getState?e.getState():((0,s.f)("[Incompatibility warning from React Redux 7.2.0] Invalid store",e),null)}var E=function(e){var t=e.store,n=e.context,i=e.children,a=(0,r.useMemo)((function(){var e=new u(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),c=(0,r.useMemo)((function(){return _(t)}),[t]);(0,r.useEffect)((function(){var e=a.subscription;return e.trySubscribe(),c!==_(t)&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,c]);var s=n||o;return r.createElement(s.Provider,{value:a},i)},l=n(950098),f=n(346862),d=n(274463),T=n.n(d),p=n(307688),S="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect,I=[],O=[null,null],R="[Incompatibility warning from React Redux 7.2.0] ";function m(e,t){var n=e[1];return[t.payload,n+1]}function A(e,t,n){S((function(){return e.apply(void 0,t)}),n)}function C(e,t,n,r,o,i,a){e.current=r,t.current=o,n.current=!1,i.current&&(i.current=null,a())}function h(e,t,n,r,o,i,a,c,u,_,E){if(e){var l=!1,f=null,d=function(){if(!l){var e,n,s=t.getState();try{e=r(s,o.current)}catch(e){n=e,f=e}n||(f=null),e===i.current?a.current||u():(i.current=e,c.current=e,a.current=!0,_({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=d,n.trySubscribe(),d();return function(){l=!0,n.tryUnsubscribe(),n.onStateChange=null,f&&(0,s.f)(R+"The following error was thrown when checking state or props updates for component %O\n\n",E,f)}}}var v=function(){return[null,0]};function D(e,t){void 0===t&&(t={});var n=t,i=n.getDisplayName,a=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,c=n.methodName,_=void 0===c?"connectAdvanced":c,E=n.renderCountProp,d=void 0===E?void 0:E,S=n.shouldHandleStateChanges,D=void 0===S||S,N=n.storeKey,L=void 0===N?"store":N,y=n.withRef,P=void 0!==y&&y,g=n.forwardRef,M=void 0!==g&&g,b=n.context,k=void 0===b?o:b,w=(0,f.Z)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);P&&void 0===g&&(M=P);var H=k;return function(t){void 0!==d&&(0,s.f)(R+"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension %O",t),P&&(0,s.f)(R+"withRef is removed. To access the wrapped instance, use a ref on the connected component %O",t);"store"!==L&&(0,s.f)(R+"storeKey has been removed and does not do anything. To use a custom Redux store for specific components, create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect %O",t),P&&t.prototype&&(t.prototype.getWrappedInstance?"deprecatedGetWrappedInstance"!==t.prototype.getWrappedInstance.name&&(0,s.f)(R+"ref.getWrappedInstance().getWrappedInstance is removed. Please use ref.getWrappedInstance directly %O",t):(t.prototype.getWrappedInstance=function(){return(0,s.f)(R+"ref.getWrappedInstance is removed. Please use ref directly to access the wrapped instance of component %O",t),this},Object.defineProperty(t.prototype,"wrappedInstance",{get:function(){return(0,s.f)(R+"ref.wrappedInstance is removed. Please use ref directly to access the wrapped instance of component %O",t),this},set:function(){}})));var n=t.displayName||t.name||"Component",o=a(n),i=(0,l.Z)({},w,{getDisplayName:a,methodName:_,renderCountProp:d,shouldHandleStateChanges:D,storeKey:L,displayName:o,wrappedComponentName:n,WrappedComponent:t}),c=w.pure;var E=c?r.useMemo:function(e){return e()};function S(n){var o=(0,r.useMemo)((function(){var e=n.forwardedRef,t=(0,f.Z)(n,["forwardedRef"]);return[n.context,e,t]}),[n]),a=o[0],c=o[1],s=o[2],_=(0,r.useMemo)((function(){return a&&a.Consumer&&(0,p.isContextConsumer)(r.createElement(a.Consumer,null))?a:H}),[a,H]),d=(0,r.useContext)(_),T=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(d)&&Boolean(d.store);var S=T?n.store:d.store,R=(0,r.useMemo)((function(){return function(t){return e(t.dispatch,i)}(S)}),[S]),N=(0,r.useMemo)((function(){if(!D)return O;var e=new u(S,T?null:d.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[S,T,d]),L=N[0],y=N[1],P=(0,r.useMemo)((function(){return T?d:(0,l.Z)({},d,{subscription:L})}),[T,d,L]),g=(0,r.useReducer)(m,I,v),M=g[0][0],b=g[1];if(M&&M.error)throw M.error;var k=(0,r.useRef)(),w=(0,r.useRef)(s),U=(0,r.useRef)(),F=(0,r.useRef)(!1),Z=E((function(){return U.current&&s===w.current?U.current:R(S.getState(),s)}),[S,M,s]);A(C,[w,k,F,s,Z,U,y]),A(h,[D,S,L,R,w,k,F,U,y,b,t],[S,L,R]);var x=(0,r.useMemo)((function(){return r.createElement(t,(0,l.Z)({},Z,{ref:c}))}),[c,t,Z]);return(0,r.useMemo)((function(){return D?r.createElement(_.Provider,{value:P},x):x}),[_,x,P])}var N=c?r.memo(S):S;if(N.WrappedComponent=t,N.displayName=o,M){var y=r.forwardRef((function(e,t){return r.createElement(N,(0,l.Z)({},e,{forwardedRef:t}))}));return y.displayName=o,y.WrappedComponent=t,T()(y,t)}return T()(N,t)}}var N=n(265498);function L(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function y(e,t){if(L(e,t))return!0;if("object"!==(0,N.Z)(e)||null===e||"object"!==(0,N.Z)(t)||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!L(e[n[o]],t[n[o]]))return!1;return!0}var P=n(158181);function g(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function M(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function b(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=M(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=M(o),o=r(t,n)),o},r}}var k=[function(e){return"function"==typeof e?b(e):void 0},function(e){return e?void 0:g((function(e){return{dispatch:e}}))},function(e){return e&&"object"===(0,N.Z)(e)?g((function(t){return(0,P.bindActionCreators)(e,t)})):void 0}];var w=[function(e){return"function"==typeof e?b(e):void 0},function(e){return e?void 0:g((function(){return{}}))}];function H(e,t,n){return(0,l.Z)({},n,{},e,{},t)}var U=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(t,n,c){var u=e(t,n,c);return a?o&&i(u,r)||(r=u):(a=!0,r=u),r}}}(e):void 0},function(e){return e?void 0:function(){return H}}];function F(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function Z(e,t,n,r,o){var i,a,c,u,s,_=o.areStatesEqual,E=o.areOwnPropsEqual,l=o.areStatePropsEqual,f=!1;function d(o,f){var d,T,p=!E(f,a),S=!_(o,i);return i=o,a=f,p&&S?(c=e(i,a),t.dependsOnOwnProps&&(u=t(r,a)),s=n(c,u,a)):p?(e.dependsOnOwnProps&&(c=e(i,a)),t.dependsOnOwnProps&&(u=t(r,a)),s=n(c,u,a)):S?(d=e(i,a),T=!l(d,c),c=d,T&&(s=n(c,u,a)),s):s}return function(o,_){return f?d(o,_):(c=e(i=o,a=_),u=t(r,a),s=n(c,u,a),f=!0,s)}}function x(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=(0,f.Z)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,i),c=r(e,i),u=o(e,i);return(i.pure?Z:F)(a,c,u,e,i)}function B(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+(0,N.Z)(e)+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function W(e,t){return e===t}function G(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?D:n,o=t.mapStateToPropsFactories,i=void 0===o?w:o,a=t.mapDispatchToPropsFactories,c=void 0===a?k:a,u=t.mergePropsFactories,s=void 0===u?U:u,_=t.selectorFactory,E=void 0===_?x:_;return function(e,t,n,o){void 0===o&&(o={});var a=o,u=a.pure,_=void 0===u||u,d=a.areStatesEqual,T=void 0===d?W:d,p=a.areOwnPropsEqual,S=void 0===p?y:p,I=a.areStatePropsEqual,O=void 0===I?y:I,R=a.areMergedPropsEqual,m=void 0===R?y:R,A=(0,f.Z)(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),C=B(e,i,"mapStateToProps"),h=B(t,c,"mapDispatchToProps"),v=B(n,s,"mergeProps");return r(E,(0,l.Z)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:C,initMapDispatchToProps:h,initMergeProps:v,pure:_,areStatesEqual:T,areOwnPropsEqual:S,areStatePropsEqual:O,areMergedPropsEqual:m},A))}}var K=G();function V(){return(0,r.useContext)(o)}function j(e){void 0===e&&(e=o);var t=e===o?V:function(){return(0,r.useContext)(e)};return function(){return t().store}}var Y=j();function J(e){void 0===e&&(e=o);var t=e===o?Y:j(e);return function(){return t().dispatch}}var X=J(),q=function(e,t){return e===t};function Q(e){void 0===e&&(e=o);var t=e===o?V:function(){return(0,r.useContext)(e)};return function(e,n){void 0===n&&(n=q);var o=t();return function(e,t,n,o){var i,a=(0,r.useReducer)((function(e){return e+1}),0)[1],c=(0,r.useMemo)((function(){return new u(n,o)}),[n,o]),s=(0,r.useRef)(),_=(0,r.useRef)(),E=(0,r.useRef)();try{i=e!==_.current||s.current?e(n.getState()):E.current}catch(e){throw s.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+s.current.stack+"\n\n"),e}return S((function(){_.current=e,E.current=i,s.current=void 0})),S((function(){function e(){try{var e=_.current(n.getState());if(t(e,E.current))return;E.current=e}catch(e){s.current=e}a({})}return c.onStateChange=e,c.trySubscribe(),e(),function(){return c.tryUnsubscribe()}}),[n,c]),i}(e,n,o.store,o.subscription)}}var z,$=Q(),ee=n(129108);z=ee.unstable_batchedUpdates,i=z},144301:function(e,t,n){"use strict";n.d(t,{f:function(){return a},B:function(){return c}});var r=[],o=null;function i(){if(o){var e=r;r=[],o(e)}}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.push(t),i()}function c(e){o=e,i()}},835010:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(204328),o=Object.assign({},(0,r.DJ)("PATH_TREE"),{},(0,r.DJ)("PATH_TREE_FILE_META"),{},(0,r.DJ)("PATH_TREE_SPECIAL_FILE_META"))},896019:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(204328),o=Object.assign({},(0,r.DJ)("RECENT_FOLDER_PATH"),{},(0,r.DJ)("PARENT_FOLDER_PATH"))},778669:function(e,t,n){"use strict";n.d(t,{HP:function(){return Z},in:function(){return V},kM:function(){return q},GQ:function(){return x},$S:function(){return G}});var r=n(367017),o=n.n(r),i=n(335067),a=n(265498),c=n(462674),u=n(529644),s=n.n(u),_=n(893835),E=n(481382),l=n(857720),f=n(215661),d=n(77112),T=n(55157),p=n(44014),S=n(339956),I=n(443431),O=n(671914),R=n(746986),m=n(406005),A=n(360851),C=n(195094),h=n.n(C),v=n(267824),D=n(218281),N=function(e){var t=window.navigator.cdn_host,n=/\/\/.*\.(com)/.exec(e),r=e;return n&&n[0]&&t&&(r=e.replace(n[0],t)),r},L=function(){"object"===(0,a.Z)(window.bearGarr)&&Object.keys(window.bearGarr).forEach((function(e){"object"===(0,a.Z)(window.bearGarr[e])&&(window.bearGarr[e].source_url&&(window.bearGarr[e].source_url=N(window.bearGarr[e].source_url)),window.bearGarr[e].preload_script_url&&(window.bearGarr[e].preload_script_url=N(window.bearGarr[e].preload_script_url)))}))},y=n(294759),P="last_access_scm_version",g=E.DevInfo.GARR_DOCS_STAGE,M=decodeURIComponent((0,m.ej)(g)),b=(0,m.ej)(v.ZP),k=(0,m.ej)(v.vB),w=(0,m.ej)(P),H=M?JSON.parse(M):{},U=!1,F=[];function Z(){return F}function x(e){F=e}function B(e){var t=e.url,n=e.appId,r=e.version,o={user_id:window.User.id,tenant_id:window.User.tenantId,templateBranch:window.scm.branch,scmVersion:window.scm.version,cdnHost:navigator.cdn_host},i="".concat(t,"?appId=").concat(n,"&version=").concat(r);return s().get(i,{withCredentials:!1,timeout:3e3,params:Object.assign({platform:"web"},o,{},h(),{env:window._env},H,{},(0,O.Mo)())}).then((function(e){return e.data}))}function W(){var e=(0,O.Mo)(),t=e.vs||e.vdx||e.vsh||e.vb||e.vbt||e.vtc;(0,R.collectSuiteEvent)("client_garr_require_dev",{stage:"get_garr_info",extra:JSON.stringify({GarrMasterConfig:(0,m.ej)(v.ZP),GarrTemplateBranch:(0,m.ej)(v.vB)})});var n,r,o,i,a,c,u,s=(0,v.aN)(h()),_=!1,E=(0,A.k8)("ccm.platform.use_inject_garr"),p=window.isFastSpaceTemplate,S=(n=window.bearGarr)&&(0===n.code||200===n.code)&&Y(n).length>0,I=window.bearGarr&&X(window.bearGarr),C=w!==window.scm.version;if(C&&(0,m.d8)(P,window.scm.version,365),I&&l.ZP.ravenCatch("micro version abnormal",{extras:{garrMasterVersionsCookie:b,garrBaseTemplateBranchCookie:k,urlSearch:window.location.search,bitable_version:null===(r=window.bearGarr)||void 0===r||null===(o=r.bitable)||void 0===o?void 0:o.version,docx_version:null===(i=window.bearGarr)||void 0===i||null===(a=i.docx)||void 0===a?void 0:a.version,sheet_version:null===(c=window.bearGarr)||void 0===c||null===(u=c.sheet)||void 0===u?void 0:u.version}}),(!E||f.Z.isInVC||C||p||!S||s&&!t||t||I)&&(_=!0,console.log("use backup bearGarr！！！")),(0,R.collectSuiteEvent)("client_garr_require_dev",{stage:"is_async_get_garr",extra:JSON.stringify({useInjectGarrEnable:E,isFastSpaceTemplate:p,bearGarrDataCorrect:S,isGarrCookieUpdated:s,hasVersionInfo:t,isGa:I,needAsyncGetGarrConfig:_,isLastAccessScmVersionChanged:C,localGarrModule:window.local&&window.local.localGarrModules,docx_version:!_&&J("docx"),bitable_version:!_&&J("bitable"),sheet_version:!_&&J("sheet")})}),!_&&window.bearGarr&&(!window.local||!window.local.localGarrModules)){console.log("====== use inject bearGarr =======");var D=window.bearGarr;if(Object.keys(D).length)return D.data=Y(D),window.$$needAsyncGetGarrConfig$$=!1,Promise.resolve(D)}window.$$needAsyncGetGarrConfig$$=!0;var N=(0,d.Yy)("garrMina"),L=N.url,y=N.appId,g=N.version;return(0,T.R)(B,{max:2,interval:200})({url:L,appId:y,version:g}).then((function(e){var t=!1;if(e=e.payload,window.bearGarr){var n,r,o,i,a=window.bearGarr,c=a.docx,u=a.releaseConfig,s=void 0===u?"":u;if(window.local&&window.local.localGarrModules||!s||!c||(e.docx=c,e.releaseConfig=s,t=!0),(!window.local||!window.local.localGarrModules)&&(0,A.k8)("ccm.tpl.new_devops_gray")&&s)null!==(n=window.bearGarr)&&void 0!==n&&n["template-center"]&&(e["template-center"]=window.bearGarr["template-center"]),null!==(r=window.bearGarr)&&void 0!==r&&r["bottom-template"]&&(e["bottom-template"]=window.bearGarr["bottom-template"]),null!==(o=window.bearGarr)&&void 0!==o&&o.sheet&&(e.sheet=window.bearGarr.sheet),null!==(i=window.bearGarr)&&void 0!==i&&i.bitable&&(e.bitable=window.bearGarr.bitable)}if(0===e.code||200===e.code){var _=[];for(var E in e)j(e[E])&&_.push(e[E]);e.data=_;try{var l={user_id:window.encryptTea&&window.encryptTea(window.User.id),tenant_id:window.User.tenantId,templateBranch:window.scm.branch,scmVersion:window.scm.version,cdnHost:navigator.cdn_host},f="".concat(L,"?appId=").concat(y,"&version=").concat(g),d={withCredentials:!1,timeout:3e3,params:Object.assign({platform:"web"},l,{},h(),{env:window._env},H,{},(0,O.Mo)())};(0,R.collectSuiteEvent)("client_garr_require_dev",{stage:"fetch_garr_success",extra:JSON.stringify(Object.assign({isUseReleaseConfig:t,realUrl:f},d,{response:e.data&&e.data.length>0&&e.data.map((function(e){return{name:e.name,version:e.version}}))}))})}catch(e){console.warn("upload log error",e)}return Promise.resolve(e)}return console.error("接口返回出错！"),Promise.reject(e)}),(function(e){return Promise.reject(e)}))}function G(){return(0,p.locateRoute)().isSlide||(0,p.isUnderWiki)()||(0,p.locateRoute)().isSheet||(0,p.locateRoute)().isBitable||(0,p.locateRoute)().isDocx}var K=null;function V(e){return e=e||{},G()||e.loadModule?(K=K||function(e,t,n){return t(n).then((function(e){return e&&Y(e).length?X(e)?Promise.reject(new Error("async fetch garr config exist ga version")):Promise.resolve(e):(console.warn("error remote bearGarr data"),Promise.reject(e))})).catch((function(e){try{var t=window.bearGarr&&Y(window.bearGarr).length>0&&!X(window.bearGarr);return window.bearGarr=t?window.bearGarr:D.Z,L(),window.bearGarr.data=Y(window.bearGarr),U=!0,console.warn("bearGarr backup from: ".concat(t?"window.bearGarr":"bearGarrList")),(0,R.collectSuiteEvent)("client_pc_utils_module_dev",{stage:"get_module_list_retry_error",error:e&&e.stack||"object"===(0,a.Z)(e)&&JSON.stringify(e)||String(e)}),Promise.resolve(window.bearGarr)}catch(e){return console.warn("bearGarr backup failed"),Promise.reject(new Error("bearGarr backup failed"))}}))}(0,W,e).then((function(e){window.bearGarr=e,L(),(0,I.kp)(),setTimeout((function(){(0,v.OJ)(e.data||[])}),0);var t=[],n=[],r=e.data.reduce((function(e,r){window["scm".concat(r.name)]=Object.assign({},window["scm".concat(r.name)]||{},{},r);var o=Object.assign({},window["scm".concat(r.name)],{module:r.name,path:r.path,preload:!1,js_source_url:r.source_url,type:r.type});if(H["stage_".concat(r.name)]!==r.stage&&delete H["stage_".concat(r.name)],"index"===o.module)o.loadCondition=function(){return Promise.resolve(!0)},o.preRender=function(){return Promise.resolve(!0)};else(0,v.Yx)(o.type)?n.push(o):t.push(o),e[o.module]={js_source_url:o.js_source_url};return(0,m.d8)(g,encodeURIComponent(JSON.stringify(H)),365),e}),{});return{navs:t,dynamicComponentNavs:n,paths:r}})).then((function(e){var t,n,r,o,i,a,u,s,E,l;E=e.paths,l=Object.keys(E).map((function(e){return{name:e,entry:E[e].js_source_url,cache:!0}})),c.Z.setOptions({disablePreloadApp:!0,sandbox:!1,autoRefreshApp:!1,disableStatistics:!0}),c.Z.registerApp(l),(0,v.Lc)("navs",e.navs),(0,v.Lc)("dynamicComponentNavs",e.dynamicComponentNavs),(0,v.Lc)("paths",e.paths),x(e.navs);var f={scmsheet:null===(t=window.scmsheet)||void 0===t?void 0:t.version,scmbitable:null===(n=window.scmbitable)||void 0===n?void 0:n.version,scmdocx:null===(r=window.scmdocx)||void 0===r?void 0:r.version,isAsyncGetGarrConfig:window.$$needAsyncGetGarrConfig$$,lastAccessScmVersion:w,lastGarrMasterVersions:b,lastGarrBaseTemplateBranch:k,isBackupConfig:U},d=(0,_.sB)();return d?d("Sentry",(function(e){e.configureScope((function(e){e.setExtras(f)}))})):(0,_._e)(f),(0,R.collectSuiteEvent)("client_garr_require_dev",{stage:"init_apps_config",docx_scm_version:null===(o=window.scmdocx)||void 0===o?void 0:o.version,sheet_scm_version:null===(i=window.scmsheet)||void 0===i?void 0:i.version,bitable_scm_version:null===(a=window.scmbitable)||void 0===a?void 0:a.version,bottomTemplate_scm_version:null===(u=window["scmbottom-template"])||void 0===u?void 0:u.version,templateCenter_scm_version:null===(s=window["scmtemplate-center"])||void 0===s?void 0:s.version}),e})).catch((function(e){console.error(e),(0,R.collectSuiteEvent)("client_pc_utils_module_dev",{stage:"get_module_list_error",error:e&&e.stack||String(e)})})),K):((0,v.Lc)("navs",[{module:"slide",name:"slide",path:"/slide/:token?",preload:!1},{module:"wiki",name:"wiki",path:["/wiki/","/wiki/:token","/wiki/setting/:spaceId"],preload:!1},{module:"sheet",name:"sheet",path:"/sheet/:token?",preload:!1},{module:"bitable",name:"bitable",path:"/bitable/:token?",preload:!1},{module:"docx",name:"docx",path:"/docx/:token?",preload:!1}]),Promise.resolve())}function j(e){return(0,v.Yx)(e.type)?e.name&&e.source_url:e.name&&e.path&&e.source_url}function Y(e){var t=[];for(var n in e)j(e[n])&&t.push(e[n]);return t}function J(e){return window.bearGarr&&window.bearGarr[e]&&window.bearGarr[e].version}function X(e){return["bitable","docx","sheet"].some((function(t){return e[t]&&"ga"===e[t].stage}))}var q=y?function(){}:function(){var e=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("loadExternalFirst: ",t),e.t0=t,e.next="sheet"===e.t0?4:"bitable"===e.t0?9:"docx"===e.t0?12:15;break;case 4:return n.e(66951).then(n.bind(n,254338)).then((function(e){e.preloadSheetData((0,S.LP)())})),n.e(57173).then(n.bind(n,847195)).then((function(e){e.checkShouldPreLoadSmartableJS()})),e.next=8,Promise.all([n.e(56593),n.e(14455),n.e(37472),n.e(80534),n.e(2919),n.e(18404),n.e(46269),n.e(27138)]).then(n.bind(n,348419));case 8:case 11:case 14:return e.abrupt("break",17);case 9:return e.next=11,Promise.all([n.e(56593),n.e(14455),n.e(37472),n.e(89451),n.e(15435),n.e(18404),n.e(82657)]).then(n.bind(n,431624));case 12:return e.next=14,Promise.all([n.e(14455),n.e(37472),n.e(59008),n.e(2919),n.e(19306),n.e(75539),n.e(46269),n.e(64901)]).then(n.bind(n,774044));case 15:return e.next=17,Promise.all([n.e(14455),n.e(37472),n.e(89451),n.e(98041),n.e(15435),n.e(75539),n.e(46269),n.e(28421),n.e(10330)]).then(n.bind(n,556230));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},754703:function(e,t,n){"use strict";n.d(t,{T:function(){return o},c:function(){return i}});var r=n(742097);function o(){return/slideSSR=true/.test(r.Z.search)}function i(){return Boolean(window.docSSR)}},969458:function(e,t,n){"use strict";var r=n(950098),o=n(26278),i=n(165235),a=["styles"];t.Z=function(e){e.styles;var t=(0,o.Z)(e,a);return i.createElement("svg",(0,r.Z)({width:"20",height:"21",viewBox:"0 0 20 21",fill:"none"},t),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 12.17a3 3 0 11-2.9 3.75H8.43a4.53 4.53 0 000-1.5h4.65A3 3 0 0116 12.17zM7.07 8.59c.38.32.82.59 1.3.77l-2.23 3.7A2.99 2.99 0 014 18.18a3 3 0 11.85-5.88l2.22-3.7zM10 2.17a3 3 0 012.14 5.1l2.22 3.7c-.47.2-.9.46-1.29.78l-2.22-3.7A3 3 0 1110 2.17z",fill:"currentColor"}))}},446266:function(e,t,n){"use strict";var r=n(950098),o=n(26278),i=n(165235),a=["styles"];t.Z=function(e){e.styles;var t=(0,o.Z)(e,a);return i.createElement("svg",(0,r.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},t),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5 4c0-1.1.9-2 2-2h15a2 2 0 012 2v16a2 2 0 01-2 2h-15a2 2 0 01-2-2V4zm6 0h-4v16h4V4zM13 7a1 1 0 100 2h4a1 1 0 100-2h-4zm-1 5a1 1 0 011-1h2a1 1 0 110 2h-2a1 1 0 01-1-1z",fill:"#646A73"}))}},938127:function(e,t,n){"use strict";var r=n(950098),o=n(26278),i=n(165235),a=["styles"];t.Z=function(e){e.styles;var t=(0,o.Z)(e,a);return i.createElement("svg",(0,r.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},t),i.createElement("path",{d:"M12 8a1 1 0 011-1h4a1 1 0 110 2h-4a1 1 0 01-1-1zM13 11a1 1 0 100 2h2a1 1 0 100-2h-2z",fill:"#646A73"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5 4c0-1.1.9-2 2-2h15a2 2 0 012 2v16a2 2 0 01-2 2h-15a2 2 0 01-2-2V4zm8 0h9v16h-9V4zm-2 0h-4v16h4V4z",fill:"#646A73"}))}},243190:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_PPT_nor-256x256.416d03fe15774b2d3a78.png"},764557:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_PPT_nor-32x32.3f28a279809339871987.png"},336133:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_ae_nor-256x256.56461b34847f653897f5.png"},576134:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_ae_nor-32x32.35e59a345c134fc5faa8.png"},619214:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_ai_nor-256x256.1f916f31e0bbc25024d4.png"},33630:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_ai_nor-32x32.7ecac750f4cca53bbc3c.png"},273231:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_android_nor-256x256.d85b153eda929c055dde.png"},541303:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_android_nor-32x32.fee6546b718b99667527.png"},518778:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_audio_nor-256x256.97f39ee74f96c3984604.png"},896625:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_audio_nor-32x32.e26eae2a07da9826ac37.png"},257169:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_bitable_nor-256x256.84db8ec2bb03afe151bb.png"},468342:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_bitable_nor-32x32.0e0cacddafbc7fd2d308.png"},576743:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_code_nor-256x256.07d0ebe09b7a0f08a69a.png"},3584:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_code_nor-32x32.ca1d36c0bc7f26ab7292.png"},72452:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_doc_nor-256x256.5ecc0ce2486516290b43.png"},380524:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_doc_nor-32x32.8cb0fef16653221e74b9.png"},343320:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_excel_nor-256x256.34981af21aa36ee2721d.png"},182994:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_excel_nor-32x32.09aecf8483b1b50a0eb8.png"},288326:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_image_nor-256x256.fcbadf292c54e12f9d7b.png"},851456:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_image_nor-32x32.98844cb145692590e1e5.png"},829226:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_keynote_nor-256x256.c810113592891028c8fe.png"},883199:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_keynote_nor-32x32.9b869c723568917589ee.png"},180906:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_mindnote_nor-256x256.5009f7a944c5067712ea.png"},56237:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_mindnote_nor-32x32.a3392fbca31cbddae4d2.png"},727999:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_numbers_nor-256x256.a3026f0fbd91c6790027.png"},848556:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_numbers_nor-32x32.bc06dce081d9d59a7b76.png"},322122:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_pages_nor-256x256.7d95c3ca1e1988aa9cf7.png"},98131:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_pages_nor-32x32.b084ad0c0a32eee54a3c.png"},182253:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_pdf_nor-256x256.a699dcb2914c571ea8c4.png"},508976:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_pdf_nor-32x32.67f74bfc2f84fe6f512c.png"},27032:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_ps_nor-256x256.fc438ac7fbedb6710817.png"},630415:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_ps_nor-32x32.ca985d5d0865db30fcfe.png"},771669:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_sheet_nor-256x256.48b508a5b0b886ac7654.png"},466092:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_sheet_nor-32x32.69b46cf3387bbf379604.png"},1726:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_sketch_nor-256x256.deab1081dfdfd8730982.png"},766180:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_sketch_nor-32x32.3e920fd810576a04d8e7.png"},883009:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_slide_nor-256x256.3d1c49cf204cd588a879.png"},47940:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_slide_nor-32x32.19303b718e925ca6c335.png"},459690:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_text_nor-256x256.6fe1c4c791c6e1bc8cfe.png"},772796:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_text_nor-32x32.b460a807f3fde9491697.png"},30254:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_unknow_nor-256x256.74628be0c00b619c9faf.png"},811417:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_unknow_nor-32x32.5a6ce75452aa30d4511e.png"},220498:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_video_nor-256x256.0edf35463cde1fa41432.png"},691786:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_video_nor-32x32.cc02b81cfa2f90171130.png"},494568:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_word_nor-256x256.92f50e4c1365635e4c17.png"},586751:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_word_nor-32x32.8fae8475212b9add61b3.png"},175574:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_zip_nor-256x256.d9d927a3da0898dc30e0.png"},207973:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_file_zip_nor-32x32.1a6397e17182a35746c5.png"},985523:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_global_feishu_nor-256x256.e844bc748f30713db4b8.png"},604388:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_global_feishu_nor-32x32.26d8b4fc7f02244785e9.png"},482246:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_global_feishu_nor_new-256x256.ce0d7fe72b74a76fa388.png"},321471:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_global_feishu_nor_new-32x32.735ebd07c83b512067bd.png"},721121:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_global_wiki_nor-256x256.b3bf00014dcd39b62657.png"},114991:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/src/common/assets/favicons/icon_global_wiki_nor-32x32.5d0df55366ced1f92517.png"},371237:function(){},61789:function(){},18539:function(){},962700:function(e){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/images/file_list_load_error.png"},290417:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAaDSURBVHgB3ZtNTFxVFIDPfTNt+WnrmLY0gKYD24ZKNyauHBqaAJp0IrDqooOLLtoFPwt1YxhwY6uh1aCJboDEVQsRFhQSTBg31uiigOmWmWoQwRhG5Z/hXc+5M+/5hnnD/Lz7HsN8yTDvjwvn3HPPOffc+xjYTJN/2QvKvo8xqAemXALgXmDMAxy8SQ8yiADnUTyIcODzjO/P8f0Tc9PjlRGwEQY20NT2m49x5gdFuZEiaK6gYpjKQiqLjUyPvhoCyUhTgM8f9pS5Szqx97rw1AN2gMrgjAVhF76XZRmWFeCI4KlEGbCHagxGrCrCkgKa2//oBK4GwTnBk0lYxPSjyhHIk7wUQI6NufkQHvqgECBF7LGGfKxBgRyhXkfhn0GhCE+go6X/qbnt964cfzM3C8A/8AC/cv4jToK+IfhktLIv++ezpKV1eYgzHoBjAGN8+Mnj6o6sns3mIex5Mvl6OF6EpkarGjI9lNEHUM/D8ROe8LW0Lw1leuhQBbS0LfceF7M3g3MWSPittKQdAokY/xCKg24cDqaymCogEedp3B9NgiOfKI+xq2Z5gukQYCf4LBSP8IQnkbilkKKApneWA5ZncIWJzyxRShoCwvSp94tTAUR0K7ZTExqviWoX3Ma7aCadTgjf6CvFTxlcuXxSnC8834XvQpv42QKb8ZS4T5IVBLULugU45fh67nigsaHU9N4MKuDBF1GwmSQr+N8HKGJyY6vwN9vPJAm/8HxHfDSuo2XcbD8NNqNZgUAfAszFe9H8baO8XAH/W+XieGV1H94P/gWrf+6L84sXXDD4yQV8holnxic3YWNTBbvACVMnJIaBsACq4dk99mu9biEgMTG5oQtPrODx+OS6OCZF1da4wWY8QmZIKIBxJQA2Q72ssW7SuysGhZwus6VWm4Qo2oLmAxT2JtjMYiSmH9ddPpVy/4rh2vqmjWNRgyrW9CXq9g6EvsXInhj7RNzZnYHyMkV8bgfOitBI0DO/YFi0HZRZRL7m1l/9mAB8Cw5Qh3H/XvDcoc/031+DH3/eBifgTO1QOHM5Ntennh3AOL+xkWridG3gy6hjwhNMhXo3hoTXwEEo2yNF3Hi7HPwt8bA4g1ng10P/2hr6zOBM8ZIT9ILDkMdfDO/p56QQp4UnMNZcUvBnMU17cwNld9sVAci7U1ZXUeEyvX/RcL2xocw0NBJhjB4//LSdlDhJg9YTcI4sPejWek8Ib69lflahIfMRRgcKpbLJeWUoGz5872VpwhOURVKbdiA96aZYr6W9TzGkDQz+bcnB9dx9SdQOqE1qW3aSpIidGRIx5vxPcexa9e4LBoGNbUsBZVfQEdhegShYUHbyARGQBHl+46SGnCFdK5T2DoLe/wVagPoCJCCKGp+e1yc1BIVBulaRh+nKbs8cPqdw7poDi1CvfNx3znSM0rV7eC/XnpPdnhkcXM8UUCEEFnnj9VP6P0vV3fZbK9BxZ1Wv8tK9677SrNujXpfZXjpYjM8rYrnIYiTQytvEN4/Wheen5OWr4X/06zU5lLlkt2cKykyyx+1IVSdAEsaprozSluz2NLjKQvQtFIBL4ONgAWO563bHWeGkaIxS1UcjlwRGdnumsJjYWaarFOcEa5DnugBVcgfvn0+a4BihMlfH3VXIFtntpcAgPPW4qpYOdVfKgX8GebKxocIHWOfXan5GtDWAo2zvIJwxfROVbgF+f9iz4z4VBourQ+TB6xJOLIymPDO7ZSkdlt0eHNgrkLw63LYUxBJZLxQxaOl906PVQe08KZsoie3SNpLinRvg2IeYMmy8lKSA8fiKadabDI8bNPYPbpMxDawYEWiLjA+KCYPnN2KaUKOToF2WxTQU1vgeu2Z2w1QBCTMppqHQn24nedopldhXx9W8c4NCgbx+uj2CRMbkurl1aRgYuwXHEM758PTY4Zumi3azNE6hZqdHq65lei6rqgKa0FVUZ96vpTiN6PkshCeyLqtMjVUHaDxBYcNpf3MmszeSU10pkUJ2Q2GGSJrN9kyNvdKdyy/l/9JU4ewo5TjeQxBj7+bz0pSlEgvtK05sr/PC0UC93n9YmMuE5RqTsAbXfhcwhUKlU0vtazjYP9/GyZtx328+SCuyxV+SBp+NFkHFwagswTVse3kauBJgtP0uf2WIaigXL0+rE1i3nCjol6fTER8ie/W0GSuxH8mLQnnYAcXgtTCLr1NGaLUKPds8qK6Q3a/P/wfXE8w7J0j0WAAAAABJRU5ErkJggg=="},56082:function(e,t,n){var r={"./analytics/index.js":[132840,9,49418,61550,80030,32840],"./app-config-v2/index.js":[45584,9,49418,45584],"./app-config/index.js":[813862,9,49418,13862],"./app-frame/index.js":[450419,9,18772,50419],"./appreciable/index.js":[47039,9,49418,61550,80030,47039],"./clipboard/index.js":[260688,9,60688],"./common-biz/index.js":[811554,9,49418,18772,61550,11554],"./common-biz/messenger/index.js":[828042,9,49418,18772,33013,28042],"./configuration/index.js":[599281,9,99281],"./crypto/index.js":[768552,9,68552],"./debug/index.js":[725956,9,49418,25956],"./dialog/index.js":[437421,9,49418,61550,80030,37421],"./domain/index.js":[470629,9,49418,61550,70629],"./env/index.js":[135612,9,70395],"./error-reporter/index.js":[647923,9,49418,61550,47923],"./feature-gating/index.js":[507320,9,49418,7320],"./feature-switch/index.js":[229602,9,49418,29602],"./fs/index.js":[559231,9,59231],"./history/index.js":[112956,9,12956],"./image-viewer/index.js":[289680,9,89680],"./larklet/index.js":[421789,9,18772,21789],"./log/index.js":[265945,9,65945],"./media/index.js":[272667,9,72667],"./messenger/index.js":[289419,9,49418,18772,33013,89419],"./metrics/index.js":[810561,9,10561],"./modal/index.js":[971706,9,18772,71706],"./moments/index.js":[326271,9,18772,26271],"./monitor/index.js":[988613,9,49418,88613],"./navigation/index.js":[870808,9,18772,70808],"./net-info/index.js":[687638,9,87638],"./net-status/index.js":[241710,9,49418,41710],"./notification/index.js":[125516,9,25516],"./ntp-time/index.js":[259135,9,49418,59135],"./open-external/index.js":[9282,9,9282],"./openplatform/index.js":[482580,9,82580],"./passport/index.js":[403986,9,49418,3986],"./platform/index.js":[960907,9,60907],"./power/index.js":[179424,9,79424],"./print/index.js":[925052,9,25052],"./resource/index.js":[970350,9,49418,61550,70350],"./runtime-storage/index.js":[657572,9,57572],"./screen-capture/index.js":[19553,9,18772,19553],"./screen/index.js":[686587,9,86587],"./setting-v3/index.js":[196039,9,96039],"./settings/index.js":[185176,9,49418,80750,68100],"./skin/index.js":[746681,9,46681],"./storage/index.js":[117765,9,17765],"./systeminfo/index.js":[860012,9,60012],"./timezone/index.js":[85964,9,85964],"./transport-deprecated/index.js":[530969,9,49418,30969],"./transport-mock/api/index.js":[635676,7,35676],"./transport-mock/index.js":[867096,9,67096],"./transport/api/index.js":[450826,9,49418,50826],"./transport/index.js":[798097,9,49418,98097],"./tray/index.js":[240747,9,40747],"./ui-state/index.js":[853547,9,34019],"./update/index.js":[299292,9,99292],"./user-growth/index.js":[904105,9,4105],"./video-conference/index.js":[814577,9,49418,61550,14577],"./watermark/index.js":[882090,9,49418,82090],"./window/index.js":[266112,9,18772,66112]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return Promise.all(t.slice(2).map(n.e)).then((function(){return n.t(o,16|t[1])}))}o.keys=function(){return Object.keys(r)},o.id=56082,e.exports=o}}]);
//# sourceMappingURL=//slardar.bytedance.net/api_v2/browser/jserr/get_sourcemap?bid=docs_pc&js_filename=64918.8044e98d13d818651ea6.js